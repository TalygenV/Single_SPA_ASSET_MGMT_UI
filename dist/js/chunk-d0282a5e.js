(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0282a5e","chunk-2d0df0a2"],{"38c2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{attrs:{IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"feature_id",ListData:e.ModuleFeatureList,HeaderData:e.Headers,widgets:e.widgets,showCheckBox:!1,callbackfunction:e.FetchData,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:"FetchData",LegendArray:e.LegendArray,SortExp:e.sortExp,SortBy:e.sortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["Action"==a.column.COLUMN_NAME?[t("em",{staticClass:"fa fa-pencil text-success action-icon center-icon",attrs:{title:a.column.COLUMN_NAME},on:{click:function(t){return e.Edit(a.row)}}})]:e._e()]}}])}),e.IsAddFeature?t("AddFeature"):e._e()],1)},o=[],i=a("1115"),l=a("87e2"),d={components:{AddFeature:l["default"]},data(){return{ModuleFeatureList:[],IsAddFeature:!1,sortBy:"",sortExp:"",TotalRecords:0,pageNumber:1,pageSize:10,CurrentPage:1,Headers:[{COLUMN_NAME:"module_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("moduleName"),DISPLAY_ORDER:1},{COLUMN_NAME:"sub_module_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("SubModuleName"),DISPLAY_ORDER:2},{COLUMN_NAME:"feature_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Features"),DISPLAY_ORDER:3},{COLUMN_NAME:"feature_based_on",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BasedOn"),DISPLAY_ORDER:4},{COLUMN_NAME:"Action",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Action"),DISPLAY_ORDER:5,settings:{isInSlot:!0}}],listheaderbuttons:[{title:"Add Feature",iconClass:"fa fa-plus",callbackfunction:"AddModule",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],widgets:[],LegendArray:[],totalrecords:null}},async created(){await this.FetchData()},methods:{AddModule:function(){this.IsAddFeature=!0},Edit:function(){this.IsAddFeature=!0},async FetchData(){var e=this;e.isLoading=!0;var t=`module_id=&sub_module_id=&feature_id=&sortBy=${e.sortBy}&sortExp=${e.sortExp}&pageSize=${e.pageSize}&pageNumber=${e.pageNumber}`;await i["a"].GetAdvancedFeatureListing(t).then(t=>{e.isLoading=!1,null!=t.data&&0!=t.data&&t.data.length>0?(e.ModuleFeatureList=t.data,e.TotalRecords=t.data[0].TOTAL,e.TotalPages=Math.ceil(e.TotalRecords/e.pageSize),e.CurrentPage=e.pageNumber,e.noRecord=!1):(e.noRecord=!0,e.ModuleFeatureList=[],e.TotalRecords=0),setTimeout((function(){e.CheckBoxBootstrap()}),100)})},renderActions:function(){},pagerMethod:function(e){this.pageSize=e.pageSize,this.pageNumber=e.pageNumber,this.FetchData()},sortdata:function(e){var t="sort tb_headerSortDown";this.sortBy=e,e===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",t="sort tb_headerSortUp"):(this.sortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"AddModule":this.AddModule();break}}}},r=d,n=a("2877"),u=Object(n["a"])(r,s,o,!1,null,null,null);t["default"]=u.exports},"87e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("AddFeature"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[t("div",{staticClass:"p-3"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("MandatoryString")))])],1)])])])]),e.IsModule?t("PrivilegePopUp",{attrs:{moduelId:e.moduelId,subModuleId:e.subModuleId},on:{"Check-Privilege":e.CheckPrivilege}}):e._e()],1)},o=[],i=(a("14d9"),a("1115")),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Privilege"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblReturnRequestBulk"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[e._v(e._s(e.$t("Privilege")))]),t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("Action")))])])]),t("tbody",e._l(e.ModuleName,(function(a,s){return t("tr",{key:s},[t("td",[e._v(" "+e._s(a.privilege_desc))]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"custom-control-input chkItems",class:{chkItems:1==a.sorting_order},staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_2"},domProps:{value:a.privilege_id},on:{click:function(t){return e.checkedValue(a.privilege_id)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_2"}})])])])})),0)])])])]),t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-info float-right",attrs:{type:"submit"},on:{click:e.save}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v("Save")])])])])])])])])},d=[],r={props:{moduelId:{},subModuleId:{},comment:[]},data(){return{ModuleName:[]}},created:function(){this.GetPrivilegeListFeature()},methods:{ClosePopup:function(){this.$parent.IsModule=!1},async GetPrivilegeListFeature(){var e=this;e.isLoading=!0;var t=`userTypeId=1&moduleId=${e.moduelId}&subModuleId=${e.subModuleId}&privilegeGroupCode=&roleId=`;await i["a"].GetPrivilegeListForFeature(t).then(t=>{e.ModuleName=t.data.PrivilegeVertical,console.log(e.ModuleName),e.isLoading=!1}),setTimeout((function(){e.CheckBoxBootstrap()}),100)},save(){var e=this,t=[];$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.push({privilege_id:$(this).val(),is_enable:1})})),e.$emit("Check-Privilege",t),e.ClosePopup()}}},n=r,u=a("2877"),c=Object(u["a"])(n,l,d,!1,null,null,null),m=c.exports,h={components:{PrivilegePopUp:m},data(){return{ModuleName:[],IsModule:!1,CheckPrivilegeValue:"",FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:"Module Name",name:"ModuleName",value:"",validationRules:{required:!0},placeholder:"",config:{options:[],onChange:this.GetSubModule}},{astype:"SelectField",label:"Sub Module",name:"SubModule",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Based On"),name:"BasedOn",value:"",placeholder:"",validationRules:{required:!0},config:{options:[{value:"Module",name:"Module"},{value:"Privilege",name:"Privilege"}],onChange:this.GetPrivilege}},{astype:"TextField",label:this.$t("Feature Name"),name:"FeatureName",value:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save")},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},created(){this.GetModuleName()},methods:{async CheckPrivilege(e){this.CheckPrivilegeValue=e},async GetModuleName(){var e=this;e.isLoading=!0;var t="moduleId=&userTypeId=&requestFrom=&isCustomFieldEnable";await i["a"].GetModuleList(t).then(t=>{e.AssetType=t.data.Data,console.log(e.AssetType),e.AssetType.forEach(t=>{e.FormSchema[0].Data[0].config.options.push({name:t.module_name,value:t.module_id})}),e.isLoading=!1}).catch(e=>{console.error(e)})},async GetSubModule(e){var t=this;t.isLoading=!0;var a=`moduleId=${e.target.value}&userTypeId=&requestFrom=&isCustomFieldEnable`;await i["a"].GetModuleList(a).then(e=>{t.ModuleName=e.data.Data,console.log(t.ModuleName),t.ModuleName.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.sub_module_name,value:e.sub_module_id})}),t.isLoading=!1}).catch(e=>{console.error(e)})},ClosePopup:function(){this.$parent.IsAddFeature=!1},async GetPrivilege(e){"Privilege"==e.target.value?(this.moduelId=this.FormSchema[0].Data[0].value,this.subModuleId=this.FormSchema[0].Data[1].value,this.IsModule=!0):this.IsModule=!1},async onSubmit(e,t){var a=this;a.isLoading=!0;var s={feature_id:0,module_id:e.ModuleName,sub_module_id:e.SubModule,feature_based_on:e.BasedOn,feature_name:e.FeatureName,status_id:1001,comment:e.Description,postString:JSON.stringify(a.CheckPrivilegeValue)},o=`feature_id=${s.feature_id}&module_id=${s.module_id}&sub_module_id=${s.sub_module_id}&feature_based_on=${s.feature_based_on}&feature_name=${s.feature_name}&status_id=${s.status_id}&comment=${s.comment}&postString=${s.postString}`;await i["a"].SaveAdvancedFeature(o).then(e=>{a.isLoading=!1,null!=e.data?(a.ClosePopup(),a.ShowAlert(a.$t("PrivilegeSave"),"success",!0,a.$t("Alert")),a.$router.push({name:"ModuleFeature"})):a.ShowAlert(a.$t("AddedError"),"failure",!1,a.$t("Alert"))})}}},p=h,v=Object(u["a"])(p,s,o,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-d0282a5e.js.map