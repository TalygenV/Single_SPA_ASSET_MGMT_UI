(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7707e0bc"],{"098b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"padding-t_10",attrs:{id:"reportstabsdata"}},[e("div",{staticClass:"left-menu-tab"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.Headerstext))])])]),e("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab nav-tabs"},t._l(t.tabs,(function(a){return e("li",{key:a.id,class:{"nav-item":!0,active:t.activeTab===a.id},on:{click:function(e){t.activeTab=a.id,t.changeTab(a.id)}}},[e("span",{class:{"nav-link left-menu":!0,active:t.activeTab===a.id}},[t._v(t._s(a.title))])])})),0)]),e("div",{staticClass:"right-content"},[e("div",{staticClass:"theme-primary partition p-actions-expand",attrs:{id:"ReturnRequestHeading"}},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.navheading))]),t._l(t.tabs,(function(a){return e("span",{key:a.id},[3==a.id?e("span",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===a.id,expression:"activeTab === tab.id"}],staticClass:"p-actions float-right"},[e("em",{staticClass:"p-action-btn text-white",attrs:{id:"ancApprove",title:"Approve"},on:{click:function(e){return t.approvedSelected()}}},[e("i",{staticClass:"fa fa-check"}),t._m(0,!0)]),e("em",{staticClass:"p-action-btn text-white",attrs:{id:"ancReject",title:"Reject"},on:{click:function(e){return t.rejectecSelected()}}},[e("i",{staticClass:"fa fa-close"}),t._m(1,!0)])]):t._e()])}))],2),t._l(t.tabs,(function(a){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===a.id,expression:"activeTab === tab.id"}],key:a.id,staticClass:"col-md-12 p-0"},[e("div",{staticClass:"col-lg-12 border float-left py-3"},[e("div",{},[t.DataLoaded?e("dynamic-form",{attrs:{lang:"en",buttons:t.button,schema:t.FormSchema}}):t._e()],1),t._m(2,!0)]),e("div",{staticClass:"tab-content mb-2"},[e("div",{staticClass:"listing"},[e("tg-list",{attrs:{showCheckBox:!1,IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"ASSET_CATALOGUE_ID",HeaderText:"Asset Management",widgets:t.widgets,ListData:t.CalibrationData,HeaderData:t.Header,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecord,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["Edit"==a.column.COLUMN_NAME?[e("em",{staticClass:"fa fa-pencil text-success action-icon viewcomment",attrs:{title:a.column.COLUMN_NAME},on:{click:function(e){return t.Edit(a.row)}}})]:t._e(),"CALIBRATION_DATE"==a.column.COLUMN_NAME?[e("span",[t._v(t._s(t.$options.filters.formatDate(a.row.CALIBRATION_DATE)))])]:t._e()]}}],null,!0)})],1)])])}))],2),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 text-right px-0 float-left"},[e("em",{staticClass:"btn btn-success text-white mr-2",attrs:{disabled:1===t.activeTab,value:"Previous",title:"Previous",name:"Previous"},on:{click:t.previousTab}},[e("i",{staticClass:"fa fa-angle-double-left pr-2"}),e("span",[t._v("Previous")])]),e("em",{staticClass:"btn btn-primary text-white",attrs:{disabled:t.activeTab===t.tabs.length,value:"Next",title:"Next",name:"btnNext"},on:{click:t.nextTab}},[e("span",[t._v("Next")]),e("i",{staticClass:"fa fa-angle-double-right pl-2"})])]),t.isEditModel?e("EditModel",{attrs:{HistoryItems:t.EditItems,TabName:t.tabName}}):t._e()],1)],1)},s=[function(){var t=this,e=t._self._c;return e("span",[e("br"),t._v("Approve")])},function(){var t=this,e=t._self._c;return e("span",[e("br"),t._v("Reject")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 mb-2 px-0"},[e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"colorboxsquare legends_profile"}),t._v("ExpiredCheckout ")])])}],o=(a("14d9"),a("1115")),r=a("240d"),n=a("db6e"),l={components:{"tree-view":r["TreeSelectField"],EditModel:n["a"]},data(){return{listheaderbuttons:[],LegendArray:[],CalibrationData:[],EditItems:[],Header:[{COLUMN_NAME:"LOCATION_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("LocationName"),DISPLAY_ORDER:1},{COLUMN_NAME:"ITEM_CODE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductCode"),DISPLAY_ORDER:2},{COLUMN_NAME:"NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductName"),DISPLAY_ORDER:3},{COLUMN_NAME:"UNIQUE_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("UniqueName"),DISPLAY_ORDER:4},{COLUMN_NAME:"FREQUENCY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Frequency"),DISPLAY_ORDER:5},{COLUMN_NAME:"CALIBRATION_DATE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DueDate"),DISPLAY_ORDER:6},{COLUMN_NAME:"Edit",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Edit"),DISPLAY_ORDER:7,settings:{isInSlot:!0}}],widgets:[],noRecord:!0,TotalRecord:0,CurrentPage:1,TotalPage:0,itemName:"",tabName:"Calibration",itemUniqueName:"",locationId:"",dueDate:"",frequency:"",SortBy:"",SortExp:"",PageNumber:1,PageSize:10,activeTab:1,tabs:[{id:1,title:"Calibration"},{id:2,title:"Audit"},{id:3,title:"Image Capturing"}],navheading:"Maintenance Schedule",isLoading:!1,isEditModel:!1,DataLoaded:0,Headerstext:"Calibration",FormSchema:[{layoutType:"four",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:"",placeholder:"",config:{options:[]}},{astype:"SelectField",label:this.$t("Frequency"),name:"Frequency",value:"",placeholder:"",validationRules:{required:!1},config:{options:[{name:"Annually",value:"annual"},{name:"Half yearly",value:"halfyear"},{name:"Quarterly",value:"quarterly"},{name:"Monthly",value:"month"},{name:"Bi-Weekly",value:"biweek"},{name:"Weekly",value:"week"},{name:"Daily",value:"daily"}]}},{astype:"TextField",label:this.$t("Product"),name:"Product",value:"",placeholder:"",validationRules:{required:!1,max:250},placeholder:""},{astype:"TextField",label:this.$t("UniqueName"),name:"UniqueName",value:"",placeholder:"",validationRules:{required:!1,max:250},placeholder:""},{astype:"DateField",label:this.$t("DueDate"),name:"DueDate:",value:"",placeholder:"10/12/2022 12:AM",config:{format:"M/D/YYYY"}}]}],button:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-search pr-2'></i>"+this.$t("Search"),onClick:this.Search},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-refresh pr-2'></i>"+this.$t("ClearAll"),onClick:this.Clear}],PageNum:1}},created:async function(){var t=this;await t.FetchData(),await t.GetLocationByuserId(),t.DataLoaded=1},methods:{async GetLocationByuserId(){var t=this,e="reqForm=";await o["a"].GetLocationByCompanyId(e).then((function(e){t.FindalLocationArray=[],t.LocationDataTree=JSON.parse(e.data).data,t.LocationDataTree.forEach(a=>{var i=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==i.length&&null==a.PARENT_LOCATION_ID){let i=a.COMPANY_LOCATION_ID,s=t.getChildLocation(i,a,JSON.parse(e.data).data);t.FindalLocationArray.push(s)}}),t.FormSchema[0].Data[0].config.options=t.FindalLocationArray}))},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=s;var r=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let n=[];return r.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=n.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var r=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=r&&r.length>0){let s=i.getChildLocation(e,t,a);n.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},n.push(s)}}),o.children=n,o},changeTab(t){var e=this;1==t?(e.SortBy="",e.SortExp="",e.Headerstext="Calibration",e.tabName="Calibration",e.FetchData()):2==t?(e.SortBy="",e.SortExp="",e.Headerstext="Audit",e.tabName="Audit",e.FetchData()):(e.SortBy="",e.SortExp="",e.Headerstext="Image Capturing",e.tabName="ImageCapturing",e.FetchData())},previousTab(){this.activeTab>1&&(this.activeTab--,1==this.activeTab?(this.tabName="Calibration",this.FetchData()):2==this.activeTab?(this.tabName="Audit",this.FetchData()):(this.tabName="ImageCapturing",this.FetchData()))},nextTab(){this.activeTab<=this.tabs.length-1&&(this.activeTab++,1==this.activeTab?(this.tabName="Calibration",this.FetchData()):2==this.activeTab?(this.tabName="Audit",this.FetchData()):(this.tabName="ImageCapturing",this.FetchData()))},async FetchData(){var t=this;t.isLoading=!0;var e=`tabName=${t.tabName}&itemUniqueName=${t.itemUniqueName}&locationid=${t.locationId}&frequency=${t.frequency}&dueDate=${t.dueDate}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNum=${t.PageNum}`;await o["a"].GetListScheduleUpdate(e).then(e=>{null!=e.data&&(e.data.length>0?(t.CalibrationData=JSON.parse(e.data),t.TotalRecord=t.CalibrationData[0].TOTALRECORDS,t.TotalPage=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,t.isLoading=!1):(t.noRecord=!0,t.CalibrationData=[],t.TotalRecord=0,t.isLoading=!1))})},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},Search:function(){var t=this;t.locationId=t.FormSchema[0].Data[0].value,t.frequency=t.FormSchema[0].Data[1].value,t.itemName=t.FormSchema[0].Data[2].value,t.itemUniqueName=t.FormSchema[3].Data[0].value,t.dueDate=t.FormSchema[0].Data[4].value,t.FetchData()},Clear:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.FormSchema[0].Data[4].value="",t.PageSize=10,t.PageNumber=1,t.changeTab(this.activeTab)},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNum=t.PageNumber,this.FetchData()},Edit:function(t){var e=this;e.EditItems=t,e.isEditModel=!0},commonHeaderButtonClick:function(){},renderActions(){},renderRowActionMethod(){}}},c=l,d=(a("c99b"),a("2877")),u=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=u.exports},"0afb":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".expand-list{z-index:-86}",""]),t.exports=e},"3e27":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"tr.high-profile-bar td:first-child:after{background:#de0303}.center-icon{display:flex;justify-content:center;align-items:center}",""]),t.exports=e},ba6d:function(t,e,a){var i=a("0afb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("4dcea4ea",i,!0,{sourceMap:!1,shadowMode:!1})},c99b:function(t,e,a){"use strict";a("cd9f")},cd9f:function(t,e,a){var i=a("3e27");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("0fa98e2b",i,!0,{sourceMap:!1,shadowMode:!1})},db6e:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.HistoryItems[0].items.HistoryType)+" : "+t._s(t.HistoryItems[0].items.UniqueName)+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.ClosePopup()}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"border p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("tg-list",{attrs:{showCheckBox:!1,IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"RelatedinfoID",HeaderText:"Asset Management",widgets:t.widgets,ListData:t.viewHistroyData,HeaderData:t.Header,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecord,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["audit_date"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark center-icon",attrs:{title:a.column.COLUMN_NAME}},[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.audit_date))+" ")])]:t._e(),"StatusId"==a.column.COLUMN_NAME?[1==a.row.StatusId?e("em",{staticClass:"active-disabled"},[e("span",{staticClass:"btn d-inline-block w-80 text-center text-truncate btn-success"},[t._v(t._s(t.$t("Password")))])]):t._e(),0==a.row.StatusId?e("em",{staticClass:"active-disabled"},[e("span",{staticClass:"btn d-inline-block w-80 text-center text-truncate btn-warning"},[t._v(t._s(t.$t("Fail")))])]):t._e()]:t._e()]}}])})],1)])])])])},s=[],o=a("1115"),r={props:{HistoryItems:{type:Array,required:!0},TabName:{type:String,required:!0}},data(){return{widgets:[],viewHistroyData:[],listheaderbuttons:[],renderActions:[],LegendArray:[],SortBy:"",SortExp:"",TotalRecord:0,PageNumber:1,PageSize:10,Header:[{COLUMN_NAME:"Audit_Name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("AuditorName"),DISPLAY_ORDER:1},{COLUMN_NAME:"audit_date",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("AuditDate"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"comment",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Comment"),DISPLAY_ORDER:3},{COLUMN_NAME:"StatusId",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:4,settings:{isInSlot:!0}}],FormSchema:[{layoutType:"double",Data:[{astype:"DateField",label:"",name:"AuditDate",value:"",placeholder:"10/12/2022 12:AM",validationRules:{required:!0},config:{format:"YYYY-MM-DD",maxDate:new Date}},{astype:"DateField",label:"",name:"NextAuditDate",value:"",placeholder:"10/12/2022 12:AM",validationRules:{required:!0},config:{format:"M/D/YYYY",minDate:new Date}}]},{layoutType:"single",Data:[{astype:"RadioField",label:"Status",name:"Status",value:"1",placeholder:"",validationRules:{required:!1},config:{options:[{value:"1",name:"Password"},{value:"0",name:"Fail"}],onChange:this.OnChangeStatus}},{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",validationRules:{required:!0,max:1e3},placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},created:function(){var t=this;t.SetLabel(),t.FetchData()},methods:{OnChangeStatus(t,e){e.value=t.target.getAttribute("data-value")},SetLabel(){this.FormSchema[0].Data[0].label=this.HistoryItems[0].items.HistoryType+" Date (M/D/YYYY)",this.FormSchema[0].Data[1].label=`Next ${this.HistoryItems[0].items.HistoryType} Date (M/D/YYYY)`},onSubmit(t,e){var a=this;let i={AuditDate:t.AuditDate,NextAuditDate:t.NextAuditDate,Status:t.Status,Comment:t.Comment,Historytype:a.HistoryItems[0].items.HistoryType,RelatedInfoID:a.HistoryItems[0].items.RelatedInfoId};o["a"].UpdateAuditHistory(i).then(t=>{null!=t.data&&(t.data.length>0?(a.ShowAlert(a.$t(a.HistoryItems[0].items.HistoryType+"Date successfully added."),"success",a.$t("Alert")),a.$parent.FetchData(),a.$parent.CloseAuditpopup()):(a.ShowAlert(a.$t("Unknown Error Occur"),"failure",!0,a.$t("Alert")),a.$parent.CloseAuditpopup())),setTimeout((function(){a.CheckBoxBootstrap()}),100)})},FetchData(){var t=this,e=`RelatedInfoId=${t.HistoryItems[0].items.RelatedInfoId}&HistoryType=${t.HistoryItems[0].items.HistoryType}`;o["a"].GetAuditHistory(e).then(e=>{null!=e.data&&(e.data.data.length>0?(console.log(e.data.data),t.viewHistroyData=e.data.data,t.TotalRecord=e.data.data[0].TOTAL,t.TotalPage=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,t.isLoading=!1):(t.noRecord=!0,t.viewHistroyData=[],t.TotalRecord=0,t.isLoading=!1))})},ClosePopup(){var t=this;t.$parent.isHistoryModel=!1},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),$("#"+t+"  span:first-child").attr("class",e)},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNum=t.PageNumber,this.FetchData()},commonHeaderButtonClick:function(){},renderActions(){},renderRowActionMethod(){}}},n=r,l=(a("fe79"),a("2877")),c=Object(l["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},fe79:function(t,e,a){"use strict";a("ba6d")}}]);
//# sourceMappingURL=chunk-7707e0bc.js.map