(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0569480"],{"12e1":function(e,t,a){"use strict";a("1a6e")},"191f":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal my-popups right fade",attrs:{id:"modelAddProduct",role:"dialog"}},[t("form",{ref:"form"},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("AddItem")))]),e._m(0)]),t("div",{staticClass:"modal-body"},["setup"==e.popupCondition?t("div",{staticClass:"left-menu-tab new_tab"},[t("div",{staticClass:"col-md-12 pb-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-8 pr-0 font-weight-medium"},[e._v(e._s(e.$t("CompleteYourProfile")))]),t("div",{staticClass:"col-4 pl-0 text-right"},[t("small",[t("i",{staticClass:"fa fa-check-circle pr-1",class:{"text-success":"Completed"==e.SetupProgresText,"text-muted":"Completed"!==e.SetupProgresText}}),e._v(e._s(e.SetupProgresText))])])]),t("div",{staticClass:"progress smaller my-2"},[t("div",{staticClass:"progress-bar progress-bar-primary progress-bar px-0 text-center memoryused",class:""+e.progressBarColor,style:`width: ${e.SetupProgress}%; font-weight:500; font-size:14px`,attrs:{s:"",id:"divConsumendStorage",title:e.SetupProgress}},[e._v(e._s(e.SetupProgress)+"% ")])]),t("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[t("ul",[t("li",[t("b",{attrs:{id:"divConsumendStorage"}},[t("span",[e._v("Progress "+e._s(e.CurrentTab)+" of 3")])])])])])])])]),t("div",{staticClass:"mt-0",staticStyle:{"max-height":"calc(100vh - 2px)"},attrs:{id:"divscrollsetuptabs"}},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix newtab_des"},[t("li",{staticClass:"nav-item FourthScreen",on:{click:function(t){return e.SkipTab(1)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:1==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa-random pr-2 text-muted",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("SetUpLocation")))])])]),t("li",{staticClass:"nav-item SecondScreen",on:{click:function(t){return e.SkipTab(2)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:2==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa fa-cog pr-2 text-muted",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("SetUpProductType")))])])]),t("li",{staticClass:"nav-item ThirdScreen",on:{click:function(t){return e.SkipTab(3)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:3==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa-plus pr-2 text-muted",attrs:{"aria-hidden":"true"}}),e.IsClientStoragesCopmleted?t("i",{staticClass:"fa fa-check-circle font-18 pr-2 text-success",attrs:{"aria-hidden":"true"}}):e._e(),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("AddDeployeItem")))])])])])])]):e._e(),3==e.step?t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e()],1):e._e(),3==e.step?t("div",{staticClass:"right-content row flex-row-reverse mt-3"},[e._m(1)]):e._e(),t("div",{staticClass:"right-content"},["setup"==e.popupCondition?t("div",{staticClass:"col-md-12 p-0"},[1==e.step?t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active show",attrs:{id:"step1"}},[t("section",{staticClass:"page-action w-100"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"col-md-12 p-0"},[t("AddLocationPopup",{attrs:{popupCondition:e.popupCondition}})],1)])])])])]):e._e(),2==e.step?t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active show",attrs:{id:"step2"}},[t("section",{staticClass:"page-action w-100"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"col-md-12 p-0"},[t("AddProductType",{attrs:{popupCondition:e.popupCondition}})],1)])])])])]):e._e()]):e._e()])])])])])]),e.ShowAddLocation?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Location"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.CloseLocationPopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("AddLocationPopup")],1)])])]):e._e(),e.IsTagNamePopup?t("TagNamePopup",{attrs:{FromAddProduct:e.FromAddProduct}}):e._e(),e.ShowAddProductType?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("ProductType"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopupProductType()}}},[t("em",{staticClass:"fa fa-times"})])]),t("AddProductType")],1)])])]):e._e()],1)},i=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e._v(" User Guide")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-12 text-left"},[t("div",{staticClass:"py-2 mandatory"},[e._v(" Fields marked with an asterisk (*) are mandatory. ")])])}],o=(a("14d9"),a("1115")),l=a("56f6"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e()],1)},r=[],d=a("240d"),c={props:{popupCondition:{type:Boolean,required:!0}},components:{"tree-view":d["TreeSelectField"]},data(){return{FormSchema:[{layoutType:"triple",Data:[{astype:"TreeSelectField",label:this.$t("ParentLocation"),name:"ParentLocation",value:"",placeholder:"",config:{options:[]}},{astype:"TextField",label:this.$t("LocationName"),name:"LocationName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",config:{options:[],onChange:()=>{}}},{astype:"TextField",label:this.$t("AddressLine1"),name:"AddressLine1",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"TextField",label:this.$t("City"),name:"City",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Country"),name:"Country",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{option_request_url:"https://newcrmapi.talygen.com/api/Common/GetDDLData?moduleName=CRM&type=COUNTRIES",token:this.GetUserInfo.Token,onChange:this.onChangeDropdown}},{astype:"SelectField",label:this.$t("State"),name:"State",value:"",placeholder:"",config:{options:[]}},{astype:"TextField",label:this.$t("PostalCode"),name:"PostalCode",value:"",placeholder:""},{astype:"TextField",label:this.$t("Email"),name:"Email",value:"",placeholder:""},{astype:"TextField",label:this.$t("Phone1"),name:"Phone1",value:"",placeholder:""},{astype:"TextField",label:this.$t("Phone2"),name:"Phone2",value:"",placeholder:""},{astype:"TextField",label:this.$t("LocationCode"),name:"LocationCode",value:"",placeholder:""},{astype:"SelectField",label:this.$t("Tag"),name:"Tag",value:"",placeholder:"",config:{options:[]}}]}],buttons:[{type:"button",class:"btn btn-secondary",text:"Skip",onClick:this.Skip,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}],myObj:[],LocationData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],StateData:[],TagData:[],CreatedAt:"",CreatedBy:"",ModifiedAt:"",ModifiedBy:"",DataLoaded:0,UserId:""}},created:async function(){var e=this;await e.GetLocationByCompanyId(),e.GetStatusDDL(),await e.GetTagsByModuleId(),await e.AdvancedSetupFields(),e.UserId=this.GetUserInfo.ID,e.DataLoaded=1},methods:{Skip:function(){var e=this;e.$parent.SkipTab(2)},async AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[6].visibility=!1,e.FormSchema[0].Data[7].visibility=!1,e.FormSchema[0].Data[8].visibility=!1,e.FormSchema[0].Data[9].visibility=!1,e.FormSchema[0].Data[10].visibility=!1,e.FormSchema[0].Data[11].visibility=!1,e.FormSchema[0].Data[12].visibility=!1,e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!0,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!1)},async GetTagsByModuleId(){var e=this,t="modulename=Asset";await o["a"].GetTagsByModuleId(t).then((function(t){e.TagData=JSON.parse(t.data),e.TagData.data.forEach((t,a)=>{e.FormSchema[0].Data[12].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})}),console.log(" GetTagsByModuleId  call end")}))},onChangeDropdown(e){var t=this,a="countryId="+e.target.value;o["a"].GetStateListwithIDByCountryId(a).then((function(e){t.StateData=JSON.parse(e.data).data,t.StateData=t.StateData.map(e=>({name:e.name,value:e.state_id})),$.each(t.FormSchema,(function(e,a){$.each(a.Data,(function(e,a){"State"==a.name&&(a.value="",a.config.options=t.StateData)}))}))}))},async GetLocationByCompanyId(){var e=this,t="reqForm=";await o["a"].GetLocationByCompanyId(t).then((function(t){e.LocationData=JSON.parse(t.data).data;var a=e.MakeNormalArray(t.data).data;$.each(a,$.proxy((function(t,s){var i=s.PARENT_LOCATION_ID,o=$.grep(e.LocationData,(function(e,t){return e.id==i}));if(0==o.length){var l=$.grep(a,(function(e,t){return e.PARENT_LOCATION_ID==i}));if(l.length>0&&l[0].LOCATION_NAME){var n={id:i,label:l[0].LOCATION_NAME,children:l.map(e=>({id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME}))};e.FormSchema[0].Data[0].config.options.push(n)}}})))}))},GetStatusDDL(){var e=this;e.StatusData.forEach((t,a)=>{e.FormSchema[0].Data[2].config.options.push({name:t.name,value:t.value})})},ClosePopup(){var e=this;e.$parent.CloseLocationPopup()},onSubmit(e){var t=this,a=`LocationName=${e.LocationName}&LocationId=0`;o["a"].LocationExist(a).then((function(a){if(t.LocationId=a.data.result,a.data.result>0)t.ShowAlert(t.$t("Location already exist",[t.$t("Location")]),"success",!0,t.$t("Alert"));else{let a={LocationId:t.LocationId,LocationName:e.LocationName,Country:parseInt(e.Country),State:e.State,Address1:e.AddressLine1,Address2:"",City:e.City,PinCode:e.PostalCode,Email:e.Email,Phone1:e.Phone1,Phone2:e.Phone2,CreatedAt:null,CreatedBy:t.UserId,ModifiedAt:null,ModifiedBy:t.UserId,StatusId:e.Status,State_id:""==e.State?null:e.State,LocationCode:e.LocationCode,ParentLocationId:""==e.ParentLocation?null:e.ParentLocation,TagId:e.Tag.length<=0?null:Array.prototype.map.call(e.Tag,(function(e){return e.value})).join(","),CampusId:"",ClientId:1};JSON.stringify(a);o["a"].SaveUpdateLocation(a).then((function(e){"1"==e.data?t.ShowAlert(t.$t("Location has been added successfully",[t.$t("Location")]),"success",!0,t.$t("Alert")):"2"==e.data?t.ShowAlert(t.$t("Location has been updated successfully",[t.$t("Location")]),"success",!0,t.$t("Alert")):"0"==e.data&&t.ShowAlert(t.$t("unknown error",[t.$t("Location")]),"success",!0,t.$t("Alert")),t.$parent.CloseLocationPopup()}))}}))}}},u=c,p=a("2877"),m=Object(p["a"])(u,n,r,!1,null,null,null),h=m.exports,y=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e()],1),e.IsTagNamePopup?t("TagNamePopup",{attrs:{FromAddProduct:e.FromAddProduct}}):e._e()],1)},g=[],v={props:{popupCondition:{type:Boolean,required:!0}},components:{TagNamePopup:l["a"]},data(){return{FormSchema:[{layoutType:"triple",group_name:"Product Type",group_display_name:this.$t("ItemType"),Data:[{astype:"TextField",label:this.$t("ItemNameType"),name:"ItemNameType",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"TextField",label:this.$t("ProductTypeCode"),name:"ProductTypeCode",value:"",placeholder:"",validationRules:{required:!0,max:4}},{astype:"toggleField",label:this.$t("Container"),name:"Container",value:"",placeholder:"",config:{onChange:this.ShowCompartments}}]},{layoutType:"triple",Data:[{astype:"FileField",showLabel:!0,label:this.$t("AttachItemImage"),name:"AttachItemImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"pdf",iconClass:"fa-file-archive-o"}],onChange:this.setFile1,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!0}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]},{layoutType:"four",group_name:"Product Categories",group_display_name:this.$t("ProductCategories"),Data:[{astype:"toggleField",label:this.$t("Asset_No"),name:"Asset_No",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Consumable"),name:"Consumable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("License"),name:"License",value:"",placeholder:""},{astype:"toggleField",label:this.$t("MaterialSpareParts"),name:"MaterialSpareParts",value:"",placeholder:""}]},{layoutType:"single",Data:[{astype:"CustomSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"four",group_name:"Hardware Integration Type",group_display_name:this.$t("HardwareIntegrationType"),Data:[{astype:"toggleField",label:this.$t("Time_n_Attendance"),name:"Time_n_Attendance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Camera"),name:"Camera",value:"",placeholder:""},{astype:"toggleField",label:this.$t("RFID"),name:"RFID",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPSTracking"),name:"GPSTracking",value:"",placeholder:""}]},{layoutType:"four",group_name:"Action Based Properties",group_display_name:this.$t("ActionBasedProperties"),Data:[{astype:"toggleField",label:this.$t("IsTransferable"),name:"IsTransferable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("IsSelfCheckOut"),name:"IsSelfCheckOut",value:"",placeholder:"",config:{onChange:this.OnIsSelfCheckOut}},{astype:"toggleField",label:this.$t("SelfieEnable"),name:"SelfieEnable",value:"",placeholder:"",visibility:!1},{astype:"toggleField",label:this.$t("EmployeeAcceptance"),name:"EmployeeAcceptance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("EnableTerms"),name:"EnableTerms",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPS_Enable"),name:"GPS_Enable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Fleet_Management"),name:"Fleet_Management",value:"",placeholder:""},{astype:"toggleField",label:this.$t("PenaltyOnStatus"),name:"PenaltyOnStatus",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnStatus}},{astype:"SelectField",label:this.$t("Status"),name:"AssetReplacementType",value:"",placeholder:"",visibility:!1,config:{options:[]},validationRules:{required:!0}},{astype:"toggleField",label:this.$t("PenaltyOnReturnOverdue"),name:"PenaltyOnReturnOverdue",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnReturnOverdue}},{astype:"NumericField",label:this.$t("GracePeriod"),name:"GracePeriod",value:"",placeholder:"",visibility:!1,validationRules:{required:!0,max:250}}]},{layoutType:"four",group_name:"Deployment Properties",group_display_name:this.$t("DeploymentProperties"),Data:[{astype:"toggleField",label:this.$t("InsurancePolicy"),name:"InsurancePolicy",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Calibration"),name:"Calibration",value:"",placeholder:""},{astype:"toggleField",label:this.$t("ItemCost"),name:"ItemCost",value:"",placeholder:""},{astype:"toggleField",label:this.$t("IsWarranty"),name:"IsWarranty",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Depreciable"),name:"Depreciable",value:"",placeholder:""}]}],buttons:[{type:"button",class:"btn btn-secondary",text:"Skip",onClick:this.Skip,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",value:"Save"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",isVisible:!1},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CancelButton,isVisible:!0}],StatusDDL:[{label:"Active",value:1001},{label:"Inactive",value:1002}],AssetReplacementTypeDDL:[{label:"Damaged",value:12396},{label:"In Stocck",value:12396},{label:"Lost",value:2171},{label:"Stolen",value:12398}],IsTagNamePopup:!1,FromAddProduct:!1,IsShowCompartments:!1,lbl:!1,tableRows:[{ContainerDetail:""}],currentInputIndex:0,AssetTypeCode:"",userId:null,companyId:null,DataLoaded:0,TagsArray:[],file:[],ShowAddProduct:!1}},created:async function(){var e=this;e.userId=e.GetUserInfo.ID,e.companyId=e.GetUserInfo.Name,await e.GetTagsByModuleI(),await e.BindStatus(),await e.AdvancedSetupFields(),e.DataLoaded=1},methods:{OnPenaltyOnStatus(e){var t=this;1==e?(t.FormSchema[6].Data[8].visibility=!0,t.AssetReplacementTypeDDL.forEach(e=>{t.FormSchema[6].Data[8].config.options.push({name:e.label,value:e.value})})):0==e&&(t.FormSchema[6].Data[8].visibility=!1)},OnIsSelfCheckOut(e){var t=this;1==e?t.FormSchema[6].Data[2].visibility=!0:0==e&&(t.FormSchema[6].Data[2].visibility=!1)},OnPenaltyOnReturnOverdue(e){var t=this;1==e?t.FormSchema[6].Data[10].visibility=!0:0==e&&(t.FormSchema[6].Data[10].visibility=!1)},Skip:function(){var e=this;e.$parent.SkipTab(3)},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!1,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!0,e.buttons[4].isVisible=!1)},async GetTagsByModuleI(){var e=this;await o["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[4].Data[0].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},OpenAddTagPopup(){var e=this;e.IsTagNamePopup=!0},setFile1:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const s=e.target.files[a];t.file1.push(s)}},BindStatus(){var e=this;e.StatusDDL.forEach(t=>{e.FormSchema[0].Data[1].config.options.push({name:t.label,value:t.value})})},onSubmit:function(e,t){var a=this;let s={AssetTypeId:0};s.AssetType=e.ItemNameType,s.status_id=e.Status,s.Description=e.Description,s.created_at=null,s.modified_at=null,s.modified_by=a.userId,s.company_id=a.companyId,s.AssetTypeCategory=1==e.Asset_No?1:0,s.IsContainer=1==e.Container?1:0,s.IsSelfCheckOut=1==e.IsSelfCheckOut?1:0,s.IsTransferable=1==e.IsTransferable?1:0,s.IsEnableTerms=1==e.EnableTerms?1:0,s.InsurancePolicy=1==e.InsurancePolicy?1:0,s.AssetTypeCode=a.AssetTypeCode,s.IsAsset=1==e.Asset_No?1:0,s.IsConsumable=1==e.Consumable?1:0,s.IsLicense=1==e.License?1:0,s.IsSpare=1==e.MaterialSpareParts?1:0,s.IsItemCost=1==e.ItemCost?1:0,s.IsDepreciable=1==e.Depreciable?1:0,s.IsCalibration=1==e.Calibration?1:0,s.IsWarranty=1==e.IsWarranty?1:0,s.IsEmployeeAcceptance=1==e.EmployeeAcceptance?1:0,s.IsPenalty=1==e.PenaltyOnStatus?1:0;var i=1==e.PenaltyOnStatus?1:0;s.penalty_type=0==i?null:e.AssetReplacementType,s.IsPenaltyOnReturnOverdue=1==e.PenaltyOnReturnOverdue?1:0;var l=1==e.PenaltyOnReturnOverdue?1:0;s.GracePeriod=0==l?null:e.GracePeriod,s.IsGPSTracking=1==e.GPSTracking?1:0,s.IsFleetManagement=1==e.Fleet_Management?1:0,s.IsTimeAttendance=1==e.Time_n_Attendance?1:0,s.IsCamera=1==e.Camera?1:0,s.IsRFID=1==e.RFID?1:0,s.IsGPS=1==e.GPS_Enable?1:0,s.IsSelfieEnable=1,s.IsSampleData=1,s.container_name="",s.BatchId="",s.AssetTagIds=Array.prototype.map.call(e.Tags,(function(e){return e.value})).join(",");var n=new FormData;n.append("postString",JSON.stringify(s)),n.append("Files",a.file),o["a"].AddProductType(n).then((function(e){"size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"success"==e.data.status?(a.ShowAlert(a.$t("Prodect Type Added Successfully"),"success",a.$t("Alert")),a.CancelButton()):"AlreadyExists"==e.data.status?(a.ShowAlert(a.$t("Already exist record!"),"warning",a.$t("Alert")),a.CancelButton()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.CancelButton())}))},AddContainerRow(){this.tableRows.push({value:""})},RemoveContainerRow(e){var t=this;0==t.tableRows.length?(t.IsShowCompartments=!1,t.lbl=!1):t.tableRows.splice(e,1)},ShowCompartments(){var e=this;0==e.lbl?(e.IsShowCompartments=!0,e.lbl=!0):1==e.lbl&&(e.IsShowCompartments=!1,e.tableRows=[{ContainerDetail:""}],e.lbl=!1)},CancelButton(){var e=this;e.$parent.ShowAddProductType=!1,e.$parent.GetAssetType()},divDialogAddTags(){var e=this;e.FromAddProduct=!1,e.IsTagNamePopup=!0},CloseTagPopup(){var e=this;e.IsTagNamePopup=!1}}},b=v,C=Object(p["a"])(b,y,g,!1,null,null,null),f=C.exports,S={props:{popupCondition:{type:String,required:!1}},components:{TagNamePopup:l["a"],AddLocationPopup:h,AddProductType:f},data(){return{isLoading:!1,AssetType:[],BarcodeType:[],userLoggedIn2:!1,IsDeployment:!1,IsTagNamePopup:!1,LocationData:[],ShowAddLocation:!1,ShowAddProductType:!1,FromAddProduct:!1,DeploymentType:"",IsEnableAssetManagement:!1,fileUploaded:"",tagData:[],isCheckDeployItem:"",DeployProductValue:!1,FormSchema:[{layoutType:"double",group_name:"Product Information",group_display_name:this.$t("ProductInformation"),Data:[{astype:"SelectField",label:this.$t("ProductType"),name:"ProductType",value:"",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddProductTypePopup},validationRules:{required:!0}},{astype:"TextField",label:this.$t("ProductName"),name:"ProductName",value:"",placeholder:"",config:{onKeyUp:this.changeVal},validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("BarcodeType"),name:"BarcodeType",value:"",placeholder:"",config:{options:[]},validationRules:{required:!0}},{astype:"toggleField",label:this.$t("CreateUniqueNameListing"),name:"CreateUniqueNameListing",value:"",placeholder:"",validationRules:{required:!1}},{astype:"FileField",showLabel:!0,label:this.$t("DisplayImage"),name:"DisplayImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"pdf",iconClass:"fa-file-archive-o"}],onChange:this.setFile,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!0}},{astype:"CustomSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"Single",group_name:"Deploy Product",group_display_name:this.$t("DEPLOY_ITEM"),Data:[{astype:"toggleField",label:this.$t("DeployProduct"),name:"DeployProduct",value:"",placeholder:"",config:{onChange:this.HideShowDeployProductFields}}]},{layoutType:"Single",Data:[{astype:"RadioField",label:this.$t("DeploymentType"),name:"DeploymentType",value:"1",placeholder:"",config:{options:[{value:"1",name:"Product"},{value:"2",name:"Inventory"}],onChange:this.OnDeplymentType},visibility:!0,validationRules:{required:!1}}]},{layoutType:"Single",Data:[{astype:"RadioField",label:this.$t("DeploymentType"),name:"SetupDeploymentType",value:"1",placeholder:"",config:{options:[{value:"1",name:"Asset"}],onChange:this.OnDeplymentType},visibility:!0,validationRules:{required:!1}}]},{layoutType:"double",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:"",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.AddLocation},visibility:!0,validationRules:{required:!0}},{astype:"NumericField",label:this.$t("Quantity"),name:"Quantity",value:"0",placeholder:"",visibility:!0,config:{onKeyUp:this.GetAssetCost},validationRules:{required:!0}},{astype:"NumericField",label:this.$t("UnitPrice"),name:"UnitPrice",value:"0",placeholder:"",validationRules:{required:!0},visibility:!0,config:{onKeyUp:this.GetAssetCost}},{astype:"NumericField",label:this.$t("TotalCost"),name:"TotalCost",value:"0",placeholder:"",validationRules:"required",visibility:!0,config:{onKeyUp:this.GetUnitPrice}}]}],buttons:[{type:"submit",class:"btn btn-secondary",text:"<i class='fa fa-angle-double-left pr-2'></i>Back",onClick:this.BackButton,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Close",name:"SaveAndClose"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And New",name:"SaveAndNew"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.close,isVisible:!0},{type:"button",class:"btn btn-success",text:"<i class='fa fa-check' aria-hidden='true'></i> Finish",isVisible:!1}],DataLoaded:0,TagsArray:[],tags:[],file:[],CurrentTab:1,step:3,SetupProgress:0,count:0,PageSize:10,PageNumber:1,SortBy:"",SortExp:"",IsClientStoragesCopmleted:!1}},async created(){var e=this;await e.EnableAssetManagement(),await e.GetAssetType(),await e.GetBarcodeType(),await e.GetLocationByCompanyId(),await e.GetTagsByModuleI(),await e.AdvancedSetupFields(),await e.AssetCatalogueListing(),await e.GetProgress(),e.HideShowDeployProductFields("false"),e.DataLoaded=1},mounted(){$("#modelAddProduct").modal({backdrop:"static",keyboard:!1})},methods:{OnDeplymentType(e,t){t.value=e.target.getAttribute("data-value"),console.log(e.target.getAttribute("data-value"))},async AssetCatalogueListing(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&${e.searchCondition}`;await o["a"].AssetCatalogueListing(t).then(t=>{t.data.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0,e.isLoading=!1})},GetProgress(){var e=this;1==e.count?e.SetupProgress=33.33:2==e.count?e.SetupProgress=66.66:3==e.count&&(e.SetupProgress=100)},BackButton(){var e=this;e.SkipTab(2)},SkipTab:function(e){var t=this;t.step=e,t.CurrentTab=e},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[2].Data[0].visibility=!1,e.step=1,e.buttons[1].isVisible=!1,e.buttons[0].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!0)},async GetTagsByModuleI(){var e=this;await o["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[0].Data[5].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},HideShowDeployProductFields(e){var t=this;1==e?("setup"==t.popupCondition?(t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!0):(t.FormSchema[2].Data[0].visibility=!0,t.FormSchema[3].Data[0].visibility=!1),t.FormSchema[4].Data[0].visibility=!0,t.FormSchema[4].Data[1].visibility=!0,t.FormSchema[4].Data[2].visibility=!0,t.FormSchema[4].Data[3].visibility=!0):(t.popupCondition,t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!1,t.FormSchema[4].Data[0].visibility=!1,t.FormSchema[4].Data[1].visibility=!1,t.FormSchema[4].Data[2].visibility=!1,t.FormSchema[4].Data[3].visibility=!1)},onSubmit:function(e,t){var a=this;if(a.IsEnableAssetManagement){a.isLoading=!0;let i={};1==e.DeployProduct?(i.DeployProduct=e.DeployProduct,i.DeployId="0",i.LocationId=e.Location,i.Quantity=e.Quantity,i.UnitPrice=e.UnitPrice,i.DeploymentType=""==e.DeploymentType?e.SetupDeploymentType:e.DeploymentType):(i.DeployProduct=""!=e.DeployProduct,i.DeployId="0",i.LocationId="-1",i.Quantity="0",i.UnitPrice="0"),i.AssetCatalogueId="0",i.Name=e.ProductName,i.AssetTypeId=e.ProductType,i.BarcodeTypeId=e.BarcodeType,i.StatusId="1001",i.TotalCost=e.TotalCost,i.AssetCost=e.TotalCost,i.ParentUniqueId="",i.ChildUniqueId="",i.ChildCatalogueId="",i.CatalogueId="",i.CatalogHdnId="",i.SelfieEnabled="",i.ChildCategoryName="",i.AssetUniqueName="",i.AssetCatalogName="",i.Description="",i.AssetTagIdsWizard=Array.prototype.map.call(e.Tags,(function(e){return e.value})).join(","),i.AssetTypeTagIdsWizard="",i.Manufacturer="",i.NumberOfItems=e.Quantity,i.AsseetGroupQuantity="",i.ItemCode="",i.ChildItemCode="",i.ChildCatalogName="",i.ChildRequestQuantity="",i.ChildAssetType="",i.AssetType="",i.StandardTypeId="",i.AssetCompartmentId="",i.AssetGroupId="",i.IsSelfCheckout="",i.IsEnableTerms="",i.SubLocationId="",i.Attachment="",i.CreatedAt="",i.CreatedBy="",i.ModifiedAt="",i.ModifiedBy="",i.Asset_Type="",i.Status="",i.ForCompany="",i.ForEmployee="",i.MoveToInTransitInfo="",i.AvailableItems=e.Quantity,i.PendingAvailableQuantity="",i.PendingTotalAvailableItems="",i.TotalQuantity="",i.ChildAvailableItems="",i.TotalFilesCount="",i.AssetTypeCategory="",i.AssetTypeCategoryName="",i.AssetTypeCategoryCode="",i.AttachmentName="",i.DisplayImage="",i.IsTermsAndCondition="",i.TotalTermsConditionFilesCount="",i.RelatedInfoId="",i.UniqueName=1==e.CreateUniqueNameListing?1:0,i.AssetCatalogueGroup="",i.ChildCreateUniqueNameListing="",i.IsTransitItems="",i.AttachmentPath="",i.LocationName="",i.SubLocationName="",i.AuditFrequency="",i.ImageCaptureFrequency="",i.CalibrationFrequency="",i.CR="",i.DR="",i.IsDisplayImage="",i.PurchaseValue="",i.CurrentBookValue="",i.SalvageValue="",i.Unit="",i.ReqFrom="",i.IsContainer="",i.IsSampleData="",i.Model="",i.Vendor="",i.ManufacturerId="",i.PurchaseOrder="",i.WarrantyDuration="",i.DepreciationRuleId="",i.OrderDate="",i.SalvageCost="",i.ItemLife="",i.InvoiceNumber="",i.InvoiceDate="",i.InsurerName="",i.InsuranceRefNumber="",i.InsuranceTo="",i.DeployedBy="",i.DeployedAt="",i.EnableWarranty="",i.EnableInsurance="",i.EnableItemCost="",i.EnableCalibration="",i.EnableDepreciation="";var s=new FormData;s.append("postString",JSON.stringify(i)),s.append("Files",e.DisplayImage[0]),s.append("Is_DisplayImage","Yes"),o["a"].AddAssetWizard(s).then((function(e){"SaveAndClose"==t?(a.$parent.ShowAddProduct=!1,a.$parent.FetchData(),"size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"alreadyexist"==e.data.msg?a.ShowAlert(a.$t("Already exist record!"),"warning",a.$t("Alert")):"ValidFileUploadMsg"==e.data.msg?a.ShowAlert(a.$t("Please upload valid file!"),"warning",a.$t("Alert")):"add"==e.data.msg?(a.ShowAlert(a.$t("Record Saved Successfully"),"success",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()):a.$parent.FetchData()):(a.ShowAlert(a.$t("Unknown Error"),"failure",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()):a.$parent.FetchData())):"SaveAndNew"==t&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"alreadyexist"==e.data.msg?a.ShowAlert(a.$t("Already exist record!"),"warning",a.$t("Alert")):"ValidFileUploadMsg"==e.data.msg?a.ShowAlert(a.$t("Please upload valid file!"),"warning",a.$t("Alert")):"add"==e.data.msg?(a.HideShowDeployProductFields("false"),a.FormSchema[0].Data[0].value="",a.FormSchema[0].Data[1].value="",a.FormSchema[0].Data[2].value="",a.FormSchema[0].Data[3].value="",a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[5].value="",a.FormSchema[1].Data[0].value=!1,a.FormSchema[2].Data[0].value="1",a.FormSchema[3].Data[0].value="1",a.FormSchema[4].Data[0].value="",a.FormSchema[4].Data[1].value="0",a.FormSchema[4].Data[2].value="0",a.FormSchema[4].Data[3].value="0",a.ShowAlert(a.$t("Record Saved Successfully"),"success",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?a.$parent.ShowAddProduct=!1:a.$parent.FetchData()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?a.$parent.ShowAddProduct=!1:a.$parent.FetchData()),a.$parent.OpenModelAddProduct()),a.isLoading=!1}))}else a.isLoading=!1,a.ShowAlert((a.$t("Unauthorized",[a.$t("Asset")]),a.$t("Alert")))},setFile:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const s=e.target.files[a];t.file.push(s)}},isDeployProduct(){var e=this;e.FormSchema[3].Data[0].isVisible=!0},GetAssetCost(e,t){var a=this,s=a.FormSchema[4].Data[1].value,i=a.FormSchema[4].Data[2].value;""==i&&(i=0,$("#UnitPrice").val(i));var o=parseFloat(i)*parseFloat(s);0==s&&(o=0),a.FormSchema[4].Data[3].value=o},GetUnitPrice(e,t){var a=this,s=a.FormSchema[4].Data[1].value,i=a.FormSchema[4].Data[3].value,o=0;""==i&&(i=0,a.FormSchema[4].Data[3].value=o),o=parseFloat(i)/parseFloat(s),0==s&&(o=0),a.FormSchema[4].Data[2].value=o},NumbersOnly(e,t){if("Quantity"==t){e=e||window.event;var a=e.which?e.which:e.keyCode;if(!(a>31&&(a<48||a>57)&&46==a))return!0;e.preventDefault()}},UploadFile(e){var t=this;t.fileUploaded=e.target.files[0]},removeTag:function(e){var t=this;t.confirmR(t.$t("ConfirmRemoveTag"),!0,t.$t("Delete"),(function(){var a=t.tagData.findIndex(t=>t.TAG_ID===e);a>-1&&t.tagData.splice(a,1)}))},AddLocation(){var e=this;e.IsDeployment=!0,e.ShowAddLocation=!0},async GetLocationByCompanyId(){var e=this;e.isLoading=!0;var t="reqForm=";await o["a"].GetLocationByCompanyId(t).then((function(t){e.LocationData=JSON.parse(t.data).data;var a=e.MakeNormalArray(t.data).data;$.each(a,$.proxy((function(t,s){var i=s.PARENT_LOCATION_ID,o=$.grep(e.LocationData,(function(e,t){return e.id==i}));if(0==o.length){var l=$.grep(a,(function(e,t){return e.PARENT_LOCATION_ID==i}));if(l.length>0&&l[0].LOCATION_NAME){var n={id:i,label:l[0].LOCATION_NAME,children:l.map(e=>({id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME}))};e.FormSchema[4].Data[0].config.options.push(n)}}})))})),e.LocationData.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0},OpenAddTagPopup(){var e=this;e.ShowAddProduct=!0,$("#modelAddProduct").modal("show"),setTimeout((function(){$("#modelAddProduct").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3),e.FromAddProduct=!0,e.IsTagNamePopup=!0},async GetBarcodeType(){var e=this;e.isLoading=!0;var t="BarcodeTypeId=";await o["a"].GetBarcodetype(t).then(t=>{e.BarcodeType=JSON.parse(t.data.result),e.BarcodeType.forEach((t,a)=>{e.FormSchema[0].Data[2].config.options.push({name:t.BARCODE_TYPE,value:t.BARCODE_TYPE_ID})}),e.isLoading=!1})},async GetAssetType(){var e=this;e.isLoading=!0;var t="type=ITEMCODE&issueTo=&locationId=";await o["a"].GetAssetTypeCustom(t).then(t=>{e.AssetType=JSON.parse(t.data),e.AssetType.forEach((t,a)=>{e.FormSchema[0].Data[0].config.options.push({name:t.ASSETTYPE,value:t.ASSETID})}),e.isLoading=!1}),e.AssetType.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0},close(){var e=this;e.$parent.ShowAddProduct=!1},CloseTagPopup(){var e=this;e.IsTagNamePopup=!1},CloseLocationPopup(){var e=this;e.ShowAddLocation=!1},async EnableAssetManagement(){let e="moduleName=Asset&configkey=CanSeeAssetManagement";await o["a"].EnableAssetManagement(e).then(e=>{this.IsEnableAssetManagement=e.data})},OpenAddProductTypePopup(){var e=this;e.ShowAddProductType=!0},ClosePopupProductType(){var e=this;e.ShowAddProductType=!1}}},A=S,T=(a("12e1"),Object(p["a"])(A,s,i,!1,null,null,null));t["a"]=T.exports},"1a6e":function(e,t,a){var s=a("778d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("bb872b74",s,!0,{sourceMap:!1,shadowMode:!1})},"56f6":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Tag"))+" "+e._s(e.$t("Name")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"tagForm",attrs:{autocomplete:"off"}},[t("div",{staticClass:"col-md-12 float-left px-0"},[t("div",{staticClass:"row",staticStyle:{"max-height":"450px"}},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-group"},[t("label",[t("span",{attrs:{id:""}},[e._v("Title :")])]),t("span",{staticClass:"text-danger"},[e._v("*")]),t("Field",{attrs:{name:"TagName",rules:{required:!0},label:"Title"}},[t("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tagname,expression:"tagname"}],class:{"form-control":!0},attrs:{name:"TagName",id:"TagName",type:"text"},domProps:{value:e.tagname},on:{keyup:e.searchTag,input:function(t){t.target.composing||(e.tagname=t.target.value)}}}),t("div",{staticClass:"unique_dynamicdatalist"},e._l(e.TagsArray,(function(a){return t("ul",{key:a,staticStyle:{"z-index":"auto"},on:{click:function(t){return e.setTagName(a)}}},[e.showTagDropdown?t("li",{staticStyle:{"text-transform":"capitalize"},attrs:{value:a.TAG_ID}},[e._v(" "+e._s(a.TAG_NAME))]):e._e()])})),0),e.FromAddProduct?e._e():t("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none"},attrs:{href:"javascript:;"},on:{click:e.showTagList}},[t("em",{staticClass:"dropdown-toggle float-right"})])])])],1)])])])])],1),t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success save-btn mr-1",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveTag()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save")))]),t("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;"},on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times"}),e._v(e._s(e.$t("Cancel"))+" ")])]),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",{staticClass:"text-danger"},[e._v(e._s(e.$t("MandatoryString"))+" ")])])])])])])])])])])])},i=[],o=(a("14d9"),a("1115")),l=a("8e5f"),n=a.n(l),r={components:{Multiselect:n.a},props:{FromAddProduct:{type:Boolean}},data(){return{tagname:"",tagId:"",TagsArray:[],showTagDropdown:!1,options:[]}},created:function(){var e=this;e.GetTagsByModuleId()},methods:{ClosePopup(){var e=this;e.$parent.CloseTagPopup()},SaveTag:function(){var e=this;if(e.tagname.length>0){var t={TagId:""==e.tagId?"":e.tagId,tagStatusId:1001,tagName:e.tagname.toLowerCase(),tagDesc:"",moduleName:"Asset"},a=JSON.stringify(t);o["a"].SaveTag(a).then((function(t){"Success"==t.data[0].Status&&t.data[0].Value>"0"?(e.GetTagsByModuleId(),e.ShowAlert(e.$t("Tag saved successfully!"),"success",!0,e.$t("Alert")),e.$parent.CloseTagPopup(),e.$parent.GetTagsByModuleI()):"Success"==t.data[0].Status&&"0"==t.data[0].Value&&(e.ShowAlert(e.$t("Tag Already Exist"),"failure",!0,e.$t("Alert")),e.$parent.CloseTagPopup(),e.$parent.GetTagsByModuleI())}))}else e.ShowAlert(e.$t("TagNameIsRequired"),"failure",!0,e.$t("Alert"))},setTagName:function(e){var t=this;t.tagname=e.TAG_NAME,t.tagId=e.TAG_ID,t.showTagDropdown=!1},GetTagsByModuleId:function(){var e=this;o["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},showTagList:function(){var e=this;e.showTagDropdown?e.showTagDropdown=!1:e.showTagDropdown=!0},searchTag(){var e=this;e.GetTagsByModuleId(),e.showTagDropdown=!0,setTimeout((function(){e.TagsArray=e.TagsArray.filter(t=>t.TAG_NAME.toLowerCase().includes(e.tagname.toLowerCase()))}),300)}}},d=r,c=a("2877"),u=Object(c["a"])(d,s,i,!1,null,null,null);t["a"]=u.exports},"778d":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,"#modelAddProduct .modal-dialog{max-width:1200px!important}",""]),e.exports=t}}]);
//# sourceMappingURL=chunk-b0569480.js.map