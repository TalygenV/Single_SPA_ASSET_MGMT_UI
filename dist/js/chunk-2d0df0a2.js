(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df0a2"],{"87e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("AddFeature"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[t("div",{staticClass:"p-3"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("MandatoryString")))])],1)])])])]),e.IsModule?t("PrivilegePopUp",{attrs:{moduelId:e.moduelId,subModuleId:e.subModuleId},on:{"Check-Privilege":e.CheckPrivilege}}):e._e()],1)},l=[],i=(a("14d9"),a("1115")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Privilege"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblReturnRequestBulk"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[e._v(e._s(e.$t("Privilege")))]),t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("Action")))])])]),t("tbody",e._l(e.ModuleName,(function(a,s){return t("tr",{key:s},[t("td",[e._v(" "+e._s(a.privilege_desc))]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"custom-control-input chkItems",class:{chkItems:1==a.sorting_order},staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_2"},domProps:{value:a.privilege_id},on:{click:function(t){return e.checkedValue(a.privilege_id)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_2"}})])])])})),0)])])])]),t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-info float-right",attrs:{type:"submit"},on:{click:e.save}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v("Save")])])])])])])])])},d=[],u={props:{moduelId:{},subModuleId:{},comment:[]},data(){return{ModuleName:[]}},created:function(){this.GetPrivilegeListFeature()},methods:{ClosePopup:function(){this.$parent.IsModule=!1},async GetPrivilegeListFeature(){var e=this;e.isLoading=!0;var t=`userTypeId=1&moduleId=${e.moduelId}&subModuleId=${e.subModuleId}&privilegeGroupCode=&roleId=`;await i["a"].GetPrivilegeListForFeature(t).then(t=>{e.ModuleName=t.data.PrivilegeVertical,console.log(e.ModuleName),e.isLoading=!1}),setTimeout((function(){e.CheckBoxBootstrap()}),100)},save(){var e=this,t=[];$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.push({privilege_id:$(this).val(),is_enable:1})})),e.$emit("Check-Privilege",t),e.ClosePopup()}}},r=u,n=a("2877"),c=Object(n["a"])(r,o,d,!1,null,null,null),m=c.exports,p={components:{PrivilegePopUp:m},data(){return{ModuleName:[],IsModule:!1,CheckPrivilegeValue:"",FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:"Module Name",name:"ModuleName",value:"",validationRules:{required:!0},placeholder:"",config:{options:[],onChange:this.GetSubModule}},{astype:"SelectField",label:"Sub Module",name:"SubModule",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Based On"),name:"BasedOn",value:"",placeholder:"",validationRules:{required:!0},config:{options:[{value:"Module",name:"Module"},{value:"Privilege",name:"Privilege"}],onChange:this.GetPrivilege}},{astype:"TextField",label:this.$t("Feature Name"),name:"FeatureName",value:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save")},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},created(){this.GetModuleName()},methods:{async CheckPrivilege(e){this.CheckPrivilegeValue=e},async GetModuleName(){var e=this;e.isLoading=!0;var t="moduleId=&userTypeId=&requestFrom=&isCustomFieldEnable";await i["a"].GetModuleList(t).then(t=>{e.AssetType=t.data.Data,console.log(e.AssetType),e.AssetType.forEach(t=>{e.FormSchema[0].Data[0].config.options.push({name:t.module_name,value:t.module_id})}),e.isLoading=!1}).catch(e=>{console.error(e)})},async GetSubModule(e){var t=this;t.isLoading=!0;var a=`moduleId=${e.target.value}&userTypeId=&requestFrom=&isCustomFieldEnable`;await i["a"].GetModuleList(a).then(e=>{t.ModuleName=e.data.Data,console.log(t.ModuleName),t.ModuleName.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.sub_module_name,value:e.sub_module_id})}),t.isLoading=!1}).catch(e=>{console.error(e)})},ClosePopup:function(){this.$parent.IsAddFeature=!1},async GetPrivilege(e){"Privilege"==e.target.value?(this.moduelId=this.FormSchema[0].Data[0].value,this.subModuleId=this.FormSchema[0].Data[1].value,this.IsModule=!0):this.IsModule=!1},async onSubmit(e,t){var a=this;a.isLoading=!0;var s={feature_id:0,module_id:e.ModuleName,sub_module_id:e.SubModule,feature_based_on:e.BasedOn,feature_name:e.FeatureName,status_id:1001,comment:e.Description,postString:JSON.stringify(a.CheckPrivilegeValue)},l=`feature_id=${s.feature_id}&module_id=${s.module_id}&sub_module_id=${s.sub_module_id}&feature_based_on=${s.feature_based_on}&feature_name=${s.feature_name}&status_id=${s.status_id}&comment=${s.comment}&postString=${s.postString}`;await i["a"].SaveAdvancedFeature(l).then(e=>{a.isLoading=!1,null!=e.data?(a.ClosePopup(),a.ShowAlert(a.$t("PrivilegeSave"),"success",!0,a.$t("Alert")),a.$router.push({name:"ModuleFeature"})):a.ShowAlert(a.$t("AddedError"),"failure",!1,a.$t("Alert"))})}}},v=p,h=Object(n["a"])(v,s,l,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0df0a2.js.map