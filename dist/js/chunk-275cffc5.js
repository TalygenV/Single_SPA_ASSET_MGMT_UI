(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-275cffc5"],{"3ab7":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-pane call-detail border-0 p-0",attrs:{id:"tabs-4",role:"tabpanel","aria-labelledby":"Attachment-tab"}},[e("div",{staticClass:"DivFullDetail col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[e("div",{staticClass:"col-lg-12 mt-3 p-0"},[e("div",{staticClass:"heading-border mb-2"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("Attachments")))])])]),t._l(t.AttachmentDivData,(function(a,s){return e("div",{key:"AttachmentInput-"+s,staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0",attrs:{id:"divAllFile"}},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left",attrs:{id:"attach"}},[e("div",{staticClass:"form-group",attrs:{id:"attachName"}},[e("label",[t._v(t._s(t.$t("AttachmentName")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.AttachmentName,expression:"item.AttachmentName"}],staticClass:"form-control",attrs:{type:"text",id:"attachName"+s,maxlength:"50"},domProps:{value:a.AttachmentName},on:{input:function(e){e.target.composing||t.$set(a,"AttachmentName",e.target.value)}}})])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left",attrs:{id:"divchkIsTermsAndCondition"}},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("TERM_AND_CONDITIONS"))+":")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.IsTermsAndCondition,expression:"item.IsTermsAndCondition"}],staticClass:"custom-control custom-checkbox",attrs:{type:"checkbox",id:"IsTermsAndCondition"+s},domProps:{checked:Array.isArray(a.IsTermsAndCondition)?t._i(a.IsTermsAndCondition,null)>-1:a.IsTermsAndCondition},on:{change:function(e){var s=a.IsTermsAndCondition,l=e.target,i=!!l.checked;if(Array.isArray(s)){var o=null,n=t._i(s,o);l.checked?n<0&&t.$set(a,"IsTermsAndCondition",s.concat([o])):n>-1&&t.$set(a,"IsTermsAndCondition",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(a,"IsTermsAndCondition",i)}}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left",attrs:{id:"attachFile"}},[e("div",{staticClass:"form-group float-left w-100",attrs:{id:"fileName"}},[e("label",[t._v(t._s(t.$t("Attachment"))+":")]),t._m(0,!0),e("div",{staticClass:"row",attrs:{id:"divFiles"}},[e("div",{staticClass:"col-10 col-sm-8 col-md-8 col-lg-8 col-xl-8 float-left icons"},[e("div",{staticClass:"custom-file"},[e("input",{key:t.fileInputKey,ref:"file",refInFor:!0,staticClass:"custom-file-inputs",attrs:{type:"file",size:"4",name:"FileSrc",id:"flFile"+s},on:{change:function(e){return t.UploadFile(e,s)}}})])]),e("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left p-0"},[e("a",{staticClass:"actionicons text-danger",attrs:{href:"javascript:void(0) ",title:"Clear"},on:{click:function(e){return t.RefreshField(s,t.fileUploaded)}}},[e("i",{staticClass:"fa fa-undo",staticStyle:{"font-size":"36px"}})])]),0==s?e("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left p-0"},[e("a",{staticClass:"actionicons",attrs:{href:"javascript:void(0) ",title:"Add More",id:"addMore"},on:{click:function(e){return t.addMore(a,t.AttachmentDivData)}}},[e("i",{staticClass:"fa fa-plus-circle text-success",staticStyle:{"font-size":"36px"}})])]):t._e(),0!=s?e("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 float-left p-0"},[e("a",{staticClass:"round-icon-small btn-danger-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Delete"},on:{click:function(e){return t.removeField(s,t.AttachmentDivData)}}},[e("i",{staticClass:"recyclebin fa fa-trash"})])]):t._e()])])])])})),e("tg-list",{attrs:{SearchPosition:"none",IsShowAction:!1,showCheckBox:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"ASSET_CATALOGUE_ID",HeaderText:"Asset Management",ListData:t.AttachmentList,HeaderData:t.Headers,callbackfunction:t.FetchData,TotalRecords:t.TotalRecords,widgets:t.widgets,LegendArray:t.LegendArray,RenderRowActionMethod:t.renderActions,NorecordfoundText:t.$t("NoRecordfound"),ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["Action"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.Action}},[e("a",{staticClass:"downloadfile",attrs:{title:"Download Attachment",fileType:a.row.FileType,fileType:"FileType"},on:{click:function(e){return t.DownLoadFile(a.row)}}},[e("i",{staticClass:"fa fa-download text-primary action-icon",attrs:{title:"Download Attachment"}})]),t._v("  "),e("a",{staticClass:"deletefile",attrs:{href:"javascript:;",title:"Delete",value:"",filePath:a.row.FilePath,fileType:a.row.FileType},on:{click:function(e){return t.DeleteFile(a.row)}}},[e("em",{staticClass:"fa fa-trash text-danger action-icon",attrs:{title:"Remove Attachment"}})])])]:t._e(),"IS_FOR_TERMS_CONDITION"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.Action}},[e("label",[t._v(t._s(1==a.row.IS_FOR_TERMS_CONDITION?"YES":"NO"))])])]:t._e()]}}])})],2),t._v("  "),e("div",{staticClass:"p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])},l=[function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"javascript:;","data-toggle-tooltip":"tooltip",title:"Maximum upload size per file:5MB Allowed File Types:png,jpg,jpeg,pdf"}},[e("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})])}],i=(a("14d9"),a("88a7"),a("271a"),a("5494"),a("1115")),o={data(){return{LegendArray:[],widgets:[],FormSchema:[],Headers:[{COLUMN_NAME:"SERIAL_NUMBER",DATA_TYPE:"image",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("SerialNumber"),DISPLAY_ORDER:1},{COLUMN_NAME:"ATTACHMENT_TITLE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AttachmentName"),DISPLAY_ORDER:2},{COLUMN_NAME:"ATTACHMENT_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("FileName"),DISPLAY_ORDER:3},{COLUMN_NAME:"IS_FOR_TERMS_CONDITION",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ForTermCondition"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"TERMS_CONDITION_STARTS_AT",DATA_TYPE:"date",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TermConditionStartDate"),DISPLAY_ORDER:5},{COLUMN_NAME:"Action",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Action",DISPLAY_ORDER:5,settings:{isInSlot:!0}}],AttachmentList:[],PageSize:10,PageNumber:1,PageSizeOption:null,noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,SortBy:"",SortExp:"",flag:"",buttons:[{type:"submit",class:"btn btn-warning HideTab",text:"Previous <i class='fa fa-angle-double-left pr-2'></i>",onClick:this.onPreviousClick},{type:"submit",class:"btn btn-primary HideTab",text:"Next<i class='fa fa-angle-double-right pl-2'></i>",isVisible:!1,onClick:this.onNextClick},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save "},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancelClick}],AttachmentDivData:[{AttachmentName:"",IsTermsAndCondition:"",Is_DisplayImage:""}],fileUploaded:[],fileInputKey:0,AssetCatalogId:window.location.href.split("/")[5],AssetCatalogData:[],IsEnableAssetManagement:!1}},created(){var t=this;t.FetchData(),t.GetAssetCatalogById(),t.EnableAssetManagement()},methods:{renderActions(t){},GetAssetCatalogById(){var t=this;t.isLoading=!0;var e="id="+t.AssetCatalogId;i["a"].GetById(e).then(e=>{t.AssetCatalogData=JSON.parse(e.data.result).data[0],t.isLoading=!1})},DeleteFile(t){var e=this,a=`attachmentId=${t.ASSET_ATTACHMENT_ID}&statusId=1003`;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("File"),(function(){i["a"].DeleteFile(a).then(t=>{1==t.data?(e.ShowAlert(e.$t("File has beed deleted successfully"),"success",e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("Unknown  Error"),"failure",e.$t("Alert"))})}))},onCancelClick(){var t=this;t.$parent.btnCancel()},onPreviousClick(){var t=this;t.$parent.btnPreviousTab()},UploadFile(t,e){var a=this;a.fileUploaded.splice(e,1),a.fileUploaded.push(t.target.files[0])},RefreshField(t,e){var a=this;a.fileUploaded.splice(t,1)},addMore(t,e){var a=this;a.AttachmentDivData.length+a.AttachmentList.length<5?a.AttachmentDivData.push({AttachmentName:"",IsTermsAndCondition:"",Is_DisplayImage:""}):a.ShowAlert(a.$t("Max limit reacheed (Only five attachments are allowed)"),"Warning",a.$t("Alert")),setTimeout((function(){a.CheckBoxBootstrap()}),100)},removeField(t,e){e.splice(t,1)},EnableAssetManagement:function(){let t="moduleName=Asset&configkey=CanSeeAssetManagement";i["a"].EnableAssetManagement(t).then(t=>{this.IsEnableAssetManagement=t.data})},onSubmit:function(){var t=this;if(t.AttachmentDivData.length>=0&&t.fileUploaded.forEach((e,a)=>{t.AttachmentDivData[a].fileUploaded=e}),t.IsEnableAssetManagement){let a={};a.AttachmentName=Array.prototype.map.call(t.AttachmentDivData,(function(t){return t.AttachmentName})).join(","),a.IsTermsAndCondition=Array.prototype.map.call(t.AttachmentDivData,(function(t){return t.IsTermsAndCondition})).join(","),a.DeployProduct=!1,a.AssetCatalogueId=t.AssetCatalogId,a.Name=t.AssetCatalogData.NAME,a.LocationId=t.AssetCatalogData.LOCATION_ID,a.AssetTypeId=t.AssetCatalogData.ASSET_TYPE_ID,a.BarcodeTypeId=t.AssetCatalogData.BARCODE_TYPE_ID,a.StatusId=t.AssetCatalogData.STATUS_ID.toString(),a.CreateUniqueNameListing=t.AssetCatalogData.CREATE_UNIQUE_NAME_LIST,a.TotalCost=0,a.AssetCost=0,a.DeployId=0,a.Quantity=0,a.UnitPrice=0,a.ParentUniqueId="",a.ChildUniqueId="",a.ChildCatalogueId="",a.CatalogueId="",a.CatalogHdnId="",a.SelfieEnabled="",a.ChildCategoryName="",a.AssetUniqueName="",a.AssetCatalogName="",a.Description=t.AssetCatalogData.DESCRIPTION,a.AssetTagIdsWizard="",a.AssetTypeTagIdsWizard="",a.Manufacturer="",a.NumberOfItems="0",a.AsseetGroupQuantity="",a.ItemCode="",a.ChildItemCode="",a.ChildCatalogName="",a.ChildRequestQuantity="",a.ChildAssetType="",a.AssetType="",a.StandardTypeId="",a.AssetCompartmentId="",a.AssetGroupId="",a.IsSelfCheckout="",a.IsEnableTerms="",a.SubLocationId="",a.Attachment="",a.CreatedAt="",a.CreatedBy="",a.ModifiedAt="",a.ModifiedBy="",a.Asset_Type="",a.Status="",a.ForCompany=t.AssetCatalogData.MIN_CMP_QUANTITY,a.ForEmployee=t.AssetCatalogData.MIN_EMP_QUANTITY,a.MoveToInTransitInfo="",a.AvailableItems="",a.PendingAvailableQuantity="",a.PendingTotalAvailableItems="",a.TotalQuantity="",a.ChildAvailableItems="",a.TotalFilesCount="",a.AssetTypeCategory="",a.AssetTypeCategoryName="",a.AssetTypeCategoryCode="",a.DisplayImage="",a.TotalTermsConditionFilesCount="",a.RelatedInfoId="",a.UniqueName="",a.AssetCatalogueGroup="",a.ChildCreateUniqueNameListing="",a.IsTransitItems="",a.AttachmentPath="",a.LocationName="",a.SubLocationName="",a.AuditFrequency=""==t.AssetCatalogData.AUDIT_FREQUENCY?"":t.AssetCatalogData.AUDIT_FREQUENCY,a.ImageCaptureFrequency=""==t.AssetCatalogData.IMAGE_CAPTURE_FREQUENCY?"":t.AssetCatalogData.IMAGE_CAPTURE_FREQUENCY,a.CalibrationFrequency=""==t.AssetCatalogData.CALIBRATION_FREQUENCY?"":t.AssetCatalogData.CALIBRATION_FREQUENCY,a.CR="",a.DR="",a.IsDisplayImage="",a.PurchaseValue="",a.CurrentBookValue="",a.SalvageValue="",a.Unit="",a.ReqFrom="",a.IsContainer="",a.IsSampleData="",a.Model="",a.Vendor="",a.ManufacturerId="",a.PurchaseOrder="",a.WarrantyDuration="",a.DepreciationRuleId="",a.OrderDate="",a.SalvageCost="",a.ItemLife="",a.InvoiceNumber="",a.InvoiceDate="",a.InsurerName="",a.InsuranceRefNumber="",a.InsuranceTo="",a.DeployedBy="",a.DeployedAt="",a.EnableWarranty="",a.EnableInsurance="",a.EnableItemCost="",a.EnableCalibration="",a.EnableDepreciation="";var e=new FormData;e.append("postString",JSON.stringify(a)),t.AttachmentDivData.length>=0&&t.fileUploaded.forEach((t,a)=>{var s=t;e.append("File"+a,s,t.name)}),e.append("AttachmentName",a.AttachmentName),e.append("IsTermsAndCondition",a.IsTermsAndCondition),e.append("Is_DisplayImage","No"),i["a"].UpdateCatalog(e).then((function(e){"size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?t.ShowAlert((t.$t("size_exceed",[t.$t("Asset")]),t.$t("Alert"))):"ValidFileUploadMsg"==e.data.msg?t.ShowAlert(t.fileUploaded[0].name+t.$t("InvalidFileUploadMsg"),"falure",!0,t.$t("Alert")):"update"==e.data.msg&&(t.ShowAlert(t.$t("Product has been updated Successfully"),"success",t.$t("Alert")),t.$router.push({path:"/AssetCatalog/Index"}))}))}else t.ShowAlert((t.$t("UnauthorizedAccess"),t.$t("Alert")))},DownLoadFile(t){var e=this,a=`fileId=${t.ASSET_ATTACHMENT_ID.toString()}&filePath=${t.ATTACHMENT_PATH}&fileName=${t.ATTACHMENT_NAME}&fileType=${t.ATTACHMENT_TYPE}`;i["a"].Downloadfile(a).then(a=>{if(null!=a){e.isLoading=!1;var s=window.URL.createObjectURL(new Blob([a.data])),l=document.createElement("a");l.href=s,l.setAttribute("download",t.ATTACHMENT_NAME),document.body.appendChild(l),l.click()}})},FetchData(){var t=this,e=`catalogueId=${this.$route.params.id}&isDelete=1&flag=`;i["a"].ViewFiles(e).then(e=>{JSON.parse(e.data).data.length>0?(t.AttachmentList=JSON.parse(e.data).data,t.TotalRecords=t.AttachmentList.length,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):(t.noRecord=!0,t.AttachmentList=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)})},clickEventOfColumn:function(t,e){"LOCATION_NAME"==e.COLUMN_NAME&&this.$router.push({name:"ManageProducts",params:{id:t.ASSET_CATALOGUE_ID}})},columnDataFormatter:function(t,e){return t[e.COLUMN_NAME]},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()}}},n=o,r=a("2877"),c=Object(r["a"])(n,s,l,!1,null,null,null);e["a"]=c.exports},"41ac":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 mt-2"},[e("div",{staticClass:"heading-border mb-2"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("DeployItem")))]),e("small",{staticClass:"float-right mt-2"},[e("a",{staticClass:"AddDeployItem",attrs:{id:"ancDeployItems",title:"Add"},on:{click:t.addDeployProduct}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v("Add ")])])])])])]),e("div",{staticClass:"container-fluid d-flex flex-wrap py-2"},[e("div",{staticClass:"right-content"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 Search-panel float-left pb-2 p-0"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"row mt-0"},[e("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[e("div",{staticClass:"form-group mb-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchByLocation,expression:"txtSearchByLocation"}],staticClass:"form-control",attrs:{id:"assetSearch",type:"text",placeholder:"Search by Location"},domProps:{value:t.txtSearchByLocation},on:{input:function(e){e.target.composing||(t.txtSearchByLocation=e.target.value)}}})])]),e("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[e("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[e("a",{staticClass:"btn btn-success float-left",attrs:{id:"aSearchAsset",title:"Search"},on:{click:function(e){return t.SearchByLocation()}}},[e("i",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger ml-1 float-left",attrs:{id:"aUN_ClearSearch",href:"javascript:;",title:"Clear"},on:{click:t.ClearSearch}},[e("i",{staticClass:"fa fa-refresh"})])])])])])])])]),e("tg-list",{attrs:{IsShowAction:!1,SearchPosition:"none",showCheckBox:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"ASSET_CATALOGUE_ID",HeaderText:"Asset Management",ListData:t.DeployItemData,HeaderData:t.Headers,callbackfunction:t.FetchData,TotalRecords:t.TotalRecords,NorecordfoundText:t.$t("NoRecordfound"),ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["DEPLOYEMENT_TYPE"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.NUMBER_OF_ITEM}},[e("span",{},[t._v(t._s(1==a.row.DEPLOYEMENT_TYPE?"Product":"Inventory"))])])]:t._e(),"ORDER_DATE"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.ORDER_DATE}},[e("span",{},[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.ORDER_DATE)))])])]:t._e(),"QUANTITY"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.QUANTITY}},[e("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(a.row.QUANTITY>0?a.row.QUANTITY:0))])])]:t._e(),"MODIFIED_AT"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.QUANTITY}},[t._v(" "+t._s(a.row.MODIFIED_AT)+" ")])]:t._e()]}}])}),t._v("   "),e("div",{staticClass:"p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons}})],1),t.IscheckAddDeployProduct?e("AddDeployProductpop",{attrs:{DeployItemId:t.DeployItemId,ClickType:t.ClickType},on:{DeployClosePOp:t.DeployClosePOp}}):t._e()],1)},l=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("DeployProductLocationWise")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"tagForm",attrs:{autocomplete:"off"}},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"listing OuterMainDiv"},[e("div",{staticClass:"row",staticStyle:{"max-height":"500px","overflow-y":"auto"}},[t.DataLoaded?e("dynamic-form",{ref:"tagForm1",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmitDeploy}}):t._e()],1)])])])])],1),"ADD"==t.ClickType?e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Deploy List")))])]):t._e(),"ADD"==t.ClickType?e("div",{staticClass:"listing tblassestgroupinfodetails px-1 mt-3"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblassestgroupinfodetails"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("LOCATION")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Quantity")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("UnitPrice")))])]),e("th",[e("span",[t._v(t._s(t.$t("Model")))])]),e("th",[e("span",[t._v(t._s(t.$t("Manufacturer")))])]),e("th",[e("span",[t._v(t._s(t.$t("Vendor")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("ProductCostQty")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("RefPurchaseOrder")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("OrderDate"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("InvoiceNumber")))])]),e("th",[e("span",[t._v(t._s(t.$t("InvoiceDate")))])]),e("th",[e("span",[t._v(t._s(t.$t("NameOfInsurer")))])]),e("th",[e("span",[t._v(t._s(t.$t("InsuranceReferenceNumber")))])]),e("th",[e("span",[t._v(t._s(t.$t("InsuranceTo")))])]),e("th",[e("span",[t._v(t._s(t.$t("WarrantyDuration")))])]),e("th",[e("span",[t._v(t._s(t.$t("DepreciationRule")))])]),e("th",[e("span",[t._v(t._s(t.$t("SalvageCost")))])]),e("th",[e("span",[t._v(t._s(t.$t("ItemLife")))])]),e("th",[e("span",[t._v(t._s(t.$t("Action")))])]),e("th",[e("span",[t._v(t._s(t.$t("CalibrationFrequency")))])])])]),e("tbody",[t._l(t.arryaofData,(function(a,s){return e("tr",{key:s},[e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.Location))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.Quantity))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.UnitPrice))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.Model))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.Manufacture))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.Vendor))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.ProductCostQty))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.RefPurchaseOrder))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(t.$options.filters.formatDateTime(a.OrderDate))+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.InvoiceNumber))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(t.$options.filters.formatDateTime(a.InvoiceDate))+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.NameofInsurer))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.InsuranceReferenceNumber))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(t.$options.filters.formatDateTime(a.InsuranceValidUpto))+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(t.$options.filters.formatDateTime(a.WarrantyDuration))+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.DepreciationRule))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.SalvageCost))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(t._s(a.ProductLifeInYears))])]),e("td",{staticClass:"single-action text-center",attrs:{id:"action_1"}},[e("a",{staticClass:"deleteDataRow",attrs:{href:"javascript:;",title:"Delete"}},[e("em",{staticClass:"fa fa-trash action-icon text-danger",on:{click:function(e){return t.DeleteRow(s)}}})])])])})),1==t.noRecord?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"20"}},[t._v(t._s(t.$t("NoRecordfound"))+" ")])]):t._e()],2)])])]):t._e(),t.arryaofData.length>0?e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0 m-2"},[e("div",{staticClass:"row flex-row-reverse m-0"},[e("div",{staticClass:"col-lg-4 text-right"},[e("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v(t._s(t.$t("Save")))])]),e("a",{staticClass:"btn btn-danger formbtn text-white",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.ClosePopup()}}},[e("i",{staticClass:"fa fa-close pr-2"}),e("span",[t._v(t._s(t.$t("Cancel")))])])])])]):t._e()])])])])},o=[],n=(a("14d9"),a("1115")),r=a("240d"),c={components:{"tree-view":r["TreeSelectField"]},props:{ClickType:{type:String},AsseCatalogtId:{type:String},DeployItemId:{type:String}},data(){return{arryaofData:[],LocationData:[],FormSchema:[{layoutType:"double",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",config:{options:[]},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("DeploymentType"),name:"DeployMentType",value:"1",placeholder:"",config:{options:[{value:"1",name:"Product"},{value:"2",name:"Inventory"}],onChange:this.OnDeplymentType},validationRules:{required:!1}},{astype:"NumericField",label:this.$t("Quantity"),name:"Quantity",value:"",placeholder:"",validationRules:"required",config:{onKeyUp:this.calcSum}},{astype:"NumericField",label:this.$t("Unit Price"),name:"UnitPrice",value:"",placeholder:"",validationRules:"required",config:{onKeyUp:this.calcSum}},{astype:"TextField",label:this.$t("Model"),name:"Model",value:"",placeholder:""},{astype:"TextField",label:this.$t("Manufacture"),name:"Manufacture",value:"",placeholder:""},{astype:"TextField",label:this.$t("Vendor"),name:"Vendor",value:"",placeholder:""},{astype:"NumericField",label:this.$t("ProductCostQty"),name:"ProductCostQty",value:"",placeholder:"",disabled:!0,validationRules:"required"},{astype:"TextField",label:this.$t("RefPurchaseOrder"),name:"RefPurchaseOrder",value:"",placeholder:""},{astype:"DateField",label:this.$t("OrderDate"),name:"OrderDaTe",value:"",placeholder:"10/12/2022 12:AM",config:{format:"M/D/YYYY",maxDate:new Date}},{astype:"TextField",label:this.$t("InvoiceNumber"),name:"InvoiceNumber",value:"",placeholder:""},{astype:"DateField",label:this.$t("InvoiceDate"),name:"InvoiceDate",value:"",placeholder:"10/12/2022 12:AM",config:{format:"M/D/YYYY",maxDate:new Date}},{astype:"TextField",label:this.$t("InsuranceReferenceNumber"),name:"InsuranceReferenceNumber",value:"",placeholder:"",disabled:!0},{astype:"TextField",label:this.$t("Name of Insurer"),name:"NameofInsurer",value:"",placeholder:"",disabled:!0},{astype:"DateField",label:this.$t("InsuranceValidUpto"),name:"InsuranceValidUpto",value:"",placeholder:"10/12/2022 12:AM",disabled:!0,config:{format:"M/D/YYYY"}},{astype:"DateField",label:this.$t("WarrantyDuration"),name:"WarrantyDuration",value:"",placeholder:"10/12/2022 12:AM",config:{format:"M/D/YYYY",minDate:new Date}},{astype:"SelectField",label:this.$t("DepreciationRule"),name:"DepreciationRule",value:"",placeholder:"",disabled:!0,config:{options:[]}},{astype:"TextField",label:this.$t("ProductLifeInYears"),name:"ProductLifeInYears",value:"",placeholder:"",disabled:!0},{astype:"NumericField",label:this.$t("Salvage Cost"),name:"SalvageCost",value:"",placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-Primary",text:"<i class='fa fa-plus pr-2'></i>Add To List",isVisible:!0},{type:"button",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save ",isVisible:!1,onClick:this.SubmitData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",isVisible:!1,onClick:this.ClosePopup}],DataLoaded:0,LocationName:"",noRecord:!1}},created:async function(){var t=this;"UPDATE"==t.ClickType?(t.BindDataFileds(),t.buttons[0].isVisible=!1,t.buttons[1].isVisible=!0,t.buttons[2].isVisible=!0):"ADD"==t.ClickType&&(t.buttons[0].isVisible=!0,t.arryaofData.length<=0&&(t.noRecord=!0)),await t.GetLocation(),t.DataLoaded=1},methods:{DeleteRow(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("ASSET_CATALOGUE_ID"),(function(){e.arryaofData.splice(t,1)}))},OnDeplymentType(t,e){e.value=t.target.getAttribute("data-value")},ClosePopup(){var t=this;t.$parent.DeployClosePOp()},async GetLocation(){var t=this;t.isLoading=!0;var e="reqForm=";await n["a"].GetLocationByuserId(e).then(e=>{t.LocationData=e.data.data,t.FindalLocationArray=[],t.LocationData.forEach(a=>{var s=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,l=t.getChildLocation(s,a,e.data.data);t.FindalLocationArray.push(l)}}),t.FormSchema[0].Data[0].config.options=t.FindalLocationArray})},getChildLocation:function(t,e,a){let s=this,l={};l={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let i=l;var o=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let n=[];return o.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var i=n.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==i.length){var o=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=o&&o.length>0){let l=s.getChildLocation(e,t,a);n.push(l)}else l={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},n.push(l)}}),i.children=n,i},calcSum(t){var e=this;let a=0;a=e.FormSchema[0].Data[2].value*e.FormSchema[0].Data[3].value,e.FormSchema[0].Data[7].value=a},onSubmitDeploy:function(t,e){var a=this;a.arryaofData.push(t),a.noRecord=!1;let s=a.LocationData.filter(e=>e.COMPANY_LOCATION_ID==t.Location);a.LocationName=s[0].LOCATION_NAME,a.FormSchema[0].Data[0].value=null,a.FormSchema[0].Data[2].value=0,a.FormSchema[0].Data[3].value=0,a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[5].value="",a.FormSchema[0].Data[6].value="",a.FormSchema[0].Data[7].value=0,a.FormSchema[0].Data[8].value="",a.FormSchema[0].Data[9].value=null,a.FormSchema[0].Data[10].value="",a.FormSchema[0].Data[11].value=null,a.FormSchema[0].Data[15].value=null,a.FormSchema[0].Data[16].value=null,a.FormSchema[0].Data[17].value=null,a.FormSchema[0].Data[18].value=null},async SubmitData(){var t=this,e=[];let a={};t.arryaofData.forEach((s,l)=>{a={DeployId:"UPDATE"==t.ClickType?t.DeployItemId:0,AssetCatalogueId:parseInt(t.$route.params.id),LocationId:s.Location,Quantity:s.Quantity,UnitPrice:s.UnitPrice,Model:s.Model,Manufacturer:s.Manufacture,Vendor:s.Vendor,PurchaseOrder:s.RefPurchaseOrder,WarrantyDuration:s.WarrantyDuration,DepreciationRuleId:0,OrderDate:s.OrderDaTe,AssetCost:s.ProductCostQty,SalvageCost:s.SalvageCost,ItemLife:null,InvoiceNumber:s.InvoiceNumber,InvoiceDate:s.InvoiceDate,InsurerName:s.NameofInsurer,InsuranceRefNumber:s.InsuranceReferenceNumber,InsuranceTo:s.InsuranceValidUpto,DeploymentType:s.DeployMentType},e.push(a)});JSON.stringify(e);await n["a"].SaveDeploy(e).then((function(e){"DeployedSuccessfully"==e.data.msg?(t.ClosePopup(),t.$parent.FetchData(),t.ShowAlert(t.$t("ProductDeployAdd"),"success",!0,t.$t("Alert"))):(e.data.msg="DeployItem")?(t.ClosePopup(),t.$parent.FetchData(),t.ShowAlert(t.$t("ProductDeployUpdated"),"success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("UnknownError"),"failure",t.$t("Alert"))}))},async BindDataFileds(){var t=this,e=`DeployItemId=${t.DeployItemId}&AssetCatalogId=${this.$route.params.id}`;await n["a"].GetDeployItems(e).then(e=>{if(null!=JSON.parse(e.data.result)){var a=JSON.parse(e.data.result);JSON.parse(e.data.result).length>0&&(t.FormSchema[0].Data[0].value=a[0].location,t.FormSchema[0].Data[2].disabled=!0,t.FormSchema[0].Data[1].value="1"==a[0].deployement_type?"1":"2",t.FormSchema[0].Data[2].value=a[0].quantity,t.FormSchema[0].Data[3].value=a[0].unit_price,t.FormSchema[0].Data[4].value=a[0].model,t.FormSchema[0].Data[5].value=a[0].manufacturer,t.FormSchema[0].Data[6].value=a[0].vendor,t.FormSchema[0].Data[7].value=a[0].asset_cost,t.FormSchema[0].Data[8].value=a[0].purchase_order,t.FormSchema[0].Data[9].value=a[0].order_date,t.FormSchema[0].Data[10].value=a[0].invoice_number,t.FormSchema[0].Data[11].value=a[0].invoice_date,t.FormSchema[0].Data[12].value=a[0].insurance_ref_number,t.FormSchema[0].Data[13].value=a[0].insurer_name,t.FormSchema[0].Data[14].value=a[0].insurance_valid_upto,t.FormSchema[0].Data[15].value=a[0].warranty_duration,t.FormSchema[0].Data[16].value=a[0].depreciation_rule,t.FormSchema[0].Data[17].value=a[0].item_life,t.FormSchema[0].Data[18].value=a[0].salvage_cost)}setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)})}}},d=c,u=a("2877"),m=Object(u["a"])(d,i,o,!1,null,null,null),p=m.exports,A={components:{AddDeployProductpop:p},data(){return{Headers:[{COLUMN_NAME:"LOCATION_NAME",DATA_TYPE:"image",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Location"),DISPLAY_ORDER:1,settings:{clickEvent:this.clickEventOfColumn,formatter:this.columnDataFormatter}},{COLUMN_NAME:"MODEL",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("model"),DISPLAY_ORDER:2},{COLUMN_NAME:"PURCHASE_ORDER",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("PurchaseOrder"),DISPLAY_ORDER:3},{COLUMN_NAME:"MANUFACTURER",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Manufacturer"),DISPLAY_ORDER:4},{COLUMN_NAME:"INVOICE_NUMBER",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BillNumber"),DISPLAY_ORDER:5},{COLUMN_NAME:"ORDER_DATE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("order_date"),DISPLAY_ORDER:4},{COLUMN_NAME:"DEPLOYEMENT_TYPE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DeploymentType"),DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"DEPLOYED_BY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DeployedBy"),DISPLAY_ORDER:7},{COLUMN_NAME:"MODIFIED_AT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DeployedAt"),DISPLAY_ORDER:8,settings:{isInSlot:!0}},{COLUMN_NAME:"QUANTITY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Quantity"),DISPLAY_ORDER:9,settings:{isInSlot:!0}},{COLUMN_NAME:"ASSET_COST",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AssetCost"),DISPLAY_ORDER:10}],DeployItemData:[],PageSize:10,PageNumber:1,PageSizeOption:null,noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,SortBy:"",SortExp:"",IscheckAddDeployProduct:!1,buttons:[{type:"submit",class:"btn btn-warning HideTab",text:"Previous <i class='fa fa-angle-double-left pr-2'></i>",isVisible:!0,onClick:this.onPreviousClick},{type:"submit",class:"btn btn-primary HideTab",text:"Next<i class='fa fa-angle-double-right pl-2'></i>",isVisible:!0,onClick:this.onNextClick},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save ",isVisible:!1,onClick:this.onSubmit},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",isVisible:!1,onClick:this.onCancel}],ClickType:"",AsseCatalogtId:"",DeployItemId:"",txtSearchByLocation:""}},created(){var t=this;t.FetchData()},methods:{onCancel(){var t=this;t.$parent.btnCancel()},onNextClick(){var t=this;t.$parent.btnNextTab()},onPreviousClick(){var t=this;t.$parent.btnPreviousTab()},DeployClosePOp:function(){var t=this;t.IscheckAddDeployProduct=!1},addDeployProduct:function(){var t=this;t.ClickType="ADD",t.IscheckAddDeployProduct=!0},SearchByLocation(){var t=this;t.searchBy=""==t.txtSearchByLocation?"":t.txtSearchByLocation,t.FetchData()},ClearSearch(){var t=this;t.searchBy="",t.txtSearchByLocation="",t.FetchData()},FetchData(){var t=this,e=`search=${""==t.searchBy?"":t.txtSearchByLocation}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&reqstatus=&LocationId=&catalogId=${this.$route.params.id}`;n["a"].ShowDeployItems(e).then(e=>{null!=JSON.parse(e.data).data&&(JSON.parse(e.data).data.length>0?(t.DeployItemData=JSON.parse(e.data).data,t.TotalRecords=t.DeployItemData.length,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):(t.noRecord=!0,t.DeployItemData=[],t.TotalRecords=0)),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)})},clickEventOfColumn:function(t,e){var a=this;"LOCATION_NAME"==e.COLUMN_NAME&&(a.ClickType="UPDATE",a.AsseCatalogtId=t.ASSET_CATALOGUE_ID,a.DeployItemId=t.DEPLOY_ITEM_ID,a.IscheckAddDeployProduct=!0)},columnDataFormatter:function(t,e){return t[e.COLUMN_NAME]},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()}}},h=A,D=Object(u["a"])(h,s,l,!1,null,null,null);e["a"]=D.exports}}]);
//# sourceMappingURL=chunk-275cffc5.js.map