(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b27f6a"],{"5f12":function(t,e,a){"use strict";a("7047")},"62ac":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".vue-treeselect__control{border:none;height:24px;padding:0}.vue-treeselect--searchable .vue-treeselect__input-container{padding:0!important}.vue-treeselect__placeholder{color:#303030!important}.vue-treeselect__control-arrow{color:#000}.vue-treeselect__placeholder{line-height:24px}",""]),t.exports=e},7047:function(t,e,a){var s=a("62ac");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("8089489e",s,!0,{sourceMap:!1,shadowMode:!1})},"924b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[t._m(0),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-0 pb-2"},[e("div",{staticClass:"d-flex flex-wrap"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Location"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("tree-view",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{options:t.options,placeholder:"Select Location","show-count":!0},model:{value:t.LocationValue,callback:function(e){t.LocationValue=e},expression:"LocationValue"}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a[0]))]):t._e()]}}])})],1)]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[t._m(1),e("Field",{attrs:{name:"Product Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtproductName,expression:"txtproductName"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{maxlength:"100",type:"text"},domProps:{value:t.txtproductName},on:{input:function(e){e.target.composing||(t.txtproductName=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Product Name"}},[t._v(t._s(a[0]))]):t._e()]}}])})],1)]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Product Type:")]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProductValue,expression:"selectedProductValue"}],staticClass:"form-control",attrs:{name:"AssetTypeId"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedProductValue=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.AssetType,(function(a){return e("option",{key:a,domProps:{value:a.ASSETID}},[t._v(" "+t._s(a.ASSETTYPE)+" ")])}))],2)])])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[t._m(2),e("Field",{attrs:{name:"Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtrequestQuantity,expression:"txtrequestQuantity"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{type:"text",maxlength:"8"},domProps:{value:t.txtrequestQuantity},on:{input:function(e){e.target.composing||(t.txtrequestQuantity=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Quantity"}},[t._v(t._s(a[0]))]):t._e()]}}])})],1)])])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Description"}},[t._v(t._s(t.$t("Description"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtDescription,expression:"txtDescription"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"description",type:"text",placeholder:"Description",rows:"5",maxlength:"250"},domProps:{value:t.txtDescription},on:{input:function(e){e.target.composing||(t.txtDescription=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"description"}},[t._v(t._s(a[0]))]):t._e()]}}])})],1)]),e("AddQuotes",{on:{quotes:t.quotes}}),e("OnlinePurchase",{on:{purchases:t.purchases}}),e("div",{staticClass:"col-lg-12 mb-3"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success pr-2 mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.saveNewRequisition("ACT")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" Save ")]),e("a",{staticClass:"btn btn-success pr-2 mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.saveNewRequisitionAsDraft("Draft")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" Save As Draft ")]),t._m(3)]),t._m(4)])])],1)])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(" New Product Type Request ")]),e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white",attrs:{href:"/AssetRequisition/NewAssetRequisitionListing","data-toggle-tooltip":"tooltip","data-original-title":"Back to list"}},[e("i",{staticClass:"fa fa-angle-double-left pr-2"}),e("br"),e("span",[t._v("Back to list")])])])])},function(){var t=this,e=t._self._c;return e("label",[t._v(" Product Name:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v(" Requested Quantity:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"btn btn-danger mr-2",attrs:{href:"/AssetRequisition/NewAssetRequisitionListing","data-original-title":"Cancel"}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(" Cancel ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-6 py-2"},[e("span",{staticClass:"mandatory"},[t._v("Fields marked with an asterisk (*) are mandatory.")])])}],r=(a("14d9"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12 mt-3 p-3"},[e("div",{staticClass:"heading-border mb-2"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Add Quotes")]),e("small",{staticClass:"float-right"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.addRow()}}},[e("i",{staticClass:"fa fa-plus pr-1"}),t._v("Add Row ")])])])]),t._l(t.newDynamicField,(function(a,s){return e("div",{key:s,staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3"},[e("div",{staticClass:"row addQuoteRows"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[t._m(0,!0),e("div",{staticClass:"input-group"},[e("Field",{staticClass:"w-100",attrs:{name:"Vendor"+(s+1),rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.getVenderValue,expression:"item.getVenderValue"}],class:{"form-control w-100":!0,"is-invalid":i[0]},attrs:{name:"Vendor"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"getVenderValue",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.venderList,(function(a){return e("option",{key:a,domProps:{value:a.Value}},[t._v(" "+t._s(a.Text)+" ")])}))],2),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Vendor"+(s+1)}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-lg-2"},[e("div",{staticClass:"form-group"},[t._m(1,!0),e("div",{staticClass:"input-group"},[e("Field",{attrs:{name:"RequestQuantity"+(s+1),rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.txtrequestQuantity,expression:"item.txtrequestQuantity"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text"},domProps:{value:a.txtrequestQuantity},on:{input:function(e){e.target.composing||t.$set(a,"txtrequestQuantity",e.target.value)}}}),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"RequestQuantity"+(s+1)}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-md-1"},[e("div",{staticClass:"form-group"},[t._m(2,!0),e("div",{staticClass:"input-group"},[e("Field",{staticClass:"w-100",attrs:{name:"Currency"+(s+1),rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.getCurrencyValue,expression:"item.getCurrencyValue"}],class:{"form-control w-100":!0,"is-invalid":i[0]},attrs:{name:"Currency"+(s+1)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"getCurrencyValue",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.currencyList,(function(a,s){return e("option",{key:s,domProps:{value:a.CurrencyId}},[t._v(" "+t._s(a.Currency)+" ")])}))],2),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Currency"+(s+1)}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-lg-1 pl-0"},[e("div",{staticClass:"form-group"},[t._m(3,!0),e("Field",{attrs:{name:"UnitPrice"+(s+1),rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.txtUnitPrice,expression:"item.txtUnitPrice"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text"},domProps:{value:a.txtUnitPrice},on:{keyup:function(e){return t.calculateTotalQuantity(a)},input:function(e){e.target.composing||t.$set(a,"txtUnitPrice",e.target.value)}}}),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"UnitPrice"+(s+1)}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-1 pl-0"},[e("div",{staticClass:"form-group"},[t._m(4,!0),e("input",{staticClass:"form-control",attrs:{name:"totalPrice"+(s+1),id:"totalPrice"+(s+1),type:"text",disabled:""},domProps:{value:a.txtTotalPrice}})])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Upload Quote:")]),e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group"},[e("div",{staticClass:"custom-file"},[e("input",{staticStyle:{position:"absolute",clip:"rect(0px, 0px, 0px, 0px)"},attrs:{type:"file",name:"FileSrc"+(s+1),id:"flFile"+(s+1),"data-file":"multi",tabindex:"-1"},on:{change:function(e){return t.setFile(e,s)}}}),e("div",{staticClass:"bootstrap-filestyle input-group"},[e("input",{staticClass:"form-control disabled",attrs:{type:"text",disabled:""},domProps:{value:a.uploadQuote}}),e("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"}},[e("span",{staticClass:"group-span-filestyle input-group-btn input-group-text bg-white",attrs:{tabindex:"0"}},[e("label",{staticClass:"mb-0 font-weight-normal",attrs:{title:"Click here to select a file.",for:"flFile"+(s+1)}},[t._v("Choose File")])]),e("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[e("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",title:"Clear"},on:{click:function(e){return t.Clear()}}},[e("i",{staticClass:"fa fa-undo"})])])])])])])])])]),e("div",{staticClass:"col-lg-1 mt-4"},[e("a",{staticClass:"btn btn-danger theme-primary removefield",attrs:{href:"javascript:void;"},on:{click:function(e){return t.removeRow(a.count)}}},[e("i",{staticClass:"fa fa-times pt-7",attrs:{title:""}})])])])])}))],2)}),n=[function(){var t=this,e=t._self._c;return e("label",[t._v("Vendor:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Requested Quantity:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Currency:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Unit Price:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Total Price:"),e("span",{staticClass:"text-danger"},[t._v("*")])])}],l=a("1115"),o={data(){return{newDynamicField:[{getVenderValue:"",txtrequestQuantity:"",getCurrencyValue:"",txtUnitPrice:"",txtTotalPrice:"",uploadQuote:"",count:1}],quotes:{},specificCount:null,venderList:[],currencyList:[],purchases:[],files:[]}},async created(){var t=this;await t.getVendorlist(),await t.getCurrencylist()},methods:{setFile:function(t,e){var a=this;a.newDynamicField.forEach(s=>{const i=a.newDynamicField.find(t=>t.count===e+1);null!=i&&(i.uploadQuote=t.target.files[0].name)}),console.log(a.newDynamicField),this.files.push(t.target.files[0])},getVendorlist(){l["a"].GetCrmVendor().then(t=>{null!=t.data&&(this.venderList=t.data)})},getCurrencylist(){l["a"].GetCurrency().then(t=>{null!=t.data&&(this.currencyList=t.data)})},calculateTotalQuantity(t){var e=this;e.specificCount=t.count,e.newDynamicField.forEach(a=>{a.count==e.specificCount&&(a.txtTotalPrice=t.txtrequestQuantity*t.txtUnitPrice)})},addRow(){var t=this;t.quotes={};const e=t.newDynamicField.find(e=>e.count===t.specificCount);null!=e&&(t.quotes={quoteId:0,quoteVendor:e.getVenderValue,quoteQuantity:e.txtrequestQuantity,quoteAmount:e.txtUnitPrice,quotePrice:e.getCurrencyValue,uploadQuote:e.uploadQuote},t.specificCount=null);let a={getVenderValue:"",txtrequestQuantity:"",getCurrencyValue:"",txtUnitPrice:"",uploadQuote:"",count:1};a.count=t.newDynamicField.length+1,t.newDynamicField.push(a),t.$emit("quotes",t.quotes)},removeRow(t){var e=this;const a=e.newDynamicField.findIndex(e=>e.count===t);return-1!==a&&e.newDynamicField.splice(a,1),!0}}},c=o,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,null,null),p=d.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12 mt-3 p-3"},[e("div",{staticClass:"heading-border mb-2"},[e("h5",{staticClass:"h5"},[e("span",{attrs:{id:"TabHeading2"}},[t._v("Online Purchase")]),e("small",{staticClass:"float-right"},[e("a",{staticClass:"addPurchaseLinkRows",attrs:{href:"javascript:;",title:""},on:{click:t.showRow}},[e("i",{staticClass:"fa fa-plus pr-1"}),t._v("Add Row ")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3"},t._l(t.newDynamicField,(function(a,s){return e("div",{key:s,staticClass:"row addQuoteRows"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[t._m(0,!0),e("div",{staticClass:"input-group"},[e("Field",{staticClass:"w-100",attrs:{name:"Vendor",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.purchase_vendor,expression:"item.purchase_vendor"}],class:{"form-control w-100":!0,"is-invalid":s[0]},attrs:{name:"Vendor"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"purchase_vendor",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.venderList,(function(a){return e("option",{key:a,domProps:{value:a.Value}},[t._v(" "+t._s(a.Text)+" ")])}))],2),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Vendor"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-lg-2"},[e("div",{staticClass:"form-group"},[t._m(1,!0),e("div",{staticClass:"input-group"},[e("Field",{attrs:{name:"Request Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.txtpurchaseQuantity,expression:"item.txtpurchaseQuantity"}],class:{"form-control":!0,"is-invalid":s[0]},attrs:{type:"text"},domProps:{value:a.txtpurchaseQuantity},on:{input:function(e){e.target.composing||t.$set(a,"txtpurchaseQuantity",e.target.value)}}}),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Request Quantity"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-md-1"},[e("div",{staticClass:"form-group"},[t._m(2,!0),e("div",{staticClass:"input-group"},[e("Field",{staticClass:"w-100",attrs:{name:"Currency",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.getCurrencyValue,expression:"item.getCurrencyValue"}],class:{"form-control w-100":!0,"is-invalid":s[0]},attrs:{name:"Currency"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"getCurrencyValue",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.currencyList,(function(a,s){return e("option",{key:s,domProps:{value:a.CurrencyId}},[t._v(" "+t._s(a.Currency)+" ")])}))],2),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Currency"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-lg-1 pl-0"},[e("div",{staticClass:"form-group"},[t._m(3,!0),e("Field",{attrs:{name:"Unit Price",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.priceAmount,expression:"item.priceAmount"}],class:{"form-control":!0,"is-invalid":s[0]},attrs:{type:"text"},domProps:{value:a.priceAmount},on:{keyup:function(e){return t.calculateTotalQuantity()},input:function(e){e.target.composing||t.$set(a,"priceAmount",e.target.value)}}}),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Unit Price"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-1 pl-0"},[e("div",{staticClass:"form-group"},[t._m(4,!0),e("input",{directives:[{name:"model",rawName:"v-model",value:a.purchasePrice,expression:"item.purchasePrice"}],staticClass:"form-control TotalPrice",attrs:{type:"text",disabled:""},domProps:{value:a.purchasePrice},on:{input:function(e){e.target.composing||t.$set(a,"purchasePrice",e.target.value)}}})])]),t._l(a.purchaseDynamicField,(function(s,i){return e("div",{key:"A"+i,staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[t._m(5,!0),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.purchase_link,expression:"purchase.purchase_link"}],staticClass:"form-control",attrs:{type:"text",name:"purchaseLink"},domProps:{value:s.purchase_link},on:{input:function(e){e.target.composing||t.$set(s,"purchase_link",e.target.value)}}}),e("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"}},[t._m(6,!0),e("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[0==parseInt(i)?e("a",{staticClass:"round-icon-small btn-dark theme-primary round-icon-small",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.addLinkRow(a.count)}}},[e("i",{staticClass:"fa fa-plus pt-7"})]):t._e(),t._v("   "),e("a",{staticClass:"btn btn-danger theme-primary removefield",attrs:{href:"javascript:void;"},on:{click:function(e){return t.removeRow(a.count)}}},[e("i",{staticClass:"fa fa-times pt-7",attrs:{title:""}})])])])])])])}))],2)})),0)])},m=[function(){var t=this,e=t._self._c;return e("label",[t._v("Vendor:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Requested Quantity:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Currency:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Unit Price:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Total Price:"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Purchase Link"),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"group-span-filestyle input-group-btn input-group-text bg-grey"},[e("a",{staticClass:"mb-0 font-weight-normal",attrs:{title:"Click here to copy link."}},[e("i",{staticClass:"fa fa-copy"})])])}],f={data(){return{isVisible:!1,newDynamicField:[{purchase_vendor:"",txtpurchaseQuantity:"",getCurrencyValue:"",purchasePrice:"",priceAmount:"",count:1,purchaseDynamicField:[{purchase_link_id:0,purchase_link:"",pcount:1}]}],specificCount:null,venderList:[],currencyList:[],purchases:[],purchaseObj:{},purchaseData:[]}},created(){var t=this;t.getVendorlist(),t.getCurrencylist()},methods:{getVendorlist(){l["a"].GetCrmVendor().then(t=>{null!=t.data&&(this.venderList=t.data)})},getCurrencylist(){l["a"].GetCurrency().then(t=>{null!=t.data&&(this.currencyList=t.data)})},calculateTotalQuantity(){var t=this;t.purchasePrice=t.txtpurchaseQuantity*t.priceAmount},showRow(){var t=this;if(0==t.isVisible)return t.isVisible=!0;{let e={purchase_vendor:"",txtpurchaseQuantity:"",getCurrencyValue:"",purchasePrice:"",priceAmount:"",count:1,purchaseDynamicField:[{purchase_link_id:0,purchase_link:"",pcount:1}]};e.count=t.newDynamicField.length+1,t.newDynamicField.push(e)}},addLinkRow(t){var e=this;e.specificCount=t,e.isVisible=!0;let a={};const s=e.newDynamicField.find(t=>t.count===e.specificCount);null!=s&&(a={purchase_link_id:0,purchase_link:"",pcount:e.newDynamicField[0].purchaseDynamicField.length+1},e.newDynamicField.forEach(t=>{t.count==e.specificCount&&t.purchaseDynamicField.push(a)})),console.log("new",e.newDynamicField),e.purchaseData={purchase_id:0,purchase_vendor:e.newDynamicField.purchase_vendor,purchaseQuantity:e.txtpurchaseQuantity,purchasePrice:e.getCurrencyValue,ppriceAmount:e.priceAmount,purchaseTotalPrice:e.purchasePrice,purchaselinks:e.purchases}},removeRow(t){var e=this;const a=e.newDynamicField.findIndex(e=>e.count===t);return-1!==a&&e.newDynamicField.splice(a,1),!0}}},_=f,C=Object(u["a"])(_,v,m,!1,null,null,null),g=C.exports,h=a("ca17"),y=a.n(h),x=(a("542c"),{components:{AddQuotes:p,OnlinePurchase:g,"tree-view":y.a},data(){return{options:[],LocationValue:"",txtDescription:"",txtrequestQuantity:null,txtproductName:"",AssetType:[],selectedProductValue:null,isLoading:!1,qoutesArray:[],purchaseArray:[]}},created(){var t=this;t.GetLocationByCompanyId(),t.GetAssetType()},methods:{GetLocationByCompanyId:async function(){var t=this,e="reqForm=assetassignment";await l["a"].GetLocationByuserId(e).then(e=>{t.FindalLocationArray=[],e.data.data.forEach(a=>{var s=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=t.getChildLocation(s,a,e.data.data);t.FindalLocationArray.push(i)}}),t.options=t.FindalLocationArray})},getChildLocation:function(t,e,a){let s=this,i={};i={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let r=i;var n=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let l=[];return n.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var r=l.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==r.length){var n=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=n&&n.length>0){let i=s.getChildLocation(e,t,a);l.push(i)}else i={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},l.push(i)}}),r.children=l,r},async GetAssetType(){var t=this;t.isLoading=!0;var e="type=ITEMCODE&issueTo=&locationId=";await l["a"].GetAssetTypeCustom(e).then(e=>{t.AssetType=JSON.parse(e.data),t.isLoading=!1})},quotes:function(t){var e=this;e.qoutesArray.push(t),console.log("sss",e.qoutesArray)},purchases:function(t){var e=this;e.purchaseArray=[],e.purchaseArray=t,console.log("ppp",e.purchaseArray)},saveNewRequisition(t){let e=t;var a=this,s=new FormData;let i={RequisitionId:0,location:a.LocationValue,productname:a.txtproductName,productType:a.selectedProductValue,quantity:a.txtrequestQuantity,description:a.txtDescription,status:e,purchases:a.purchaseArray,quotes:a.qoutesArray};s.append("postString",JSON.stringify(i)),console.log("obj",i),l["a"].AddUpdateNewRequisition(s).then(t=>{console.log("response",t)})},saveNewRequisitionAsDraft(t){let e=t;var a=this,s=new FormData;let i={RequisitionId:0,location:a.LocationValue,productname:a.txtproductName,productType:a.selectedProductValue,quantity:a.txtrequestQuantity,description:a.txtDescription,status:e,purchases:a.purchaseArray,quotes:a.qoutesArray};s.append("postString",JSON.stringify(i)),console.log("obj",i),l["a"].AddUpdateNewRequisition(s).then(t=>{console.log("response",t)})}}}),w=x,b=(a("5f12"),Object(u["a"])(w,s,i,!1,null,null,null));e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-10b27f6a.js.map