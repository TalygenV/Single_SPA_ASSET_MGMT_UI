import{_ as Ue,R as Ft,r as Gt,o as st,c as pt,a as V,t as ct,i as Vt,v as xh,n as ge,F as Ut,f as Ce,e as It,d as Xt,h as te,j as O0,k as z0,l as B0,p as Vu,q as Ie,w as ln,x as Jn,y as rr,b as Ze,z as el,A as X0,B as Y0}from"./index.39612647.js";import{V as H0}from"./vue3-apexcharts.common.612ee77c.js";const U0={data:function(){return{isLoading:!1,reportGroups:[]}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpop").modal("show")},methods:{CloseDashboardView:function(){var t=this;t.$parent.showAdddashboard=!1},GetDynamicReport(){var t=this,e="moduleName=";Ft.GetDynamicReport(e).then(function(n){t.reportGroups=n.data,setTimeout(()=>{t.CheckBoxBootstrap()},1e3)})},saveDashboard:function(){var t=this;debugger;var e=[];for(let l=0;l<t.reportGroups.length;l++)$("#tblReport"+l+" .chkItems:checked").not("[id^='chkAll']").each(function(f){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:l,xaxis:0,yaxis:0})});var n=0,r=0;for(let l=0;l<e.length;l++)e[l].xaxis=n,e[l].yaxis=r,n==4?(n=0,r=r+2):n=n+2;var o={dashboardName:t.dashboradName,dashboardDesc:"added dashboard",moduleName:"CRM",reports:e};t.isLoading=!0;var u=JSON.stringify(o);Ft.SaveDashboard(u).then(function(l){t.isLoading=!1,l.data.status=="Success"?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),$("#modalprojectquickviewpop").modal("hide"),t.$parent.GetDashboard()):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))})}}},W0={class:"modal my-popups right fade","data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpop",role:"dialog"},q0={class:"modal-dialog maxwidth500",role:"document"},Q0={class:"modal-content"},Z0={class:"modal-header"},j0=V("i",{class:"fa fa-times","aria-hidden":"true"},null,-1),J0=[j0],K0=V("h4",{class:"modal-title text-truncate",style:{"line-height":"26px"},id:"myModalLabel"},"Add Dashboard",-1),ty={class:"modal-body"},ey={class:"container-fluid p-0"},ny={class:"row"},iy={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},ry={class:"form-group"},ay=V("h5",null,"Reports:",-1),oy={class:"row"},sy={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},uy={key:0,id:"accordion",role:"tablist",class:"accordion md-accordion w-100"},cy={class:"card"},ly={class:"card-header"},fy=["href","data-target","aria-controls"],hy={class:""},dy=V("em",{class:"fa fa-folder rotate-icon pr-1","aria-hidden":"true"},null,-1),py=["id"],gy={class:"card-body"},yy={class:"row",style:{"max-height":"400px","overflow-y":"auto"}},_y={class:"col-md-12 listing"},my={class:"table-responsive table-fix-header"},vy=["id"],xy={class:"thead-bg"},wy={class:"text-center"},by=V("th",null,"Report Name",-1),Sy=V("th",null,"View Type",-1),Ty={class:"text-center"},Ay=["data-reportid","data-chartType"],Cy={class:"switch auto"},$y=["id","checked","value"],Py=V("span",{class:"slider round"},[V("span",{class:"slider-yes"},"Graph"),V("span",{class:"slider-no"},"Table")],-1),Ly={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-right mt-3"},My=V("em",{class:"fa fa-save pr-2"},null,-1),Ey=It("Save "),ky=[My,Ey];function Ry(t,e,n,r,o,u){const l=Gt("loader");return st(),pt(Ut,null,[V("div",W0,[V("div",q0,[V("div",Q0,[V("div",Z0,[V("button",{type:"button",style:{height:"56px"},class:"close",onClick:e[0]||(e[0]=f=>u.CloseDashboardView()),"data-dismiss":"modal"},J0),K0]),V("div",ty,[V("div",ey,[V("div",ny,[V("div",iy,[V("div",ry,[V("label",null,ct(t.$t("Dashborad Name"))+":",1),Vt(V("input",{class:ge({"form-control":!0}),id:"dashboradName",name:"dashboradName",maxlength:"200",type:"text","onUpdate:modelValue":e[1]||(e[1]=f=>t.dashboradName=f)},null,512),[[xh,t.dashboradName]])])])]),ay,V("div",oy,[V("div",sy,[t.reportGroups?(st(),pt("div",uy,[(st(!0),pt(Ut,null,Ce(t.reportGroups,(f,h)=>(st(),pt("div",cy,[V("div",ly,[V("a",{class:"card-link collapsed","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+h,"aria-expanded":"true","data-target":"#collapseOne"+h,"aria-controls":"collapseOne"+h},[V("div",hy,[V("span",null,[dy,It(ct(f.reports[0].folderName),1)])])],8,fy)]),V("div",{id:"collapseOne"+h,class:"collapse",role:"tabpanel","data-parent":"#accordion",style:{}},[V("div",gy,[V("div",yy,[V("div",_y,[V("div",my,[V("table",{id:"tblReport"+h,class:"table table-bordered mt-0"},[V("thead",xy,[V("tr",null,[V("th",wy,[V("input",{class:"chkItems",id:"chkAll",onChange:e[2]||(e[2]=d=>t.onChange()),type:"checkbox"},null,32)]),by,Sy])]),V("tbody",null,[(st(!0),pt(Ut,null,Ce(f.reports,(d,y)=>(st(),pt("tr",null,[V("td",Ty,[V("input",{class:"chkItems","data-reportid":d.reportId,"data-chartType":d.chartType==null?0:d.chartType,type:"checkbox"},null,8,Ay)]),V("td",null,ct(d.reportName),1),V("td",null,[V("label",Cy,[V("input",{id:"chartType"+y+"_"+h,class:"form-check-input rdoticketfor custom-control-input dynamic",type:"checkbox",name:"viewtype",checked:d.chartType,value:d.chartType?d.chartType:"Table"},null,8,$y),Py])])]))),256))])],8,vy)])])])])],8,py)]))),256))])):Xt("",!0)]),V("div",Ly,[V("a",{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",class:"btn btn-success float-right",title:"Save",onClick:e[3]||(e[3]=f=>u.saveDashboard())},ky)])])])])])])]),te(l,{"is-visible":t.isLoading},null,8,["is-visible"])],64)}var Dy=Ue(U0,[["render",Ry]]);const Gy={props:{dashboardid:null},data:function(){return{isLoading:!1,reportGroups:[],reportbydashbord:null}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpop").modal("show"),this.CheckBoxBootstrap()},methods:{CloseReportView:function(){var t=this;t.$parent.showAddReport=!1},GetDynamicReport(){var t=this,e="moduleName=";Ft.GetDynamicReport(e).then(function(n){t.reportGroups=n.data,setTimeout(()=>{t.CheckBoxBootstrap(),t.GetDashboardReport()},1e3)})},GetDashboardReport:function(){var t=this,e=`dashboardId=${t.dashboardid}`;Ft.GetDashboardReport(e).then(function(n){t.reportbydashbord=n.data,console.log(t.reportbydashbord)})},saveReport:function(){var t=this,e=[];for(let o=0;o<t.reportGroups.length;o++)$("#tblReport"+o+" .chkItems:checked").not("[id^='chkAll']").each(function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:o,displayOrder:o,xaxis:xCount,yaxis:yCount})});var n={moduleName:"CRM",reports:e},r=JSON.stringify(n);Ft.SaveDashboard(r).then(function(o){o.data[0].Status=="Success"?t.ShowAlert(t.$t("AddedSuccess",[t.$t("Report")]),"success",!0,t.$t("Alert")):t.ShowAlert(t.$t("error",[t.$t("Report")]),"warning",!0,t.$t("Alert")),t.isLoading=!1})}}},Vy={class:"modal my-popups right fade","data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpop",role:"dialog"},Ny={class:"modal-dialog maxwidth500",role:"document"},Iy={class:"modal-content"},Fy={class:"modal-header"},Oy=V("i",{class:"fa fa-times","aria-hidden":"true"},null,-1),zy=[Oy],By=V("h4",{class:"modal-title text-truncate",style:{"line-height":"26px"},id:"myModalLabel"},"Add Report",-1),Xy={class:"modal-body"},Yy={class:"container-fluid p-0"},Hy=V("h5",null,"Reports:",-1),Uy={class:"row"},Wy={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},qy={key:0,id:"accordion",role:"tablist",class:"accordion md-accordion w-100"},Qy={class:"card"},Zy={class:"card-header"},jy=["href","data-target","aria-controls"],Jy={class:""},Ky=V("em",{class:"fa fa-folder rotate-icon pr-1","aria-hidden":"true"},null,-1),t_=["id"],e_={class:"card-body"},n_={class:"row",style:{"max-height":"400px","overflow-y":"auto"}},i_={class:"col-md-12 listing"},r_={class:"table-responsive table-fix-header"},a_=["id"],o_=V("thead",{class:"thead-bg"},[V("tr",null,[V("th",{class:"text-center"},[V("input",{class:"chkItems",id:"chkAll",type:"checkbox"})]),V("th",null,"Report Name"),V("th",null,"View Type")])],-1),s_={class:"text-center"},u_=["data-reportid","data-chartType","checked"],c_={class:"switch auto"},l_=["id","checked","value"],f_=V("span",{class:"slider round"},[V("span",{class:"slider-yes"},"Graph"),V("span",{class:"slider-no"},"Table")],-1),h_={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-right mt-3"},d_=V("em",{class:"fa fa-save pr-2"},null,-1),p_=It("Save "),g_=[d_,p_];function y_(t,e,n,r,o,u){const l=Gt("loader");return st(),pt(Ut,null,[V("div",Vy,[V("div",Ny,[V("div",Iy,[V("div",Fy,[V("button",{type:"button",style:{height:"56px"},class:"close",onClick:e[0]||(e[0]=f=>u.CloseReportView()),"data-dismiss":"modal"},zy),By]),V("div",Xy,[V("div",Yy,[Hy,V("div",Uy,[V("div",Wy,[t.reportGroups?(st(),pt("div",qy,[(st(!0),pt(Ut,null,Ce(t.reportGroups,(f,h)=>(st(),pt("div",Qy,[V("div",Zy,[V("a",{class:"card-link collapsed","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+h,"aria-expanded":"true","data-target":"#collapseOne"+h,"aria-controls":"collapseOne"+h},[V("div",Jy,[V("span",null,[Ky,It(ct(f.reports[0].folderName),1)])])],8,jy)]),V("div",{id:"collapseOne"+h,class:"collapse",role:"tabpanel","data-parent":"#accordion",style:{}},[V("div",e_,[V("div",n_,[V("div",i_,[V("div",r_,[V("table",{id:"tblReport"+h,class:"table table-bordered mt-0"},[o_,V("tbody",null,[(st(!0),pt(Ut,null,Ce(f.reports,(d,y)=>(st(),pt("tr",null,[V("td",s_,[V("input",{class:"chkItems","data-reportid":d.reportId,"data-chartType":d.chartType==null?0:d.chartType,type:"checkbox",checked:t.reportbydashbord&&t.reportbydashbord.some(_=>_.reportId==d.reportId)},null,8,u_)]),V("td",null,ct(d.reportName),1),V("td",null,[V("label",c_,[V("input",{id:"chartType"+y+"_"+h,class:"form-check-input rdoticketfor custom-control-input dynamic",type:"checkbox",name:"viewtype",checked:d.chartType,value:t.reportbydashbord&&t.reportbydashbord.some(_=>_.reportId==d.reportId)?t.reportbydashbord.find(_=>_.reportId==d.reportId).chartType:d.chartType?d.chartType:"Table"},null,8,l_),f_])])]))),256))])],8,a_)])])])])],8,t_)]))),256))])):Xt("",!0)]),V("div",h_,[V("a",{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",class:"btn btn-success float-right",title:"Save",onClick:e[1]||(e[1]=f=>u.saveReport())},g_)])])])])])])]),te(l,{"is-visible":t.isLoading},null,8,["is-visible"])],64)}var __=Ue(Gy,[["render",y_]]),wh={exports:{}},m_="5.16.0";function vn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nu(t){return t.length===1&&(t=v_(t)),{left:function(e,n,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var u=r+o>>>1;t(e[u],n)<0?r=u+1:o=u}return r},right:function(e,n,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var u=r+o>>>1;t(e[u],n)>0?o=u:r=u+1}return r}}}function v_(t){return function(e,n){return vn(t(e),n)}}var bh=Nu(vn),dn=bh.right,x_=bh.left;function w_(t,e){e==null&&(e=Sh);for(var n=0,r=t.length-1,o=t[0],u=new Array(r<0?0:r);n<r;)u[n]=e(o,o=t[++n]);return u}function Sh(t,e){return[t,e]}function b_(t,e,n){var r=t.length,o=e.length,u=new Array(r*o),l,f,h,d;for(n==null&&(n=Sh),l=h=0;l<r;++l)for(d=t[l],f=0;f<o;++f,++h)u[h]=n(d,e[f]);return u}function S_(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function pn(t){return t===null?NaN:+t}function Th(t,e){var n=t.length,r=0,o=-1,u=0,l,f,h=0;if(e==null)for(;++o<n;)isNaN(l=pn(t[o]))||(f=l-u,u+=f/++r,h+=f*(l-u));else for(;++o<n;)isNaN(l=pn(e(t[o],o,t)))||(f=l-u,u+=f/++r,h+=f*(l-u));if(r>1)return h/(r-1)}function Ah(t,e){var n=Th(t,e);return n&&Math.sqrt(n)}function Iu(t,e){var n=t.length,r=-1,o,u,l;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(u=l=o;++r<n;)(o=t[r])!=null&&(u>o&&(u=o),l<o&&(l=o))}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(u=l=o;++r<n;)(o=e(t[r],r,t))!=null&&(u>o&&(u=o),l<o&&(l=o));return[u,l]}var Ch=Array.prototype,T_=Ch.slice,A_=Ch.map;function Or(t){return function(){return t}}function C_(t){return t}function ve(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,u=new Array(o);++r<o;)u[r]=t+r*n;return u}var Is=Math.sqrt(50),Fs=Math.sqrt(10),Os=Math.sqrt(2);function Fu(t,e,n){var r,o=-1,u,l,f;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(u=t,t=e,e=u),(f=ar(t,e,n))===0||!isFinite(f))return[];if(f>0)for(t=Math.ceil(t/f),e=Math.floor(e/f),l=new Array(u=Math.ceil(e-t+1));++o<u;)l[o]=(t+o)*f;else for(t=Math.floor(t*f),e=Math.ceil(e*f),l=new Array(u=Math.ceil(t-e+1));++o<u;)l[o]=(t-o)/f;return r&&l.reverse(),l}function ar(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,o);return o>=0?(u>=Is?10:u>=Fs?5:u>=Os?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=Is?10:u>=Fs?5:u>=Os?2:1)}function kn(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/o;return u>=Is?o*=10:u>=Fs?o*=5:u>=Os&&(o*=2),e<t?-o:o}function Ou(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function $_(){var t=C_,e=Iu,n=Ou;function r(o){var u,l=o.length,f,h=new Array(l);for(u=0;u<l;++u)h[u]=t(o[u],u,o);var d=e(h),y=d[0],_=d[1],g=n(h,y,_);Array.isArray(g)||(g=kn(y,_,g),g=ve(Math.ceil(y/g)*g,_,g));for(var v=g.length;g[0]<=y;)g.shift(),--v;for(;g[v-1]>_;)g.pop(),--v;var w=new Array(v+1),b;for(u=0;u<=v;++u)b=w[u]=[],b.x0=u>0?g[u-1]:y,b.x1=u<v?g[u]:_;for(u=0;u<l;++u)f=h[u],y<=f&&f<=_&&w[dn(g,f,0,v)].push(o[u]);return w}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:Or(o),r):t},r.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Or([o[0],o[1]]),r):e},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Array.isArray(o)?Or(T_.call(o)):Or(o),r):n},r}function fr(t,e,n){if(n==null&&(n=pn),!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,u=Math.floor(o),l=+n(t[u],u,t),f=+n(t[u+1],u+1,t);return l+(f-l)*(o-u)}}function P_(t,e,n){return t=A_.call(t,pn).sort(vn),Math.ceil((n-e)/(2*(fr(t,.75)-fr(t,.25))*Math.pow(t.length,-1/3)))}function L_(t,e,n){return Math.ceil((n-e)/(3.5*Ah(t)*Math.pow(t.length,-1/3)))}function $h(t,e){var n=t.length,r=-1,o,u;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(u=o;++r<n;)(o=t[r])!=null&&o>u&&(u=o)}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(u=o;++r<n;)(o=e(t[r],r,t))!=null&&o>u&&(u=o);return u}function M_(t,e){var n=t.length,r=n,o=-1,u,l=0;if(e==null)for(;++o<n;)isNaN(u=pn(t[o]))?--r:l+=u;else for(;++o<n;)isNaN(u=pn(e(t[o],o,t)))?--r:l+=u;if(r)return l/r}function E_(t,e){var n=t.length,r=-1,o,u=[];if(e==null)for(;++r<n;)isNaN(o=pn(t[r]))||u.push(o);else for(;++r<n;)isNaN(o=pn(e(t[r],r,t)))||u.push(o);return fr(u.sort(vn),.5)}function zu(t){for(var e=t.length,n,r=-1,o=0,u,l;++r<e;)o+=t[r].length;for(u=new Array(o);--e>=0;)for(l=t[e],n=l.length;--n>=0;)u[--o]=l[n];return u}function Ph(t,e){var n=t.length,r=-1,o,u;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(u=o;++r<n;)(o=t[r])!=null&&u>o&&(u=o)}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(u=o;++r<n;)(o=e(t[r],r,t))!=null&&u>o&&(u=o);return u}function k_(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function R_(t,e){if(!!(n=t.length)){var n,r=0,o=0,u,l=t[o];for(e==null&&(e=vn);++r<n;)(e(u=t[r],l)<0||e(l,l)!==0)&&(l=u,o=r);if(e(l,l)===0)return o}}function D_(t,e,n){for(var r=(n==null?t.length:n)-(e=e==null?0:+e),o,u;r;)u=Math.random()*r--|0,o=t[r+e],t[r+e]=t[u+e],t[u+e]=o;return t}function G_(t,e){var n=t.length,r=-1,o,u=0;if(e==null)for(;++r<n;)(o=+t[r])&&(u+=o);else for(;++r<n;)(o=+e(t[r],r,t))&&(u+=o);return u}function Lh(t){if(!(u=t.length))return[];for(var e=-1,n=Ph(t,V_),r=new Array(n);++e<n;)for(var o=-1,u,l=r[e]=new Array(u);++o<u;)l[o]=t[o][e];return r}function V_(t){return t.length}function N_(){return Lh(arguments)}var jo=Array.prototype.slice;function I_(t){return t}var sa=1,ua=2,zs=3,Bi=4,nl=1e-6;function F_(t){return"translate("+(t+.5)+",0)"}function O_(t){return"translate(0,"+(t+.5)+")"}function z_(t){return function(e){return+t(e)}}function B_(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function X_(){return!this.__axis}function go(t,e){var n=[],r=null,o=null,u=6,l=6,f=3,h=t===sa||t===Bi?-1:1,d=t===Bi||t===ua?"x":"y",y=t===sa||t===zs?F_:O_;function _(g){var v=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,w=o==null?e.tickFormat?e.tickFormat.apply(e,n):I_:o,b=Math.max(u,0)+f,T=e.range(),A=+T[0]+.5,E=+T[T.length-1]+.5,L=(e.bandwidth?B_:z_)(e.copy()),R=g.selection?g.selection():g,I=R.selectAll(".domain").data([null]),H=R.selectAll(".tick").data(v,e).order(),z=H.exit(),q=H.enter().append("g").attr("class","tick"),Y=H.select("line"),S=H.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(q),Y=Y.merge(q.append("line").attr("stroke","currentColor").attr(d+"2",h*u)),S=S.merge(q.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",t===sa?"0em":t===zs?"0.71em":"0.32em")),g!==R&&(I=I.transition(g),H=H.transition(g),Y=Y.transition(g),S=S.transition(g),z=z.transition(g).attr("opacity",nl).attr("transform",function(F){return isFinite(F=L(F))?y(F):this.getAttribute("transform")}),q.attr("opacity",nl).attr("transform",function(F){var M=this.parentNode.__axis;return y(M&&isFinite(M=M(F))?M:L(F))})),z.remove(),I.attr("d",t===Bi||t==ua?l?"M"+h*l+","+A+"H0.5V"+E+"H"+h*l:"M0.5,"+A+"V"+E:l?"M"+A+","+h*l+"V0.5H"+E+"V"+h*l:"M"+A+",0.5H"+E),H.attr("opacity",1).attr("transform",function(F){return y(L(F))}),Y.attr(d+"2",h*u),S.attr(d,h*b).text(w),R.filter(X_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ua?"start":t===Bi?"end":"middle"),R.each(function(){this.__axis=L})}return _.scale=function(g){return arguments.length?(e=g,_):e},_.ticks=function(){return n=jo.call(arguments),_},_.tickArguments=function(g){return arguments.length?(n=g==null?[]:jo.call(g),_):n.slice()},_.tickValues=function(g){return arguments.length?(r=g==null?null:jo.call(g),_):r&&r.slice()},_.tickFormat=function(g){return arguments.length?(o=g,_):o},_.tickSize=function(g){return arguments.length?(u=l=+g,_):u},_.tickSizeInner=function(g){return arguments.length?(u=+g,_):u},_.tickSizeOuter=function(g){return arguments.length?(l=+g,_):l},_.tickPadding=function(g){return arguments.length?(f=+g,_):f},_}function Y_(t){return go(sa,t)}function H_(t){return go(ua,t)}function U_(t){return go(zs,t)}function W_(t){return go(Bi,t)}var q_={value:function(){}};function Yn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ca(n)}function ca(t){this._=t}function Q_(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ca.prototype=Yn.prototype={constructor:ca,on:function(t,e){var n=this._,r=Q_(t+"",n),o,u=-1,l=r.length;if(arguments.length<2){for(;++u<l;)if((o=(t=r[u]).type)&&(o=Z_(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<l;)if(o=(t=r[u]).type)n[o]=il(n[o],t.name,e);else if(e==null)for(o in n)n[o]=il(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ca(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,u;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,o=u.length;r<o;++r)u[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,u=r.length;o<u;++o)r[o].value.apply(e,n)}};function Z_(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function il(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=q_,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Bs="http://www.w3.org/1999/xhtml",Xs={svg:"http://www.w3.org/2000/svg",xhtml:Bs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Er(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xs.hasOwnProperty(e)?{space:Xs[e],local:t}:t}function j_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bs&&e.documentElement.namespaceURI===Bs?e.createElement(t):e.createElementNS(n,t)}}function J_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yo(t){var e=Er(t);return(e.local?J_:j_)(e)}function K_(){}function _o(t){return t==null?K_:function(){return this.querySelector(t)}}function tm(t){typeof t!="function"&&(t=_o(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u=e[o],l=u.length,f=r[o]=new Array(l),h,d,y=0;y<l;++y)(h=u[y])&&(d=t.call(h,h.__data__,y,u))&&("__data__"in h&&(d.__data__=h.__data__),f[y]=d);return new ae(r,this._parents)}function em(){return[]}function Bu(t){return t==null?em:function(){return this.querySelectorAll(t)}}function nm(t){typeof t!="function"&&(t=Bu(t));for(var e=this._groups,n=e.length,r=[],o=[],u=0;u<n;++u)for(var l=e[u],f=l.length,h,d=0;d<f;++d)(h=l[d])&&(r.push(t.call(h,h.__data__,d,l)),o.push(h));return new ae(r,o)}function Xu(t){return function(){return this.matches(t)}}function im(t){typeof t!="function"&&(t=Xu(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u=e[o],l=u.length,f=r[o]=[],h,d=0;d<l;++d)(h=u[d])&&t.call(h,h.__data__,d,u)&&f.push(h);return new ae(r,this._parents)}function Mh(t){return new Array(t.length)}function rm(){return new ae(this._enter||this._groups.map(Mh),this._parents)}function ma(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ma.prototype={constructor:ma,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function am(t){return function(){return t}}var rl="$";function om(t,e,n,r,o,u){for(var l=0,f,h=e.length,d=u.length;l<d;++l)(f=e[l])?(f.__data__=u[l],r[l]=f):n[l]=new ma(t,u[l]);for(;l<h;++l)(f=e[l])&&(o[l]=f)}function sm(t,e,n,r,o,u,l){var f,h,d={},y=e.length,_=u.length,g=new Array(y),v;for(f=0;f<y;++f)(h=e[f])&&(g[f]=v=rl+l.call(h,h.__data__,f,e),v in d?o[f]=h:d[v]=h);for(f=0;f<_;++f)v=rl+l.call(t,u[f],f,u),(h=d[v])?(r[f]=h,h.__data__=u[f],d[v]=null):n[f]=new ma(t,u[f]);for(f=0;f<y;++f)(h=e[f])&&d[g[f]]===h&&(o[f]=h)}function um(t,e){if(!t)return v=new Array(this.size()),d=-1,this.each(function(H){v[++d]=H}),v;var n=e?sm:om,r=this._parents,o=this._groups;typeof t!="function"&&(t=am(t));for(var u=o.length,l=new Array(u),f=new Array(u),h=new Array(u),d=0;d<u;++d){var y=r[d],_=o[d],g=_.length,v=t.call(y,y&&y.__data__,d,r),w=v.length,b=f[d]=new Array(w),T=l[d]=new Array(w),A=h[d]=new Array(g);n(y,_,b,T,A,v,e);for(var E=0,L=0,R,I;E<w;++E)if(R=b[E]){for(E>=L&&(L=E+1);!(I=T[L])&&++L<w;);R._next=I||null}}return l=new ae(l,r),l._enter=f,l._exit=h,l}function cm(){return new ae(this._exit||this._groups.map(Mh),this._parents)}function lm(t,e,n){var r=this.enter(),o=this,u=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(o=e(o)),n==null?u.remove():n(u),r&&o?r.merge(o).order():o}function fm(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,u=Math.min(r,o),l=new Array(r),f=0;f<u;++f)for(var h=e[f],d=n[f],y=h.length,_=l[f]=new Array(y),g,v=0;v<y;++v)(g=h[v]||d[v])&&(_[v]=g);for(;f<r;++f)l[f]=e[f];return new ae(l,this._parents)}function hm(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,u=r[o],l;--o>=0;)(l=r[o])&&(u&&l.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(l,u),u=l);return this}function dm(t){t||(t=pm);function e(_,g){return _&&g?t(_.__data__,g.__data__):!_-!g}for(var n=this._groups,r=n.length,o=new Array(r),u=0;u<r;++u){for(var l=n[u],f=l.length,h=o[u]=new Array(f),d,y=0;y<f;++y)(d=l[y])&&(h[y]=d);h.sort(e)}return new ae(o,this._parents).order()}function pm(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gm(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ym(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function _m(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,u=r.length;o<u;++o){var l=r[o];if(l)return l}return null}function mm(){var t=0;return this.each(function(){++t}),t}function xm(){return!this.node()}function wm(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],u=0,l=o.length,f;u<l;++u)(f=o[u])&&t.call(f,f.__data__,u,o);return this}function bm(t){return function(){this.removeAttribute(t)}}function Sm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tm(t,e){return function(){this.setAttribute(t,e)}}function Am(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Cm(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function $m(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Pm(t,e){var n=Er(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Sm:bm:typeof e=="function"?n.local?$m:Cm:n.local?Am:Tm)(n,e))}function Yu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Lm(t){return function(){this.style.removeProperty(t)}}function Mm(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Em(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function km(t,e,n){return arguments.length>1?this.each((e==null?Lm:typeof e=="function"?Em:Mm)(t,e,n==null?"":n)):Rn(this.node(),t)}function Rn(t,e){return t.style.getPropertyValue(e)||Yu(t).getComputedStyle(t,null).getPropertyValue(e)}function Rm(t){return function(){delete this[t]}}function Dm(t,e){return function(){this[t]=e}}function Gm(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vm(t,e){return arguments.length>1?this.each((e==null?Rm:typeof e=="function"?Gm:Dm)(t,e)):this.node()[t]}function Eh(t){return t.trim().split(/^|\s+/)}function Hu(t){return t.classList||new kh(t)}function kh(t){this._node=t,this._names=Eh(t.getAttribute("class")||"")}kh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rh(t,e){for(var n=Hu(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Dh(t,e){for(var n=Hu(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Nm(t){return function(){Rh(this,t)}}function Im(t){return function(){Dh(this,t)}}function Fm(t,e){return function(){(e.apply(this,arguments)?Rh:Dh)(this,t)}}function Om(t,e){var n=Eh(t+"");if(arguments.length<2){for(var r=Hu(this.node()),o=-1,u=n.length;++o<u;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Fm:e?Nm:Im)(n,e))}function zm(){this.textContent=""}function Bm(t){return function(){this.textContent=t}}function Xm(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Ym(t){return arguments.length?this.each(t==null?zm:(typeof t=="function"?Xm:Bm)(t)):this.node().textContent}function Hm(){this.innerHTML=""}function Um(t){return function(){this.innerHTML=t}}function Wm(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function qm(t){return arguments.length?this.each(t==null?Hm:(typeof t=="function"?Wm:Um)(t)):this.node().innerHTML}function Qm(){this.nextSibling&&this.parentNode.appendChild(this)}function Zm(){return this.each(Qm)}function jm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jm(){return this.each(jm)}function Km(t){var e=typeof t=="function"?t:yo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function t1(){return null}function e1(t,e){var n=typeof t=="function"?t:yo(t),r=e==null?t1:typeof e=="function"?e:_o(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function n1(){var t=this.parentNode;t&&t.removeChild(this)}function i1(){return this.each(n1)}function r1(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function a1(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function o1(t){return this.select(t?a1:r1)}function s1(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Gh={},nt=null;if(typeof document!="undefined"){var u1=document.documentElement;"onmouseenter"in u1||(Gh={mouseenter:"mouseover",mouseleave:"mouseout"})}function c1(t,e,n){return t=Vh(t,e,n),function(r){var o=r.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&t.call(this,r)}}function Vh(t,e,n){return function(r){var o=nt;nt=r;try{t.call(this,this.__data__,e,n)}finally{nt=o}}}function l1(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function f1(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,o=e.length,u;n<o;++n)u=e[n],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.capture):e[++r]=u;++r?e.length=r:delete this.__on}}}function h1(t,e,n){var r=Gh.hasOwnProperty(t.type)?c1:Vh;return function(o,u,l){var f=this.__on,h,d=r(e,u,l);if(f){for(var y=0,_=f.length;y<_;++y)if((h=f[y]).type===t.type&&h.name===t.name){this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=d,h.capture=n),h.value=e;return}}this.addEventListener(t.type,d,n),h={type:t.type,name:t.name,value:e,listener:d,capture:n},f?f.push(h):this.__on=[h]}}function d1(t,e,n){var r=l1(t+""),o,u=r.length,l;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,d=f.length,y;h<d;++h)for(o=0,y=f[h];o<u;++o)if((l=r[o]).type===y.type&&l.name===y.name)return y.value}return}for(f=e?h1:f1,n==null&&(n=!1),o=0;o<u;++o)this.each(f(r[o],e,n));return this}function hr(t,e,n,r){var o=nt;t.sourceEvent=nt,nt=t;try{return e.apply(n,r)}finally{nt=o}}function Nh(t,e,n){var r=Yu(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function p1(t,e){return function(){return Nh(this,t,e)}}function g1(t,e){return function(){return Nh(this,t,e.apply(this,arguments))}}function y1(t,e){return this.each((typeof e=="function"?g1:p1)(t,e))}var Uu=[null];function ae(t,e){this._groups=t,this._parents=e}function Hn(){return new ae([[document.documentElement]],Uu)}ae.prototype=Hn.prototype={constructor:ae,select:tm,selectAll:nm,filter:im,data:um,enter:rm,exit:cm,join:lm,merge:fm,order:hm,sort:dm,call:gm,nodes:ym,node:_m,size:mm,empty:xm,each:wm,attr:Pm,style:km,property:Vm,classed:Om,text:Ym,html:qm,raise:Zm,lower:Jm,append:Km,insert:e1,remove:i1,clone:o1,datum:s1,on:d1,dispatch:y1};function pe(t){return typeof t=="string"?new ae([[document.querySelector(t)]],[document.documentElement]):new ae([[t]],Uu)}function _1(t){return pe(yo(t).call(document.documentElement))}var m1=0;function Ih(){return new Ys}function Ys(){this._="@"+(++m1).toString(36)}Ys.prototype=Ih.prototype={constructor:Ys,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Wu(){for(var t=nt,e;e=t.sourceEvent;)t=e;return t}function mo(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Ln(t){var e=Wu();return e.changedTouches&&(e=e.changedTouches[0]),mo(t,e)}function v1(t){return typeof t=="string"?new ae([document.querySelectorAll(t)],[document.documentElement]):new ae([t==null?[]:t],Uu)}function dr(t,e,n){arguments.length<3&&(n=e,e=Wu().changedTouches);for(var r=0,o=e?e.length:0,u;r<o;++r)if((u=e[r]).identifier===n)return mo(t,u);return null}function x1(t,e){e==null&&(e=Wu().touches);for(var n=0,r=e?e.length:0,o=new Array(r);n<r;++n)o[n]=mo(t,e[n]);return o}function Jo(){nt.stopImmediatePropagation()}function ci(){nt.preventDefault(),nt.stopImmediatePropagation()}function vo(t){var e=t.document.documentElement,n=pe(t).on("dragstart.drag",ci,!0);"onselectstart"in e?n.on("selectstart.drag",ci,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function xo(t,e){var n=t.document.documentElement,r=pe(t).on("dragstart.drag",null);e&&(r.on("click.drag",ci,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function zr(t){return function(){return t}}function Hs(t,e,n,r,o,u,l,f,h,d){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=u,this.y=l,this.dx=f,this.dy=h,this._=d}Hs.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function w1(){return!nt.ctrlKey&&!nt.button}function b1(){return this.parentNode}function S1(t){return t==null?{x:nt.x,y:nt.y}:t}function T1(){return navigator.maxTouchPoints||"ontouchstart"in this}function A1(){var t=w1,e=b1,n=S1,r=T1,o={},u=Yn("start","drag","end"),l=0,f,h,d,y,_=0;function g(R){R.on("mousedown.drag",v).filter(r).on("touchstart.drag",T).on("touchmove.drag",A).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){if(!(y||!t.apply(this,arguments))){var R=L("mouse",e.apply(this,arguments),Ln,this,arguments);!R||(pe(nt.view).on("mousemove.drag",w,!0).on("mouseup.drag",b,!0),vo(nt.view),Jo(),d=!1,f=nt.clientX,h=nt.clientY,R("start"))}}function w(){if(ci(),!d){var R=nt.clientX-f,I=nt.clientY-h;d=R*R+I*I>_}o.mouse("drag")}function b(){pe(nt.view).on("mousemove.drag mouseup.drag",null),xo(nt.view,d),ci(),o.mouse("end")}function T(){if(!!t.apply(this,arguments)){var R=nt.changedTouches,I=e.apply(this,arguments),H=R.length,z,q;for(z=0;z<H;++z)(q=L(R[z].identifier,I,dr,this,arguments))&&(Jo(),q("start"))}}function A(){var R=nt.changedTouches,I=R.length,H,z;for(H=0;H<I;++H)(z=o[R[H].identifier])&&(ci(),z("drag"))}function E(){var R=nt.changedTouches,I=R.length,H,z;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),H=0;H<I;++H)(z=o[R[H].identifier])&&(Jo(),z("end"))}function L(R,I,H,z,q){var Y=H(I,R),S,F,M,O=u.copy();if(!!hr(new Hs(g,"beforestart",S,R,l,Y[0],Y[1],0,0,O),function(){return(nt.subject=S=n.apply(z,q))==null?!1:(F=S.x-Y[0]||0,M=S.y-Y[1]||0,!0)}))return function Z(X){var Q=Y,et;switch(X){case"start":o[R]=Z,et=l++;break;case"end":delete o[R],--l;case"drag":Y=H(I,R),et=l;break}hr(new Hs(g,X,S,R,et,Y[0]+F,Y[1]+M,Y[0]-Q[0],Y[1]-Q[1],O),O.apply,O,[X,z,q])}}return g.filter=function(R){return arguments.length?(t=typeof R=="function"?R:zr(!!R),g):t},g.container=function(R){return arguments.length?(e=typeof R=="function"?R:zr(R),g):e},g.subject=function(R){return arguments.length?(n=typeof R=="function"?R:zr(R),g):n},g.touchable=function(R){return arguments.length?(r=typeof R=="function"?R:zr(!!R),g):r},g.on=function(){var R=u.on.apply(u,arguments);return R===u?g:R},g.clickDistance=function(R){return arguments.length?(_=(R=+R)*R,g):Math.sqrt(_)},g}function Ci(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xn(){}var Dn=.7,gi=1/Dn,li="\\s*([+-]?\\d+)\\s*",pr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C1=/^#([0-9a-f]{3,8})$/,$1=new RegExp("^rgb\\("+[li,li,li]+"\\)$"),P1=new RegExp("^rgb\\("+[Xe,Xe,Xe]+"\\)$"),L1=new RegExp("^rgba\\("+[li,li,li,pr]+"\\)$"),M1=new RegExp("^rgba\\("+[Xe,Xe,Xe,pr]+"\\)$"),E1=new RegExp("^hsl\\("+[pr,Xe,Xe]+"\\)$"),k1=new RegExp("^hsla\\("+[pr,Xe,Xe,pr]+"\\)$"),al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ci(xn,gn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ol,formatHex:ol,formatHsl:R1,formatRgb:sl,toString:sl});function ol(){return this.rgb().formatHex()}function R1(){return Fh(this).formatHsl()}function sl(){return this.rgb().formatRgb()}function gn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=C1.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ul(e):n===3?new Wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Br(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Br(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$1.exec(t))?new Wt(e[1],e[2],e[3],1):(e=P1.exec(t))?new Wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=L1.exec(t))?Br(e[1],e[2],e[3],e[4]):(e=M1.exec(t))?Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=E1.exec(t))?fl(e[1],e[2]/100,e[3]/100,1):(e=k1.exec(t))?fl(e[1],e[2]/100,e[3]/100,e[4]):al.hasOwnProperty(t)?ul(al[t]):t==="transparent"?new Wt(NaN,NaN,NaN,0):null}function ul(t){return new Wt(t>>16&255,t>>8&255,t&255,1)}function Br(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wt(t,e,n,r)}function qu(t){return t instanceof xn||(t=gn(t)),t?(t=t.rgb(),new Wt(t.r,t.g,t.b,t.opacity)):new Wt}function yi(t,e,n,r){return arguments.length===1?qu(t):new Wt(t,e,n,r==null?1:r)}function Wt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ci(Wt,yi,kr(xn,{brighter:function(t){return t=t==null?gi:Math.pow(gi,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Dn:Math.pow(Dn,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cl,formatHex:cl,formatRgb:ll,toString:ll}));function cl(){return"#"+Ko(this.r)+Ko(this.g)+Ko(this.b)}function ll(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ko(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function fl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fe(t,e,n,r)}function Fh(t){if(t instanceof Fe)return new Fe(t.h,t.s,t.l,t.opacity);if(t instanceof xn||(t=gn(t)),!t)return new Fe;if(t instanceof Fe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),u=Math.max(e,n,r),l=NaN,f=u-o,h=(u+o)/2;return f?(e===u?l=(n-r)/f+(n<r)*6:n===u?l=(r-e)/f+2:l=(e-n)/f+4,f/=h<.5?u+o:2-u-o,l*=60):f=h>0&&h<1?0:l,new Fe(l,f,h,t.opacity)}function va(t,e,n,r){return arguments.length===1?Fh(t):new Fe(t,e,n,r==null?1:r)}function Fe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ci(Fe,va,kr(xn,{brighter:function(t){return t=t==null?gi:Math.pow(gi,t),new Fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Dn:Math.pow(Dn,t),new Fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Wt(ts(t>=240?t-240:t+120,o,r),ts(t,o,r),ts(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ts(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var Oh=Math.PI/180,zh=180/Math.PI,xa=18,Bh=.96422,Xh=1,Yh=.82521,Hh=4/29,fi=6/29,Uh=3*fi*fi,D1=fi*fi*fi;function Wh(t){if(t instanceof Ee)return new Ee(t.l,t.a,t.b,t.opacity);if(t instanceof Be)return Qh(t);t instanceof Wt||(t=qu(t));var e=rs(t.r),n=rs(t.g),r=rs(t.b),o=es((.2225045*e+.7168786*n+.0606169*r)/Xh),u,l;return e===n&&n===r?u=l=o:(u=es((.4360747*e+.3850649*n+.1430804*r)/Bh),l=es((.0139322*e+.0971045*n+.7141733*r)/Yh)),new Ee(116*o-16,500*(u-o),200*(o-l),t.opacity)}function G1(t,e){return new Ee(t,0,0,e==null?1:e)}function wa(t,e,n,r){return arguments.length===1?Wh(t):new Ee(t,e,n,r==null?1:r)}function Ee(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Ci(Ee,wa,kr(xn,{brighter:function(t){return new Ee(this.l+xa*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ee(this.l-xa*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Bh*ns(e),t=Xh*ns(t),n=Yh*ns(n),new Wt(is(3.1338561*e-1.6168667*t-.4906146*n),is(-.9787684*e+1.9161415*t+.033454*n),is(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function es(t){return t>D1?Math.pow(t,1/3):t/Uh+Hh}function ns(t){return t>fi?t*t*t:Uh*(t-Hh)}function is(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rs(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qh(t){if(t instanceof Be)return new Be(t.h,t.c,t.l,t.opacity);if(t instanceof Ee||(t=Wh(t)),t.a===0&&t.b===0)return new Be(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*zh;return new Be(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function V1(t,e,n,r){return arguments.length===1?qh(t):new Be(n,e,t,r==null?1:r)}function ba(t,e,n,r){return arguments.length===1?qh(t):new Be(t,e,n,r==null?1:r)}function Be(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Qh(t){if(isNaN(t.h))return new Ee(t.l,0,0,t.opacity);var e=t.h*Oh;return new Ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ci(Be,ba,kr(xn,{brighter:function(t){return new Be(this.h,this.c,this.l+xa*(t==null?1:t),this.opacity)},darker:function(t){return new Be(this.h,this.c,this.l-xa*(t==null?1:t),this.opacity)},rgb:function(){return Qh(this).rgb()}}));var Zh=-.14861,Qu=1.78277,Zu=-.29227,wo=-.90649,gr=1.97294,hl=gr*wo,dl=gr*Qu,pl=Qu*Zu-wo*Zh;function N1(t){if(t instanceof Mn)return new Mn(t.h,t.s,t.l,t.opacity);t instanceof Wt||(t=qu(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(pl*r+hl*e-dl*n)/(pl+hl-dl),u=r-o,l=(gr*(n-o)-Zu*u)/wo,f=Math.sqrt(l*l+u*u)/(gr*o*(1-o)),h=f?Math.atan2(l,u)*zh-120:NaN;return new Mn(h<0?h+360:h,f,o,t.opacity)}function ke(t,e,n,r){return arguments.length===1?N1(t):new Mn(t,e,n,r==null?1:r)}function Mn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ci(Mn,ke,kr(xn,{brighter:function(t){return t=t==null?gi:Math.pow(gi,t),new Mn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Dn:Math.pow(Dn,t),new Mn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Oh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Wt(255*(e+n*(Zh*r+Qu*o)),255*(e+n*(Zu*r+wo*o)),255*(e+n*(gr*r)),this.opacity)}}));function jh(t,e,n,r,o){var u=t*t,l=u*t;return((1-3*t+3*u-l)*e+(4-6*u+3*l)*n+(1+3*t+3*u-3*l)*r+l*o)/6}function Jh(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],u=t[r+1],l=r>0?t[r-1]:2*o-u,f=r<e-1?t[r+2]:2*u-o;return jh((n-r/e)*e,l,o,u,f)}}function Kh(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],u=t[r%e],l=t[(r+1)%e],f=t[(r+2)%e];return jh((n-r/e)*e,o,u,l,f)}}function bo(t){return function(){return t}}function td(t,e){return function(n){return t+n*e}}function I1(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function So(t,e){var n=e-t;return n?td(t,n>180||n<-180?n-360*Math.round(n/360):n):bo(isNaN(t)?e:t)}function F1(t){return(t=+t)==1?Yt:function(e,n){return n-e?I1(e,n,t):bo(isNaN(e)?n:e)}}function Yt(t,e){var n=e-t;return n?td(t,n):bo(isNaN(t)?e:t)}var yr=function t(e){var n=F1(e);function r(o,u){var l=n((o=yi(o)).r,(u=yi(u)).r),f=n(o.g,u.g),h=n(o.b,u.b),d=Yt(o.opacity,u.opacity);return function(y){return o.r=l(y),o.g=f(y),o.b=h(y),o.opacity=d(y),o+""}}return r.gamma=t,r}(1);function ed(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),u=new Array(n),l,f;for(l=0;l<n;++l)f=yi(e[l]),r[l]=f.r||0,o[l]=f.g||0,u[l]=f.b||0;return r=t(r),o=t(o),u=t(u),f.opacity=1,function(h){return f.r=r(h),f.g=o(h),f.b=u(h),f+""}}}var nd=ed(Jh),O1=ed(Kh);function ju(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(u){for(o=0;o<n;++o)r[o]=t[o]*(1-u)+e[o]*u;return r}}function id(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function z1(t,e){return(id(e)?ju:rd)(t,e)}function rd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),u=new Array(n),l;for(l=0;l<r;++l)o[l]=Rr(t[l],e[l]);for(;l<n;++l)u[l]=e[l];return function(f){for(l=0;l<r;++l)u[l]=o[l](f);return u}}function ad(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Te(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function od(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Rr(t[o],e[o]):r[o]=e[o];return function(u){for(o in n)r[o]=n[o](u);return r}}var Us=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,as=new RegExp(Us.source,"g");function B1(t){return function(){return t}}function X1(t){return function(e){return t(e)+""}}function Ju(t,e){var n=Us.lastIndex=as.lastIndex=0,r,o,u,l=-1,f=[],h=[];for(t=t+"",e=e+"";(r=Us.exec(t))&&(o=as.exec(e));)(u=o.index)>n&&(u=e.slice(n,u),f[l]?f[l]+=u:f[++l]=u),(r=r[0])===(o=o[0])?f[l]?f[l]+=o:f[++l]=o:(f[++l]=null,h.push({i:l,x:Te(r,o)})),n=as.lastIndex;return n<e.length&&(u=e.slice(n),f[l]?f[l]+=u:f[++l]=u),f.length<2?h[0]?X1(h[0].x):B1(e):(e=h.length,function(d){for(var y=0,_;y<e;++y)f[(_=h[y]).i]=_.x(d);return f.join("")})}function Rr(t,e){var n=typeof e,r;return e==null||n==="boolean"?bo(e):(n==="number"?Te:n==="string"?(r=gn(e))?(e=r,yr):Ju:e instanceof gn?yr:e instanceof Date?ad:id(e)?ju:Array.isArray(e)?rd:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?od:Te)(t,e)}function Y1(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function H1(t,e){var n=So(+t,+e);return function(r){var o=n(r);return o-360*Math.floor(o/360)}}function sd(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var gl=180/Math.PI,Ws={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ud(t,e,n,r,o,u){var l,f,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,h/=f),t*r<e*n&&(t=-t,e=-e,h=-h,l=-l),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*gl,skewX:Math.atan(h)*gl,scaleX:l,scaleY:f}}var Ei,os,yl,Xr;function U1(t){return t==="none"?Ws:(Ei||(Ei=document.createElement("DIV"),os=document.documentElement,yl=document.defaultView),Ei.style.transform=t,t=yl.getComputedStyle(os.appendChild(Ei),null).getPropertyValue("transform"),os.removeChild(Ei),t=t.slice(7,-1).split(","),ud(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function W1(t){return t==null||(Xr||(Xr=document.createElementNS("http://www.w3.org/2000/svg","g")),Xr.setAttribute("transform",t),!(t=Xr.transform.baseVal.consolidate()))?Ws:(t=t.matrix,ud(t.a,t.b,t.c,t.d,t.e,t.f))}function cd(t,e,n,r){function o(d){return d.length?d.pop()+" ":""}function u(d,y,_,g,v,w){if(d!==_||y!==g){var b=v.push("translate(",null,e,null,n);w.push({i:b-4,x:Te(d,_)},{i:b-2,x:Te(y,g)})}else(_||g)&&v.push("translate("+_+e+g+n)}function l(d,y,_,g){d!==y?(d-y>180?y+=360:y-d>180&&(d+=360),g.push({i:_.push(o(_)+"rotate(",null,r)-2,x:Te(d,y)})):y&&_.push(o(_)+"rotate("+y+r)}function f(d,y,_,g){d!==y?g.push({i:_.push(o(_)+"skewX(",null,r)-2,x:Te(d,y)}):y&&_.push(o(_)+"skewX("+y+r)}function h(d,y,_,g,v,w){if(d!==_||y!==g){var b=v.push(o(v)+"scale(",null,",",null,")");w.push({i:b-4,x:Te(d,_)},{i:b-2,x:Te(y,g)})}else(_!==1||g!==1)&&v.push(o(v)+"scale("+_+","+g+")")}return function(d,y){var _=[],g=[];return d=t(d),y=t(y),u(d.translateX,d.translateY,y.translateX,y.translateY,_,g),l(d.rotate,y.rotate,_,g),f(d.skewX,y.skewX,_,g),h(d.scaleX,d.scaleY,y.scaleX,y.scaleY,_,g),d=y=null,function(v){for(var w=-1,b=g.length,T;++w<b;)_[(T=g[w]).i]=T.x(v);return _.join("")}}}var ld=cd(U1,"px, ","px)","deg)"),fd=cd(W1,", ",")",")"),ki=Math.SQRT2,ss=2,_l=4,q1=1e-12;function ml(t){return((t=Math.exp(t))+1/t)/2}function Q1(t){return((t=Math.exp(t))-1/t)/2}function Z1(t){return((t=Math.exp(2*t))-1)/(t+1)}function hd(t,e){var n=t[0],r=t[1],o=t[2],u=e[0],l=e[1],f=e[2],h=u-n,d=l-r,y=h*h+d*d,_,g;if(y<q1)g=Math.log(f/o)/ki,_=function(E){return[n+E*h,r+E*d,o*Math.exp(ki*E*g)]};else{var v=Math.sqrt(y),w=(f*f-o*o+_l*y)/(2*o*ss*v),b=(f*f-o*o-_l*y)/(2*f*ss*v),T=Math.log(Math.sqrt(w*w+1)-w),A=Math.log(Math.sqrt(b*b+1)-b);g=(A-T)/ki,_=function(E){var L=E*g,R=ml(T),I=o/(ss*v)*(R*Z1(ki*L+T)-Q1(T));return[n+I*h,r+I*d,o*R/ml(ki*L+T)]}}return _.duration=g*1e3,_}function dd(t){return function(e,n){var r=t((e=va(e)).h,(n=va(n)).h),o=Yt(e.s,n.s),u=Yt(e.l,n.l),l=Yt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=u(f),e.opacity=l(f),e+""}}}var j1=dd(So),J1=dd(Yt);function K1(t,e){var n=Yt((t=wa(t)).l,(e=wa(e)).l),r=Yt(t.a,e.a),o=Yt(t.b,e.b),u=Yt(t.opacity,e.opacity);return function(l){return t.l=n(l),t.a=r(l),t.b=o(l),t.opacity=u(l),t+""}}function pd(t){return function(e,n){var r=t((e=ba(e)).h,(n=ba(n)).h),o=Yt(e.c,n.c),u=Yt(e.l,n.l),l=Yt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=u(f),e.opacity=l(f),e+""}}}var tv=pd(So),ev=pd(Yt);function gd(t){return function e(n){n=+n;function r(o,u){var l=t((o=ke(o)).h,(u=ke(u)).h),f=Yt(o.s,u.s),h=Yt(o.l,u.l),d=Yt(o.opacity,u.opacity);return function(y){return o.h=l(y),o.s=f(y),o.l=h(Math.pow(y,n)),o.opacity=d(y),o+""}}return r.gamma=e,r}(1)}var nv=gd(So),To=gd(Yt);function iv(t,e){for(var n=0,r=e.length-1,o=e[0],u=new Array(r<0?0:r);n<r;)u[n]=t(o,o=e[++n]);return function(l){var f=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return u[f](l-f)}}function rv(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var _i=0,Xi=0,Ri=0,yd=1e3,Sa,Yi,Ta=0,Gn=0,Ao=0,_r=typeof performance=="object"&&performance.now?performance:Date,_d=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $i(){return Gn||(_d(av),Gn=_r.now()+Ao)}function av(){Gn=0}function mr(){this._call=this._time=this._next=null}mr.prototype=Co.prototype={constructor:mr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?$i():+n)+(e==null?0:+e),!this._next&&Yi!==this&&(Yi?Yi._next=this:Sa=this,Yi=this),this._call=t,this._time=n,qs()},stop:function(){this._call&&(this._call=null,this._time=1/0,qs())}};function Co(t,e,n){var r=new mr;return r.restart(t,e,n),r}function md(){$i(),++_i;for(var t=Sa,e;t;)(e=Gn-t._time)>=0&&t._call.call(null,e),t=t._next;--_i}function vl(){Gn=(Ta=_r.now())+Ao,_i=Xi=0;try{md()}finally{_i=0,sv(),Gn=0}}function ov(){var t=_r.now(),e=t-Ta;e>yd&&(Ao-=e,Ta=t)}function sv(){for(var t,e=Sa,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Sa=n);Yi=t,qs(r)}function qs(t){if(!_i){Xi&&(Xi=clearTimeout(Xi));var e=t-Gn;e>24?(t<1/0&&(Xi=setTimeout(vl,t-_r.now()-Ao)),Ri&&(Ri=clearInterval(Ri))):(Ri||(Ta=_r.now(),Ri=setInterval(ov,yd)),_i=1,_d(vl))}}function Qs(t,e,n){var r=new mr;return e=e==null?0:+e,r.restart(function(o){r.stop(),t(o+e)},e,n),r}function uv(t,e,n){var r=new mr,o=e;return e==null?(r.restart(t,e,n),r):(e=+e,n=n==null?$i():+n,r.restart(function u(l){l+=o,r.restart(u,o+=e,n),t(l)},e,n),r)}var cv=Yn("start","end","cancel","interrupt"),lv=[],vd=0,Zs=1,js=2,la=3,xl=4,Js=5,fa=6;function $o(t,e,n,r,o,u){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;fv(t,n,{name:e,index:r,group:o,on:cv,tween:lv,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:vd})}function Ku(t,e){var n=Re(t,e);if(n.state>vd)throw new Error("too late; already scheduled");return n}function en(t,e){var n=Re(t,e);if(n.state>la)throw new Error("too late; already running");return n}function Re(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fv(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=Co(u,0,n.time);function u(d){n.state=Zs,n.timer.restart(l,n.delay,n.time),n.delay<=d&&l(d-n.delay)}function l(d){var y,_,g,v;if(n.state!==Zs)return h();for(y in r)if(v=r[y],v.name===n.name){if(v.state===la)return Qs(l);v.state===xl?(v.state=fa,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[y]):+y<e&&(v.state=fa,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[y])}if(Qs(function(){n.state===la&&(n.state=xl,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=js,n.on.call("start",t,t.__data__,n.index,n.group),n.state===js){for(n.state=la,o=new Array(g=n.tween.length),y=0,_=-1;y<g;++y)(v=n.tween[y].value.call(t,t.__data__,n.index,n.group))&&(o[++_]=v);o.length=_+1}}function f(d){for(var y=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=Js,1),_=-1,g=o.length;++_<g;)o[_].call(t,y);n.state===Js&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=fa,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function En(t,e){var n=t.__transition,r,o,u=!0,l;if(!!n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){u=!1;continue}o=r.state>js&&r.state<Js,r.state=fa,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}u&&delete t.__transition}}function hv(t){return this.each(function(){En(this,t)})}function dv(t,e){var n,r;return function(){var o=en(this,t),u=o.tween;if(u!==n){r=n=u;for(var l=0,f=r.length;l<f;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function pv(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var u=en(this,t),l=u.tween;if(l!==r){o=(r=l).slice();for(var f={name:e,value:n},h=0,d=o.length;h<d;++h)if(o[h].name===e){o[h]=f;break}h===d&&o.push(f)}u.tween=o}}function gv(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Re(this.node(),n).tween,o=0,u=r.length,l;o<u;++o)if((l=r[o]).name===t)return l.value;return null}return this.each((e==null?dv:pv)(n,t,e))}function tc(t,e,n){var r=t._id;return t.each(function(){var o=en(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Re(o,r).value[e]}}function xd(t,e){var n;return(typeof e=="number"?Te:e instanceof gn?yr:(n=gn(e))?(e=n,yr):Ju)(t,e)}function yv(t){return function(){this.removeAttribute(t)}}function _v(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mv(t,e,n){var r,o=n+"",u;return function(){var l=this.getAttribute(t);return l===o?null:l===r?u:u=e(r=l,n)}}function vv(t,e,n){var r,o=n+"",u;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===r?u:u=e(r=l,n)}}function xv(t,e,n){var r,o,u;return function(){var l,f=n(this),h;return f==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=f+"",l===h?null:l===r&&h===o?u:(o=h,u=e(r=l,f)))}}function wv(t,e,n){var r,o,u;return function(){var l,f=n(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=f+"",l===h?null:l===r&&h===o?u:(o=h,u=e(r=l,f)))}}function bv(t,e){var n=Er(t),r=n==="transform"?fd:xd;return this.attrTween(t,typeof e=="function"?(n.local?wv:xv)(n,r,tc(this,"attr."+t,e)):e==null?(n.local?_v:yv)(n):(n.local?vv:mv)(n,r,e))}function Sv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Tv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Av(t,e){var n,r;function o(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Tv(t,u)),n}return o._value=e,o}function Cv(t,e){var n,r;function o(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Sv(t,u)),n}return o._value=e,o}function $v(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Er(t);return this.tween(n,(r.local?Av:Cv)(r,e))}function Pv(t,e){return function(){Ku(this,t).delay=+e.apply(this,arguments)}}function Lv(t,e){return e=+e,function(){Ku(this,t).delay=e}}function Mv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Pv:Lv)(e,t)):Re(this.node(),e).delay}function Ev(t,e){return function(){en(this,t).duration=+e.apply(this,arguments)}}function kv(t,e){return e=+e,function(){en(this,t).duration=e}}function Rv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ev:kv)(e,t)):Re(this.node(),e).duration}function Dv(t,e){if(typeof e!="function")throw new Error;return function(){en(this,t).ease=e}}function Gv(t){var e=this._id;return arguments.length?this.each(Dv(e,t)):Re(this.node(),e).ease}function Vv(t){typeof t!="function"&&(t=Xu(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u=e[o],l=u.length,f=r[o]=[],h,d=0;d<l;++d)(h=u[d])&&t.call(h,h.__data__,d,u)&&f.push(h);return new Ye(r,this._parents,this._name,this._id)}function Nv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,u=Math.min(r,o),l=new Array(r),f=0;f<u;++f)for(var h=e[f],d=n[f],y=h.length,_=l[f]=new Array(y),g,v=0;v<y;++v)(g=h[v]||d[v])&&(_[v]=g);for(;f<r;++f)l[f]=e[f];return new Ye(l,this._parents,this._name,this._id)}function Iv(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Fv(t,e,n){var r,o,u=Iv(e)?Ku:en;return function(){var l=u(this,t),f=l.on;f!==r&&(o=(r=f).copy()).on(e,n),l.on=o}}function Ov(t,e){var n=this._id;return arguments.length<2?Re(this.node(),n).on.on(t):this.each(Fv(n,t,e))}function zv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Bv(){return this.on("end.remove",zv(this._id))}function Xv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_o(t));for(var r=this._groups,o=r.length,u=new Array(o),l=0;l<o;++l)for(var f=r[l],h=f.length,d=u[l]=new Array(h),y,_,g=0;g<h;++g)(y=f[g])&&(_=t.call(y,y.__data__,g,f))&&("__data__"in y&&(_.__data__=y.__data__),d[g]=_,$o(d[g],e,n,g,d,Re(y,n)));return new Ye(u,this._parents,e,n)}function Yv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bu(t));for(var r=this._groups,o=r.length,u=[],l=[],f=0;f<o;++f)for(var h=r[f],d=h.length,y,_=0;_<d;++_)if(y=h[_]){for(var g=t.call(y,y.__data__,_,h),v,w=Re(y,n),b=0,T=g.length;b<T;++b)(v=g[b])&&$o(v,e,n,b,g,w);u.push(g),l.push(y)}return new Ye(u,l,e,n)}var Hv=Hn.prototype.constructor;function Uv(){return new Hv(this._groups,this._parents)}function Wv(t,e){var n,r,o;return function(){var u=Rn(this,t),l=(this.style.removeProperty(t),Rn(this,t));return u===l?null:u===n&&l===r?o:o=e(n=u,r=l)}}function wd(t){return function(){this.style.removeProperty(t)}}function qv(t,e,n){var r,o=n+"",u;return function(){var l=Rn(this,t);return l===o?null:l===r?u:u=e(r=l,n)}}function Qv(t,e,n){var r,o,u;return function(){var l=Rn(this,t),f=n(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),Rn(this,t))),l===h?null:l===r&&h===o?u:(o=h,u=e(r=l,f))}}function Zv(t,e){var n,r,o,u="style."+e,l="end."+u,f;return function(){var h=en(this,t),d=h.on,y=h.value[u]==null?f||(f=wd(e)):void 0;(d!==n||o!==y)&&(r=(n=d).copy()).on(l,o=y),h.on=r}}function jv(t,e,n){var r=(t+="")=="transform"?ld:xd;return e==null?this.styleTween(t,Wv(t,r)).on("end.style."+t,wd(t)):typeof e=="function"?this.styleTween(t,Qv(t,r,tc(this,"style."+t,e))).each(Zv(this._id,t)):this.styleTween(t,qv(t,r,e),n).on("end.style."+t,null)}function Jv(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Kv(t,e,n){var r,o;function u(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&Jv(t,l,n)),r}return u._value=e,u}function tx(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Kv(t,e,n==null?"":n))}function ex(t){return function(){this.textContent=t}}function nx(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function ix(t){return this.tween("text",typeof t=="function"?nx(tc(this,"text",t)):ex(t==null?"":t+""))}function rx(t){return function(e){this.textContent=t.call(this,e)}}function ax(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&rx(o)),e}return r._value=t,r}function ox(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ax(t))}function sx(){for(var t=this._name,e=this._id,n=Sd(),r=this._groups,o=r.length,u=0;u<o;++u)for(var l=r[u],f=l.length,h,d=0;d<f;++d)if(h=l[d]){var y=Re(h,e);$o(h,t,n,d,l,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Ye(r,this._parents,t,n)}function ux(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(u,l){var f={value:l},h={value:function(){--o===0&&u()}};n.each(function(){var d=en(this,r),y=d.on;y!==t&&(e=(t=y).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),d.on=e})})}var cx=0;function Ye(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function bd(t){return Hn().transition(t)}function Sd(){return++cx}var Kn=Hn.prototype;Ye.prototype=bd.prototype={constructor:Ye,select:Xv,selectAll:Yv,filter:Vv,merge:Nv,selection:Uv,transition:sx,call:Kn.call,nodes:Kn.nodes,node:Kn.node,size:Kn.size,empty:Kn.empty,each:Kn.each,on:Ov,attr:bv,attrTween:$v,style:jv,styleTween:tx,text:ix,textTween:ox,remove:Bv,tween:gv,delay:Mv,duration:Rv,ease:Gv,end:ux};function lx(t){return+t}function fx(t){return t*t}function hx(t){return t*(2-t)}function wl(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function dx(t){return t*t*t}function px(t){return--t*t*t+1}function Ks(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ec=3,gx=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(ec),yx=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(ec),bl=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(ec),Td=Math.PI,Ad=Td/2;function _x(t){return+t==1?1:1-Math.cos(t*Ad)}function mx(t){return Math.sin(t*Ad)}function Sl(t){return(1-Math.cos(Td*t))/2}function yn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function vx(t){return yn(1-+t)}function xx(t){return 1-yn(t)}function Tl(t){return((t*=2)<=1?yn(1-t):2-yn(t-1))/2}function wx(t){return 1-Math.sqrt(1-t*t)}function bx(t){return Math.sqrt(1- --t*t)}function Al(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var tu=4/11,Sx=6/11,Tx=8/11,Ax=3/4,Cx=9/11,$x=10/11,Px=15/16,Lx=21/22,Mx=63/64,Yr=1/tu/tu;function Ex(t){return 1-vr(1-t)}function vr(t){return(t=+t)<tu?Yr*t*t:t<Tx?Yr*(t-=Sx)*t+Ax:t<$x?Yr*(t-=Cx)*t+Px:Yr*(t-=Lx)*t+Mx}function kx(t){return((t*=2)<=1?1-vr(1-t):vr(t-1)+1)/2}var nc=1.70158,Rx=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(nc),Dx=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(nc),Cl=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(nc),mi=2*Math.PI,ic=1,rc=.3,Gx=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=mi);function o(u){return e*yn(- --u)*Math.sin((r-u)/n)}return o.amplitude=function(u){return t(u,n*mi)},o.period=function(u){return t(e,u)},o}(ic,rc),$l=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=mi);function o(u){return 1-e*yn(u=+u)*Math.sin((u+r)/n)}return o.amplitude=function(u){return t(u,n*mi)},o.period=function(u){return t(e,u)},o}(ic,rc),Vx=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=mi);function o(u){return((u=u*2-1)<0?e*yn(-u)*Math.sin((r-u)/n):2-e*yn(u)*Math.sin((r+u)/n))/2}return o.amplitude=function(u){return t(u,n*mi)},o.period=function(u){return t(e,u)},o}(ic,rc),eu={time:null,delay:0,duration:250,ease:Ks};function Nx(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return eu.time=$i(),eu;return n}function Ix(t){var e,n;t instanceof Ye?(e=t._id,t=t._name):(e=Sd(),(n=eu).time=$i(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,u=0;u<o;++u)for(var l=r[u],f=l.length,h,d=0;d<f;++d)(h=l[d])&&$o(h,t,e,d,l,n||Nx(h,e));return new Ye(r,this._parents,t,e)}Hn.prototype.interrupt=hv;Hn.prototype.transition=Ix;var Fx=[null];function Ox(t,e){var n=t.__transition,r,o;if(n){e=e==null?null:e+"";for(o in n)if((r=n[o]).state>Zs&&r.name===e)return new Ye([[t]],Fx,e,+o)}return null}function us(t){return function(){return t}}function zx(t,e,n){this.target=t,this.type=e,this.selection=n}function Pl(){nt.stopImmediatePropagation()}function cs(){nt.preventDefault(),nt.stopImmediatePropagation()}var Ll={name:"drag"},ls={name:"space"},ti={name:"handle"},ei={name:"center"};function Ml(t){return[+t[0],+t[1]]}function nu(t){return[Ml(t[0]),Ml(t[1])]}function Bx(t){return function(e){return dr(e,nt.touches,t)}}var ha={name:"x",handles:["w","e"].map(xr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},da={name:"y",handles:["n","s"].map(xr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Xx={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(xr),input:function(t){return t==null?null:nu(t)},output:function(t){return t}},qe={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},El={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kl={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Yx={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Hx={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function xr(t){return{type:t}}function Ux(){return!nt.ctrlKey&&!nt.button}function Wx(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function qx(){return navigator.maxTouchPoints||"ontouchstart"in this}function fs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Qx(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Zx(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function jx(){return ac(ha)}function Jx(){return ac(da)}function Kx(){return ac(Xx)}function ac(t){var e=Wx,n=Ux,r=qx,o=!0,u=Yn("start","brush","end"),l=6,f;function h(T){var A=T.property("__brush",b).selectAll(".overlay").data([xr("overlay")]);A.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qe.overlay).merge(A).each(function(){var L=fs(this).extent;pe(this).attr("x",L[0][0]).attr("y",L[0][1]).attr("width",L[1][0]-L[0][0]).attr("height",L[1][1]-L[0][1])}),T.selectAll(".selection").data([xr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var E=T.selectAll(".handle").data(t.handles,function(L){return L.type});E.exit().remove(),E.enter().append("rect").attr("class",function(L){return"handle handle--"+L.type}).attr("cursor",function(L){return qe[L.type]}),T.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(r).on("touchstart.brush",g).on("touchmove.brush",v).on("touchend.brush touchcancel.brush",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.move=function(T,A){T.selection?T.on("start.brush",function(){y(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){y(this,arguments).end()}).tween("brush",function(){var E=this,L=E.__brush,R=y(E,arguments),I=L.selection,H=t.input(typeof A=="function"?A.apply(this,arguments):A,L.extent),z=Rr(I,H);function q(Y){L.selection=Y===1&&H===null?null:z(Y),d.call(E),R.brush()}return I!==null&&H!==null?q:q(1)}):T.each(function(){var E=this,L=arguments,R=E.__brush,I=t.input(typeof A=="function"?A.apply(E,L):A,R.extent),H=y(E,L).beforestart();En(E),R.selection=I===null?null:I,d.call(E),H.start().brush().end()})},h.clear=function(T){h.move(T,null)};function d(){var T=pe(this),A=fs(this).selection;A?(T.selectAll(".selection").style("display",null).attr("x",A[0][0]).attr("y",A[0][1]).attr("width",A[1][0]-A[0][0]).attr("height",A[1][1]-A[0][1]),T.selectAll(".handle").style("display",null).attr("x",function(E){return E.type[E.type.length-1]==="e"?A[1][0]-l/2:A[0][0]-l/2}).attr("y",function(E){return E.type[0]==="s"?A[1][1]-l/2:A[0][1]-l/2}).attr("width",function(E){return E.type==="n"||E.type==="s"?A[1][0]-A[0][0]+l:l}).attr("height",function(E){return E.type==="e"||E.type==="w"?A[1][1]-A[0][1]+l:l})):T.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function y(T,A,E){var L=T.__brush.emitter;return L&&(!E||!L.clean)?L:new _(T,A,E)}function _(T,A,E){this.that=T,this.args=A,this.state=T.__brush,this.active=0,this.clean=E}_.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(T){hr(new zx(h,T,t.output(this.state.selection)),u.apply,u,[T,this.that,this.args])}};function g(){if(f&&!nt.touches||!n.apply(this,arguments))return;var T=this,A=nt.target.__data__.type,E=(o&&nt.metaKey?A="overlay":A)==="selection"?Ll:o&&nt.altKey?ei:ti,L=t===da?null:Yx[A],R=t===ha?null:Hx[A],I=fs(T),H=I.extent,z=I.selection,q=H[0][0],Y,S,F=H[0][1],M,O,Z=H[1][0],X,Q,et=H[1][1],tt,i,a=0,s=0,c,p=L&&R&&o&&nt.shiftKey,m,x,C=nt.touches?Bx(nt.changedTouches[0].identifier):Ln,k=C(T),P=k,D=y(T,arguments,!0).beforestart();A==="overlay"?(z&&(c=!0),I.selection=z=[[Y=t===da?q:k[0],M=t===ha?F:k[1]],[X=t===da?Z:Y,tt=t===ha?et:M]]):(Y=z[0][0],M=z[0][1],X=z[1][0],tt=z[1][1]),S=Y,O=M,Q=X,i=tt;var G=pe(T).attr("pointer-events","none"),B=G.selectAll(".overlay").attr("cursor",qe[A]);if(nt.touches)D.moved=U,D.ended=j;else{var N=pe(nt.view).on("mousemove.brush",U,!0).on("mouseup.brush",j,!0);o&&N.on("keydown.brush",K,!0).on("keyup.brush",ft,!0),vo(nt.view)}Pl(),En(T),d.call(T),D.start();function U(){var ht=C(T);p&&!m&&!x&&(Math.abs(ht[0]-P[0])>Math.abs(ht[1]-P[1])?x=!0:m=!0),P=ht,c=!0,cs(),W()}function W(){var ht;switch(a=P[0]-k[0],s=P[1]-k[1],E){case ls:case Ll:{L&&(a=Math.max(q-Y,Math.min(Z-X,a)),S=Y+a,Q=X+a),R&&(s=Math.max(F-M,Math.min(et-tt,s)),O=M+s,i=tt+s);break}case ti:{L<0?(a=Math.max(q-Y,Math.min(Z-Y,a)),S=Y+a,Q=X):L>0&&(a=Math.max(q-X,Math.min(Z-X,a)),S=Y,Q=X+a),R<0?(s=Math.max(F-M,Math.min(et-M,s)),O=M+s,i=tt):R>0&&(s=Math.max(F-tt,Math.min(et-tt,s)),O=M,i=tt+s);break}case ei:{L&&(S=Math.max(q,Math.min(Z,Y-a*L)),Q=Math.max(q,Math.min(Z,X+a*L))),R&&(O=Math.max(F,Math.min(et,M-s*R)),i=Math.max(F,Math.min(et,tt+s*R)));break}}Q<S&&(L*=-1,ht=Y,Y=X,X=ht,ht=S,S=Q,Q=ht,A in El&&B.attr("cursor",qe[A=El[A]])),i<O&&(R*=-1,ht=M,M=tt,tt=ht,ht=O,O=i,i=ht,A in kl&&B.attr("cursor",qe[A=kl[A]])),I.selection&&(z=I.selection),m&&(S=z[0][0],Q=z[1][0]),x&&(O=z[0][1],i=z[1][1]),(z[0][0]!==S||z[0][1]!==O||z[1][0]!==Q||z[1][1]!==i)&&(I.selection=[[S,O],[Q,i]],d.call(T),D.brush())}function j(){if(Pl(),nt.touches){if(nt.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else xo(nt.view,c),N.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);G.attr("pointer-events","all"),B.attr("cursor",qe.overlay),I.selection&&(z=I.selection),Qx(z)&&(I.selection=null,d.call(T)),D.end()}function K(){switch(nt.keyCode){case 16:{p=L&&R;break}case 18:{E===ti&&(L&&(X=Q-a*L,Y=S+a*L),R&&(tt=i-s*R,M=O+s*R),E=ei,W());break}case 32:{(E===ti||E===ei)&&(L<0?X=Q-a:L>0&&(Y=S-a),R<0?tt=i-s:R>0&&(M=O-s),E=ls,B.attr("cursor",qe.selection),W());break}default:return}cs()}function ft(){switch(nt.keyCode){case 16:{p&&(m=x=p=!1,W());break}case 18:{E===ei&&(L<0?X=Q:L>0&&(Y=S),R<0?tt=i:R>0&&(M=O),E=ti,W());break}case 32:{E===ls&&(nt.altKey?(L&&(X=Q-a*L,Y=S+a*L),R&&(tt=i-s*R,M=O+s*R),E=ei):(L<0?X=Q:L>0&&(Y=S),R<0?tt=i:R>0&&(M=O),E=ti),B.attr("cursor",qe[A]),W());break}default:return}cs()}}function v(){y(this,arguments).moved()}function w(){y(this,arguments).ended()}function b(){var T=this.__brush||{selection:null};return T.extent=nu(e.apply(this,arguments)),T.dim=t,T}return h.extent=function(T){return arguments.length?(e=typeof T=="function"?T:us(nu(T)),h):e},h.filter=function(T){return arguments.length?(n=typeof T=="function"?T:us(!!T),h):n},h.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:us(!!T),h):r},h.handleSize=function(T){return arguments.length?(l=+T,h):l},h.keyModifiers=function(T){return arguments.length?(o=!!T,h):o},h.on=function(){var T=u.on.apply(u,arguments);return T===u?h:T},h}var Rl=Math.cos,Dl=Math.sin,Cd=Math.PI,Hr=Cd/2,Gl=Cd*2,Vl=Math.max;function tw(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function ew(){var t=0,e=null,n=null,r=null;function o(u){var l=u.length,f=[],h=ve(l),d=[],y=[],_=y.groups=new Array(l),g=new Array(l*l),v,w,b,T,A,E;for(v=0,A=-1;++A<l;){for(w=0,E=-1;++E<l;)w+=u[A][E];f.push(w),d.push(ve(l)),v+=w}for(e&&h.sort(function(S,F){return e(f[S],f[F])}),n&&d.forEach(function(S,F){S.sort(function(M,O){return n(u[F][M],u[F][O])})}),v=Vl(0,Gl-t*l)/v,T=v?t:Gl/l,w=0,A=-1;++A<l;){for(b=w,E=-1;++E<l;){var L=h[A],R=d[L][E],I=u[L][R],H=w,z=w+=I*v;g[R*l+L]={index:L,subindex:R,startAngle:H,endAngle:z,value:I}}_[L]={index:L,startAngle:b,endAngle:w,value:f[L]},w+=T}for(A=-1;++A<l;)for(E=A-1;++E<l;){var q=g[E*l+A],Y=g[A*l+E];(q.value||Y.value)&&y.push(q.value<Y.value?{source:Y,target:q}:{source:q,target:Y})}return r?y.sort(r):y}return o.padAngle=function(u){return arguments.length?(t=Vl(0,u),o):t},o.sortGroups=function(u){return arguments.length?(e=u,o):e},o.sortSubgroups=function(u){return arguments.length?(n=u,o):n},o.sortChords=function(u){return arguments.length?(u==null?r=null:(r=tw(u))._=u,o):r&&r._},o}var nw=Array.prototype.slice;function hs(t){return function(){return t}}var iu=Math.PI,ru=2*iu,Cn=1e-6,iw=ru-Cn;function au(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wn(){return new au}au.prototype=wn.prototype={constructor:au,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,u){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var u=this._x1,l=this._y1,f=n-t,h=r-e,d=u-t,y=l-e,_=d*d+y*y;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(_>Cn)if(!(Math.abs(y*f-h*d)>Cn)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var g=n-u,v=r-l,w=f*f+h*h,b=g*g+v*v,T=Math.sqrt(w),A=Math.sqrt(_),E=o*Math.tan((iu-Math.acos((w+_-b)/(2*T*A)))/2),L=E/A,R=E/T;Math.abs(L-1)>Cn&&(this._+="L"+(t+L*d)+","+(e+L*y)),this._+="A"+o+","+o+",0,0,"+ +(y*g>d*v)+","+(this._x1=t+R*f)+","+(this._y1=e+R*h)}},arc:function(t,e,n,r,o,u){t=+t,e=+e,n=+n,u=!!u;var l=n*Math.cos(r),f=n*Math.sin(r),h=t+l,d=e+f,y=1^u,_=u?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>Cn||Math.abs(this._y1-d)>Cn)&&(this._+="L"+h+","+d),n&&(_<0&&(_=_%ru+ru),_>iw?this._+="A"+n+","+n+",0,1,"+y+","+(t-l)+","+(e-f)+"A"+n+","+n+",0,1,"+y+","+(this._x1=h)+","+(this._y1=d):_>Cn&&(this._+="A"+n+","+n+",0,"+ +(_>=iu)+","+y+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function rw(t){return t.source}function aw(t){return t.target}function ow(t){return t.radius}function sw(t){return t.startAngle}function uw(t){return t.endAngle}function cw(){var t=rw,e=aw,n=ow,r=sw,o=uw,u=null;function l(){var f,h=nw.call(arguments),d=t.apply(this,h),y=e.apply(this,h),_=+n.apply(this,(h[0]=d,h)),g=r.apply(this,h)-Hr,v=o.apply(this,h)-Hr,w=_*Rl(g),b=_*Dl(g),T=+n.apply(this,(h[0]=y,h)),A=r.apply(this,h)-Hr,E=o.apply(this,h)-Hr;if(u||(u=f=wn()),u.moveTo(w,b),u.arc(0,0,_,g,v),(g!==A||v!==E)&&(u.quadraticCurveTo(0,0,T*Rl(A),T*Dl(A)),u.arc(0,0,T,A,E)),u.quadraticCurveTo(0,0,w,b),u.closePath(),f)return u=null,f+""||null}return l.radius=function(f){return arguments.length?(n=typeof f=="function"?f:hs(+f),l):n},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:hs(+f),l):r},l.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:hs(+f),l):o},l.source=function(f){return arguments.length?(t=f,l):t},l.target=function(f){return arguments.length?(e=f,l):e},l.context=function(f){return arguments.length?(u=f==null?null:f,l):u},l}var Se="$";function Aa(){}Aa.prototype=Ke.prototype={constructor:Aa,has:function(t){return Se+t in this},get:function(t){return this[Se+t]},set:function(t,e){return this[Se+t]=e,this},remove:function(t){var e=Se+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Se&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Se&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Se&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Se&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Se&&++t;return t},empty:function(){for(var t in this)if(t[0]===Se)return!1;return!0},each:function(t){for(var e in this)e[0]===Se&&t(this[e],e.slice(1),this)}};function Ke(t,e){var n=new Aa;if(t instanceof Aa)t.each(function(f,h){n.set(h,f)});else if(Array.isArray(t)){var r=-1,o=t.length,u;if(e==null)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(u=t[r],r,t),u)}else if(t)for(var l in t)n.set(l,t[l]);return n}function lw(){var t=[],e=[],n,r,o;function u(f,h,d,y){if(h>=t.length)return n!=null&&f.sort(n),r!=null?r(f):f;for(var _=-1,g=f.length,v=t[h++],w,b,T=Ke(),A,E=d();++_<g;)(A=T.get(w=v(b=f[_])+""))?A.push(b):T.set(w,[b]);return T.each(function(L,R){y(E,R,u(L,h,d,y))}),E}function l(f,h){if(++h>t.length)return f;var d,y=e[h-1];return r!=null&&h>=t.length?d=f.entries():(d=[],f.each(function(_,g){d.push({key:g,values:l(_,h)})})),y!=null?d.sort(function(_,g){return y(_.key,g.key)}):d}return o={object:function(f){return u(f,0,fw,hw)},map:function(f){return u(f,0,Nl,Il)},entries:function(f){return l(u(f,0,Nl,Il),0)},key:function(f){return t.push(f),o},sortKeys:function(f){return e[t.length-1]=f,o},sortValues:function(f){return n=f,o},rollup:function(f){return r=f,o}}}function fw(){return{}}function hw(t,e,n){t[e]=n}function Nl(){return Ke()}function Il(t,e,n){t.set(e,n)}function Ca(){}var Tn=Ke.prototype;Ca.prototype=$d.prototype={constructor:Ca,has:Tn.has,add:function(t){return t+="",this[Se+t]=t,this},remove:Tn.remove,clear:Tn.clear,values:Tn.keys,size:Tn.size,empty:Tn.empty,each:Tn.each};function $d(t,e){var n=new Ca;if(t instanceof Ca)t.each(function(u){n.add(u)});else if(t){var r=-1,o=t.length;if(e==null)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}function dw(t){var e=[];for(var n in t)e.push(n);return e}function pw(t){var e=[];for(var n in t)e.push(t[n]);return e}function gw(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var yw=Array.prototype,Pd=yw.slice;function _w(t,e){return t-e}function mw(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function sn(t){return function(){return t}}function vw(t,e){for(var n=-1,r=e.length,o;++n<r;)if(o=xw(t,e[n]))return o;return 0}function xw(t,e){for(var n=e[0],r=e[1],o=-1,u=0,l=t.length,f=l-1;u<l;f=u++){var h=t[u],d=h[0],y=h[1],_=t[f],g=_[0],v=_[1];if(ww(h,_,e))return 0;y>r!=v>r&&n<(g-d)*(r-y)/(v-y)+d&&(o=-o)}return o}function ww(t,e,n){var r;return bw(t,e,n)&&Sw(t[r=+(t[0]===e[0])],n[r],e[r])}function bw(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function Sw(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Tw(){}var Qe=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ld(){var t=1,e=1,n=Ou,r=h;function o(d){var y=n(d);if(Array.isArray(y))y=y.slice().sort(_w);else{var _=Iu(d),g=_[0],v=_[1];y=kn(g,v,y),y=ve(Math.floor(g/y)*y,Math.floor(v/y)*y,y)}return y.map(function(w){return u(d,w)})}function u(d,y){var _=[],g=[];return l(d,y,function(v){r(v,d,y),mw(v)>0?_.push([v]):g.push(v)}),g.forEach(function(v){for(var w=0,b=_.length,T;w<b;++w)if(vw((T=_[w])[0],v)!==-1){T.push(v);return}}),{type:"MultiPolygon",value:y,coordinates:_}}function l(d,y,_){var g=new Array,v=new Array,w,b,T,A,E,L;for(w=b=-1,A=d[0]>=y,Qe[A<<1].forEach(R);++w<t-1;)T=A,A=d[w+1]>=y,Qe[T|A<<1].forEach(R);for(Qe[A<<0].forEach(R);++b<e-1;){for(w=-1,A=d[b*t+t]>=y,E=d[b*t]>=y,Qe[A<<1|E<<2].forEach(R);++w<t-1;)T=A,A=d[b*t+t+w+1]>=y,L=E,E=d[b*t+w+1]>=y,Qe[T|A<<1|E<<2|L<<3].forEach(R);Qe[A|E<<3].forEach(R)}for(w=-1,E=d[b*t]>=y,Qe[E<<2].forEach(R);++w<t-1;)L=E,E=d[b*t+w+1]>=y,Qe[E<<2|L<<3].forEach(R);Qe[E<<3].forEach(R);function R(I){var H=[I[0][0]+w,I[0][1]+b],z=[I[1][0]+w,I[1][1]+b],q=f(H),Y=f(z),S,F;(S=v[q])?(F=g[Y])?(delete v[S.end],delete g[F.start],S===F?(S.ring.push(z),_(S.ring)):g[S.start]=v[F.end]={start:S.start,end:F.end,ring:S.ring.concat(F.ring)}):(delete v[S.end],S.ring.push(z),v[S.end=Y]=S):(S=g[Y])?(F=v[q])?(delete g[S.start],delete v[F.end],S===F?(S.ring.push(z),_(S.ring)):g[F.start]=v[S.end]={start:F.start,end:S.end,ring:F.ring.concat(S.ring)}):(delete g[S.start],S.ring.unshift(H),g[S.start=q]=S):g[q]=v[Y]={start:q,end:Y,ring:[H,z]}}}function f(d){return d[0]*2+d[1]*(t+1)*4}function h(d,y,_){d.forEach(function(g){var v=g[0],w=g[1],b=v|0,T=w|0,A,E=y[T*t+b];v>0&&v<t&&b===v&&(A=y[T*t+b-1],g[0]=v+(_-A)/(E-A)-.5),w>0&&w<e&&T===w&&(A=y[(T-1)*t+b],g[1]=w+(_-A)/(E-A)-.5)})}return o.contour=u,o.size=function(d){if(!arguments.length)return[t,e];var y=Math.ceil(d[0]),_=Math.ceil(d[1]);if(!(y>0)||!(_>0))throw new Error("invalid size");return t=y,e=_,o},o.thresholds=function(d){return arguments.length?(n=typeof d=="function"?d:Array.isArray(d)?sn(Pd.call(d)):sn(d),o):n},o.smooth=function(d){return arguments.length?(r=d?h:Tw,o):r===h},o}function ds(t,e,n){for(var r=t.width,o=t.height,u=(n<<1)+1,l=0;l<o;++l)for(var f=0,h=0;f<r+n;++f)f<r&&(h+=t.data[f+l*r]),f>=n&&(f>=u&&(h-=t.data[f-u+l*r]),e.data[f-n+l*r]=h/Math.min(f+1,r-1+u-f,u))}function ps(t,e,n){for(var r=t.width,o=t.height,u=(n<<1)+1,l=0;l<r;++l)for(var f=0,h=0;f<o+n;++f)f<o&&(h+=t.data[l+f*r]),f>=n&&(f>=u&&(h-=t.data[l+(f-u)*r]),e.data[l+(f-n)*r]=h/Math.min(f+1,o-1+u-f,u))}function Aw(t){return t[0]}function Cw(t){return t[1]}function $w(){return 1}function Pw(){var t=Aw,e=Cw,n=$w,r=960,o=500,u=20,l=2,f=u*3,h=r+f*2>>l,d=o+f*2>>l,y=sn(20);function _(A){var E=new Float32Array(h*d),L=new Float32Array(h*d);A.forEach(function(H,z,q){var Y=+t(H,z,q)+f>>l,S=+e(H,z,q)+f>>l,F=+n(H,z,q);Y>=0&&Y<h&&S>=0&&S<d&&(E[Y+S*h]+=F)}),ds({width:h,height:d,data:E},{width:h,height:d,data:L},u>>l),ps({width:h,height:d,data:L},{width:h,height:d,data:E},u>>l),ds({width:h,height:d,data:E},{width:h,height:d,data:L},u>>l),ps({width:h,height:d,data:L},{width:h,height:d,data:E},u>>l),ds({width:h,height:d,data:E},{width:h,height:d,data:L},u>>l),ps({width:h,height:d,data:L},{width:h,height:d,data:E},u>>l);var R=y(E);if(!Array.isArray(R)){var I=$h(E);R=kn(0,I,R),R=ve(0,Math.floor(I/R)*R,R),R.shift()}return Ld().thresholds(R).size([h,d])(E).map(g)}function g(A){return A.value*=Math.pow(2,-2*l),A.coordinates.forEach(v),A}function v(A){A.forEach(w)}function w(A){A.forEach(b)}function b(A){A[0]=A[0]*Math.pow(2,l)-f,A[1]=A[1]*Math.pow(2,l)-f}function T(){return f=u*3,h=r+f*2>>l,d=o+f*2>>l,_}return _.x=function(A){return arguments.length?(t=typeof A=="function"?A:sn(+A),_):t},_.y=function(A){return arguments.length?(e=typeof A=="function"?A:sn(+A),_):e},_.weight=function(A){return arguments.length?(n=typeof A=="function"?A:sn(+A),_):n},_.size=function(A){if(!arguments.length)return[r,o];var E=Math.ceil(A[0]),L=Math.ceil(A[1]);if(!(E>=0)&&!(E>=0))throw new Error("invalid size");return r=E,o=L,T()},_.cellSize=function(A){if(!arguments.length)return 1<<l;if(!((A=+A)>=1))throw new Error("invalid cell size");return l=Math.floor(Math.log(A)/Math.LN2),T()},_.thresholds=function(A){return arguments.length?(y=typeof A=="function"?A:Array.isArray(A)?sn(Pd.call(A)):sn(A),_):y},_.bandwidth=function(A){if(!arguments.length)return Math.sqrt(u*(u+1));if(!((A=+A)>=0))throw new Error("invalid bandwidth");return u=Math.round((Math.sqrt(4*A*A+1)-1)/2),T()},_}var Fl={},gs={},ys=34,Di=10,_s=13;function Md(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Lw(t,e){var n=Md(t);return function(r,o){return e(n(r),o,t)}}function Ol(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var o in r)o in e||n.push(e[o]=o)}),n}function he(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Mw(t){return t<0?"-"+he(-t,6):t>9999?"+"+he(t,6):he(t,4)}function Ew(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Mw(t.getUTCFullYear())+"-"+he(t.getUTCMonth()+1,2)+"-"+he(t.getUTCDate(),2)+(o?"T"+he(e,2)+":"+he(n,2)+":"+he(r,2)+"."+he(o,3)+"Z":r?"T"+he(e,2)+":"+he(n,2)+":"+he(r,2)+"Z":n||e?"T"+he(e,2)+":"+he(n,2)+"Z":"")}function Po(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(_,g){var v,w,b=o(_,function(T,A){if(v)return v(T,A-1);w=T,v=g?Lw(T,g):Md(T)});return b.columns=w||[],b}function o(_,g){var v=[],w=_.length,b=0,T=0,A,E=w<=0,L=!1;_.charCodeAt(w-1)===Di&&--w,_.charCodeAt(w-1)===_s&&--w;function R(){if(E)return gs;if(L)return L=!1,Fl;var H,z=b,q;if(_.charCodeAt(z)===ys){for(;b++<w&&_.charCodeAt(b)!==ys||_.charCodeAt(++b)===ys;);return(H=b)>=w?E=!0:(q=_.charCodeAt(b++))===Di?L=!0:q===_s&&(L=!0,_.charCodeAt(b)===Di&&++b),_.slice(z+1,H-1).replace(/""/g,'"')}for(;b<w;){if((q=_.charCodeAt(H=b++))===Di)L=!0;else if(q===_s)L=!0,_.charCodeAt(b)===Di&&++b;else if(q!==n)continue;return _.slice(z,H)}return E=!0,_.slice(z,w)}for(;(A=R())!==gs;){for(var I=[];A!==Fl&&A!==gs;)I.push(A),A=R();g&&(I=g(I,T++))==null||v.push(I)}return v}function u(_,g){return _.map(function(v){return g.map(function(w){return y(v[w])}).join(t)})}function l(_,g){return g==null&&(g=Ol(_)),[g.map(y).join(t)].concat(u(_,g)).join(`
`)}function f(_,g){return g==null&&(g=Ol(_)),u(_,g).join(`
`)}function h(_){return _.map(d).join(`
`)}function d(_){return _.map(y).join(t)}function y(_){return _==null?"":_ instanceof Date?Ew(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:r,parseRows:o,format:l,formatBody:f,formatRows:h,formatRow:d,formatValue:y}}var Un=Po(","),Ed=Un.parse,kw=Un.parseRows,Rw=Un.format,Dw=Un.formatBody,Gw=Un.formatRows,Vw=Un.formatRow,Nw=Un.formatValue,Wn=Po("	"),kd=Wn.parse,Iw=Wn.parseRows,Fw=Wn.format,Ow=Wn.formatBody,zw=Wn.formatRows,Bw=Wn.formatRow,Xw=Wn.formatValue;function Yw(t){for(var e in t){var n=t[e].trim(),r,o;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(o=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Hw&&!!o[4]&&!o[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var Hw=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Uw(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Ww(t,e){return fetch(t,e).then(Uw)}function qw(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Qw(t,e){return fetch(t,e).then(qw)}function Zw(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Lo(t,e){return fetch(t,e).then(Zw)}function Rd(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Lo(e,n).then(function(o){return t(o,r)})}}function jw(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var o=Po(t);return Lo(e,n).then(function(u){return o.parse(u,r)})}var Jw=Rd(Ed),Kw=Rd(kd);function tb(t,e){return new Promise(function(n,r){var o=new Image;for(var u in e)o[u]=e[u];o.onerror=r,o.onload=function(){n(o)},o.src=t})}function eb(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function nb(t,e){return fetch(t,e).then(eb)}function oc(t){return function(e,n){return Lo(e,n).then(function(r){return new DOMParser().parseFromString(r,t)})}}var ib=oc("application/xml"),rb=oc("text/html"),ab=oc("image/svg+xml");function ob(t,e){var n;t==null&&(t=0),e==null&&(e=0);function r(){var o,u=n.length,l,f=0,h=0;for(o=0;o<u;++o)l=n[o],f+=l.x,h+=l.y;for(f=f/u-t,h=h/u-e,o=0;o<u;++o)l=n[o],l.x-=f,l.y-=h}return r.initialize=function(o){n=o},r.x=function(o){return arguments.length?(t=+o,r):t},r.y=function(o){return arguments.length?(e=+o,r):e},r}function Ot(t){return function(){return t}}function fn(){return(Math.random()-.5)*1e-6}function sb(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Dd(this.cover(e,n),e,n,t)}function Dd(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,u=t._root,l={data:r},f=t._x0,h=t._y0,d=t._x1,y=t._y1,_,g,v,w,b,T,A,E;if(!u)return t._root=l,t;for(;u.length;)if((b=e>=(_=(f+d)/2))?f=_:d=_,(T=n>=(g=(h+y)/2))?h=g:y=g,o=u,!(u=u[A=T<<1|b]))return o[A]=l,t;if(v=+t._x.call(null,u.data),w=+t._y.call(null,u.data),e===v&&n===w)return l.next=u,o?o[A]=l:t._root=l,t;do o=o?o[A]=new Array(4):t._root=new Array(4),(b=e>=(_=(f+d)/2))?f=_:d=_,(T=n>=(g=(h+y)/2))?h=g:y=g;while((A=T<<1|b)===(E=(w>=g)<<1|v>=_));return o[E]=u,o[A]=l,t}function ub(t){var e,n,r=t.length,o,u,l=new Array(r),f=new Array(r),h=1/0,d=1/0,y=-1/0,_=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(u=+this._y.call(null,e))||(l[n]=o,f[n]=u,o<h&&(h=o),o>y&&(y=o),u<d&&(d=u),u>_&&(_=u));if(h>y||d>_)return this;for(this.cover(h,d).cover(y,_),n=0;n<r;++n)Dd(this,l[n],f[n],t[n]);return this}function cb(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,u=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,u=(r=Math.floor(e))+1;else{for(var l=o-n,f=this._root,h,d;n>t||t>=o||r>e||e>=u;)switch(d=(e<r)<<1|t<n,h=new Array(4),h[d]=f,f=h,l*=2,d){case 0:o=n+l,u=r+l;break;case 1:n=o-l,u=r+l;break;case 2:o=n+l,r=u-l;break;case 3:n=o-l,r=u-l;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=u,this}function lb(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function fb(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function re(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function hb(t,e,n){var r,o=this._x0,u=this._y0,l,f,h,d,y=this._x1,_=this._y1,g=[],v=this._root,w,b;for(v&&g.push(new re(v,o,u,y,_)),n==null?n=1/0:(o=t-n,u=e-n,y=t+n,_=e+n,n*=n);w=g.pop();)if(!(!(v=w.node)||(l=w.x0)>y||(f=w.y0)>_||(h=w.x1)<o||(d=w.y1)<u))if(v.length){var T=(l+h)/2,A=(f+d)/2;g.push(new re(v[3],T,A,h,d),new re(v[2],l,A,T,d),new re(v[1],T,f,h,A),new re(v[0],l,f,T,A)),(b=(e>=A)<<1|t>=T)&&(w=g[g.length-1],g[g.length-1]=g[g.length-1-b],g[g.length-1-b]=w)}else{var E=t-+this._x.call(null,v.data),L=e-+this._y.call(null,v.data),R=E*E+L*L;if(R<n){var I=Math.sqrt(n=R);o=t-I,u=e-I,y=t+I,_=e+I,r=v.data}}return r}function db(t){if(isNaN(y=+this._x.call(null,t))||isNaN(_=+this._y.call(null,t)))return this;var e,n=this._root,r,o,u,l=this._x0,f=this._y0,h=this._x1,d=this._y1,y,_,g,v,w,b,T,A;if(!n)return this;if(n.length)for(;;){if((w=y>=(g=(l+h)/2))?l=g:h=g,(b=_>=(v=(f+d)/2))?f=v:d=v,e=n,!(n=n[T=b<<1|w]))return this;if(!n.length)break;(e[T+1&3]||e[T+2&3]||e[T+3&3])&&(r=e,A=T)}for(;n.data!==t;)if(o=n,!(n=n.next))return this;return(u=n.next)&&delete n.next,o?(u?o.next=u:delete o.next,this):e?(u?e[T]=u:delete e[T],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[A]=n:this._root=n),this):(this._root=u,this)}function pb(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function gb(){return this._root}function yb(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function _b(t){var e=[],n,r=this._root,o,u,l,f,h;for(r&&e.push(new re(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,u=n.x0,l=n.y0,f=n.x1,h=n.y1)&&r.length){var d=(u+f)/2,y=(l+h)/2;(o=r[3])&&e.push(new re(o,d,y,f,h)),(o=r[2])&&e.push(new re(o,u,y,d,h)),(o=r[1])&&e.push(new re(o,d,l,f,y)),(o=r[0])&&e.push(new re(o,u,l,d,y))}return this}function mb(t){var e=[],n=[],r;for(this._root&&e.push(new re(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var u,l=r.x0,f=r.y0,h=r.x1,d=r.y1,y=(l+h)/2,_=(f+d)/2;(u=o[0])&&e.push(new re(u,l,f,y,_)),(u=o[1])&&e.push(new re(u,y,f,h,_)),(u=o[2])&&e.push(new re(u,l,_,y,d)),(u=o[3])&&e.push(new re(u,y,_,h,d))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function vb(t){return t[0]}function xb(t){return arguments.length?(this._x=t,this):this._x}function wb(t){return t[1]}function bb(t){return arguments.length?(this._y=t,this):this._y}function Mo(t,e,n){var r=new sc(e==null?vb:e,n==null?wb:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function sc(t,e,n,r,o,u){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=u,this._root=void 0}function zl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ce=Mo.prototype=sc.prototype;ce.copy=function(){var t=new sc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=zl(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?n.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=zl(r));return t};ce.add=sb;ce.addAll=ub;ce.cover=cb;ce.data=lb;ce.extent=fb;ce.find=hb;ce.remove=db;ce.removeAll=pb;ce.root=gb;ce.size=yb;ce.visit=_b;ce.visitAfter=mb;ce.x=xb;ce.y=bb;function Sb(t){return t.x+t.vx}function Tb(t){return t.y+t.vy}function Ab(t){var e,n,r=1,o=1;typeof t!="function"&&(t=Ot(t==null?1:+t));function u(){for(var h,d=e.length,y,_,g,v,w,b,T=0;T<o;++T)for(y=Mo(e,Sb,Tb).visitAfter(l),h=0;h<d;++h)_=e[h],w=n[_.index],b=w*w,g=_.x+_.vx,v=_.y+_.vy,y.visit(A);function A(E,L,R,I,H){var z=E.data,q=E.r,Y=w+q;if(z){if(z.index>_.index){var S=g-z.x-z.vx,F=v-z.y-z.vy,M=S*S+F*F;M<Y*Y&&(S===0&&(S=fn(),M+=S*S),F===0&&(F=fn(),M+=F*F),M=(Y-(M=Math.sqrt(M)))/M*r,_.vx+=(S*=M)*(Y=(q*=q)/(b+q)),_.vy+=(F*=M)*Y,z.vx-=S*(Y=1-Y),z.vy-=F*Y)}return}return L>g+Y||I<g-Y||R>v+Y||H<v-Y}}function l(h){if(h.data)return h.r=n[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function f(){if(!!e){var h,d=e.length,y;for(n=new Array(d),h=0;h<d;++h)y=e[h],n[y.index]=+t(y,h,e)}}return u.initialize=function(h){e=h,f()},u.iterations=function(h){return arguments.length?(o=+h,u):o},u.strength=function(h){return arguments.length?(r=+h,u):r},u.radius=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),f(),u):t},u}function Cb(t){return t.index}function Bl(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function $b(t){var e=Cb,n=y,r,o=Ot(30),u,l,f,h,d=1;t==null&&(t=[]);function y(b){return 1/Math.min(f[b.source.index],f[b.target.index])}function _(b){for(var T=0,A=t.length;T<d;++T)for(var E=0,L,R,I,H,z,q,Y;E<A;++E)L=t[E],R=L.source,I=L.target,H=I.x+I.vx-R.x-R.vx||fn(),z=I.y+I.vy-R.y-R.vy||fn(),q=Math.sqrt(H*H+z*z),q=(q-u[E])/q*b*r[E],H*=q,z*=q,I.vx-=H*(Y=h[E]),I.vy-=z*Y,R.vx+=H*(Y=1-Y),R.vy+=z*Y}function g(){if(!!l){var b,T=l.length,A=t.length,E=Ke(l,e),L;for(b=0,f=new Array(T);b<A;++b)L=t[b],L.index=b,typeof L.source!="object"&&(L.source=Bl(E,L.source)),typeof L.target!="object"&&(L.target=Bl(E,L.target)),f[L.source.index]=(f[L.source.index]||0)+1,f[L.target.index]=(f[L.target.index]||0)+1;for(b=0,h=new Array(A);b<A;++b)L=t[b],h[b]=f[L.source.index]/(f[L.source.index]+f[L.target.index]);r=new Array(A),v(),u=new Array(A),w()}}function v(){if(!!l)for(var b=0,T=t.length;b<T;++b)r[b]=+n(t[b],b,t)}function w(){if(!!l)for(var b=0,T=t.length;b<T;++b)u[b]=+o(t[b],b,t)}return _.initialize=function(b){l=b,g()},_.links=function(b){return arguments.length?(t=b,g(),_):t},_.id=function(b){return arguments.length?(e=b,_):e},_.iterations=function(b){return arguments.length?(d=+b,_):d},_.strength=function(b){return arguments.length?(n=typeof b=="function"?b:Ot(+b),v(),_):n},_.distance=function(b){return arguments.length?(o=typeof b=="function"?b:Ot(+b),w(),_):o},_}function Pb(t){return t.x}function Lb(t){return t.y}var Mb=10,Eb=Math.PI*(3-Math.sqrt(5));function kb(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),u=0,l=.6,f=Ke(),h=Co(y),d=Yn("tick","end");t==null&&(t=[]);function y(){_(),d.call("tick",e),n<r&&(h.stop(),d.call("end",e))}function _(w){var b,T=t.length,A;w===void 0&&(w=1);for(var E=0;E<w;++E)for(n+=(u-n)*o,f.each(function(L){L(n)}),b=0;b<T;++b)A=t[b],A.fx==null?A.x+=A.vx*=l:(A.x=A.fx,A.vx=0),A.fy==null?A.y+=A.vy*=l:(A.y=A.fy,A.vy=0);return e}function g(){for(var w=0,b=t.length,T;w<b;++w){if(T=t[w],T.index=w,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var A=Mb*Math.sqrt(w),E=w*Eb;T.x=A*Math.cos(E),T.y=A*Math.sin(E)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function v(w){return w.initialize&&w.initialize(t),w}return g(),e={tick:_,restart:function(){return h.restart(y),e},stop:function(){return h.stop(),e},nodes:function(w){return arguments.length?(t=w,g(),f.each(v),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(o=+w,e):+o},alphaTarget:function(w){return arguments.length?(u=+w,e):u},velocityDecay:function(w){return arguments.length?(l=1-w,e):1-l},force:function(w,b){return arguments.length>1?(b==null?f.remove(w):f.set(w,v(b)),e):f.get(w)},find:function(w,b,T){var A=0,E=t.length,L,R,I,H,z;for(T==null?T=1/0:T*=T,A=0;A<E;++A)H=t[A],L=w-H.x,R=b-H.y,I=L*L+R*R,I<T&&(z=H,T=I);return z},on:function(w,b){return arguments.length>1?(d.on(w,b),e):d.on(w)}}}function Rb(){var t,e,n,r=Ot(-30),o,u=1,l=1/0,f=.81;function h(g){var v,w=t.length,b=Mo(t,Pb,Lb).visitAfter(y);for(n=g,v=0;v<w;++v)e=t[v],b.visit(_)}function d(){if(!!t){var g,v=t.length,w;for(o=new Array(v),g=0;g<v;++g)w=t[g],o[w.index]=+r(w,g,t)}}function y(g){var v=0,w,b,T=0,A,E,L;if(g.length){for(A=E=L=0;L<4;++L)(w=g[L])&&(b=Math.abs(w.value))&&(v+=w.value,T+=b,A+=b*w.x,E+=b*w.y);g.x=A/T,g.y=E/T}else{w=g,w.x=w.data.x,w.y=w.data.y;do v+=o[w.data.index];while(w=w.next)}g.value=v}function _(g,v,w,b){if(!g.value)return!0;var T=g.x-e.x,A=g.y-e.y,E=b-v,L=T*T+A*A;if(E*E/f<L)return L<l&&(T===0&&(T=fn(),L+=T*T),A===0&&(A=fn(),L+=A*A),L<u&&(L=Math.sqrt(u*L)),e.vx+=T*g.value*n/L,e.vy+=A*g.value*n/L),!0;if(g.length||L>=l)return;(g.data!==e||g.next)&&(T===0&&(T=fn(),L+=T*T),A===0&&(A=fn(),L+=A*A),L<u&&(L=Math.sqrt(u*L)));do g.data!==e&&(E=o[g.data.index]*n/L,e.vx+=T*E,e.vy+=A*E);while(g=g.next)}return h.initialize=function(g){t=g,d()},h.strength=function(g){return arguments.length?(r=typeof g=="function"?g:Ot(+g),d(),h):r},h.distanceMin=function(g){return arguments.length?(u=g*g,h):Math.sqrt(u)},h.distanceMax=function(g){return arguments.length?(l=g*g,h):Math.sqrt(l)},h.theta=function(g){return arguments.length?(f=g*g,h):Math.sqrt(f)},h}function Db(t,e,n){var r,o=Ot(.1),u,l;typeof t!="function"&&(t=Ot(+t)),e==null&&(e=0),n==null&&(n=0);function f(d){for(var y=0,_=r.length;y<_;++y){var g=r[y],v=g.x-e||1e-6,w=g.y-n||1e-6,b=Math.sqrt(v*v+w*w),T=(l[y]-b)*u[y]*d/b;g.vx+=v*T,g.vy+=w*T}}function h(){if(!!r){var d,y=r.length;for(u=new Array(y),l=new Array(y),d=0;d<y;++d)l[d]=+t(r[d],d,r),u[d]=isNaN(l[d])?0:+o(r[d],d,r)}}return f.initialize=function(d){r=d,h()},f.strength=function(d){return arguments.length?(o=typeof d=="function"?d:Ot(+d),h(),f):o},f.radius=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),h(),f):t},f.x=function(d){return arguments.length?(e=+d,f):e},f.y=function(d){return arguments.length?(n=+d,f):n},f}function Gb(t){var e=Ot(.1),n,r,o;typeof t!="function"&&(t=Ot(t==null?0:+t));function u(f){for(var h=0,d=n.length,y;h<d;++h)y=n[h],y.vx+=(o[h]-y.x)*r[h]*f}function l(){if(!!n){var f,h=n.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return u.initialize=function(f){n=f,l()},u.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),l(),u):e},u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),l(),u):t},u}function Vb(t){var e=Ot(.1),n,r,o;typeof t!="function"&&(t=Ot(t==null?0:+t));function u(f){for(var h=0,d=n.length,y;h<d;++h)y=n[h],y.vy+=(o[h]-y.y)*r[h]*f}function l(){if(!!n){var f,h=n.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return u.initialize=function(f){n=f,l()},u.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),l(),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),l(),u):t},u}function Nb(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $a(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vi(t){return t=$a(Math.abs(t)),t?t[1]:NaN}function Ib(t,e){return function(n,r){for(var o=n.length,u=[],l=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),u.push(n.substring(o-=f,o+f)),!((h+=f+1)>r));)f=t[l=(l+1)%t.length];return u.reverse().join(e)}}function Fb(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ob=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wr(t){if(!(e=Ob.exec(t)))throw new Error("invalid format: "+t);var e;return new Eo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wr.prototype=Eo.prototype;function Eo(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Eo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zb(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var Gd;function Bb(t,e){var n=$a(t,e);if(!n)return t+"";var r=n[0],o=n[1],u=o-(Gd=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=r.length;return u===l?r:u>l?r+new Array(u-l+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+$a(t,Math.max(0,e+u-1))[0]}function Xl(t,e){var n=$a(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var Yl={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Nb,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Xl(t*100,e)},r:Xl,s:Bb,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Hl(t){return t}var Ul=Array.prototype.map,Wl=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Vd(t){var e=t.grouping===void 0||t.thousands===void 0?Hl:Ib(Ul.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?Hl:Fb(Ul.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"-":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(_){_=wr(_);var g=_.fill,v=_.align,w=_.sign,b=_.symbol,T=_.zero,A=_.width,E=_.comma,L=_.precision,R=_.trim,I=_.type;I==="n"?(E=!0,I="g"):Yl[I]||(L===void 0&&(L=12),R=!0,I="g"),(T||g==="0"&&v==="=")&&(T=!0,g="0",v="=");var H=b==="$"?n:b==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",z=b==="$"?r:/[%p]/.test(I)?l:"",q=Yl[I],Y=/[defgprs%]/.test(I);L=L===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function S(F){var M=H,O=z,Z,X,Q;if(I==="c")O=q(F)+O,F="";else{F=+F;var et=F<0||1/F<0;if(F=isNaN(F)?h:q(Math.abs(F),L),R&&(F=zb(F)),et&&+F==0&&w!=="+"&&(et=!1),M=(et?w==="("?w:f:w==="-"||w==="("?"":w)+M,O=(I==="s"?Wl[8+Gd/3]:"")+O+(et&&w==="("?")":""),Y){for(Z=-1,X=F.length;++Z<X;)if(Q=F.charCodeAt(Z),48>Q||Q>57){O=(Q===46?o+F.slice(Z+1):F.slice(Z))+O,F=F.slice(0,Z);break}}}E&&!T&&(F=e(F,1/0));var tt=M.length+F.length+O.length,i=tt<A?new Array(A-tt+1).join(g):"";switch(E&&T&&(F=e(i+F,i.length?A-O.length:1/0),i=""),v){case"<":F=M+F+O+i;break;case"=":F=M+i+F+O;break;case"^":F=i.slice(0,tt=i.length>>1)+M+F+O+i.slice(tt);break;default:F=i+M+F+O;break}return u(F)}return S.toString=function(){return _+""},S}function y(_,g){var v=d((_=wr(_),_.type="f",_)),w=Math.max(-8,Math.min(8,Math.floor(vi(g)/3)))*3,b=Math.pow(10,-w),T=Wl[8+w/3];return function(A){return v(b*A)+T}}return{format:d,formatPrefix:y}}var Ur,ko,uc;Nd({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Nd(t){return Ur=Vd(t),ko=Ur.format,uc=Ur.formatPrefix,Ur}function Id(t){return Math.max(0,-vi(Math.abs(t)))}function Fd(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vi(e)/3)))*3-vi(Math.abs(t)))}function Od(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vi(e)-vi(t))+1}function bn(){return new Pa}function Pa(){this.reset()}Pa.prototype={constructor:Pa,reset:function(){this.s=this.t=0},add:function(t){ql(Wr,t,this.t),ql(this,Wr.s,this.s),this.s?this.t+=Wr.t:this.s=Wr.t},valueOf:function(){return this.s}};var Wr=new Pa;function ql(t,e,n){var r=t.s=e+n,o=r-e,u=r-o;t.t=e-u+(n-o)}var ut=1e-6,La=1e-12,mt=Math.PI,Dt=mt/2,Ma=mt/4,oe=mt*2,Pt=180/mt,lt=mt/180,St=Math.abs,Pi=Math.atan,se=Math.atan2,at=Math.cos,qr=Math.ceil,zd=Math.exp,Ea=Math.log,ms=Math.pow,it=Math.sin,Ae=Math.sign||function(t){return t>0?1:t<0?-1:0},Nt=Math.sqrt,cc=Math.tan;function Bd(t){return t>1?0:t<-1?mt:Math.acos(t)}function ue(t){return t>1?Dt:t<-1?-Dt:Math.asin(t)}function Ql(t){return(t=it(t/2))*t}function kt(){}function ka(t,e){t&&jl.hasOwnProperty(t.type)&&jl[t.type](t,e)}var Zl={Feature:function(t,e){ka(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ka(n[r].geometry,e)}},jl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ou(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ou(n[r],e,0)},Polygon:function(t,e){Jl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Jl(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ka(n[r],e)}};function ou(t,e,n){var r=-1,o=t.length-n,u;for(e.lineStart();++r<o;)u=t[r],e.point(u[0],u[1],u[2]);e.lineEnd()}function Jl(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ou(t[n],e,1);e.polygonEnd()}function Pe(t,e){t&&Zl.hasOwnProperty(t.type)?Zl[t.type](t,e):ka(t,e)}var Ra=bn(),Da=bn(),Xd,Yd,su,uu,cu,He={point:kt,lineStart:kt,lineEnd:kt,polygonStart:function(){Ra.reset(),He.lineStart=Xb,He.lineEnd=Yb},polygonEnd:function(){var t=+Ra;Da.add(t<0?oe+t:t),this.lineStart=this.lineEnd=this.point=kt},sphere:function(){Da.add(oe)}};function Xb(){He.point=Hb}function Yb(){Hd(Xd,Yd)}function Hb(t,e){He.point=Hd,Xd=t,Yd=e,t*=lt,e*=lt,su=t,uu=at(e=e/2+Ma),cu=it(e)}function Hd(t,e){t*=lt,e*=lt,e=e/2+Ma;var n=t-su,r=n>=0?1:-1,o=r*n,u=at(e),l=it(e),f=cu*l,h=uu*u+f*at(o),d=f*r*it(o);Ra.add(se(d,h)),su=t,uu=u,cu=l}function Ub(t){return Da.reset(),Pe(t,He),Da*2}function Ga(t){return[se(t[1],t[0]),ue(t[2])]}function Vn(t){var e=t[0],n=t[1],r=at(n);return[r*at(e),r*it(e),it(n)]}function Qr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function vs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Zr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Va(t){var e=Nt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Et,de,Rt,_e,$n,Ud,Wd,hi,or=bn(),un,tn,je={point:lu,lineStart:Kl,lineEnd:tf,polygonStart:function(){je.point=Qd,je.lineStart=Wb,je.lineEnd=qb,or.reset(),He.polygonStart()},polygonEnd:function(){He.polygonEnd(),je.point=lu,je.lineStart=Kl,je.lineEnd=tf,Ra<0?(Et=-(Rt=180),de=-(_e=90)):or>ut?_e=90:or<-ut&&(de=-90),tn[0]=Et,tn[1]=Rt},sphere:function(){Et=-(Rt=180),de=-(_e=90)}};function lu(t,e){un.push(tn=[Et=t,Rt=t]),e<de&&(de=e),e>_e&&(_e=e)}function qd(t,e){var n=Vn([t*lt,e*lt]);if(hi){var r=xi(hi,n),o=[r[1],-r[0],0],u=xi(o,r);Va(u),u=Ga(u);var l=t-$n,f=l>0?1:-1,h=u[0]*Pt*f,d,y=St(l)>180;y^(f*$n<h&&h<f*t)?(d=u[1]*Pt,d>_e&&(_e=d)):(h=(h+360)%360-180,y^(f*$n<h&&h<f*t)?(d=-u[1]*Pt,d<de&&(de=d)):(e<de&&(de=e),e>_e&&(_e=e))),y?t<$n?ye(Et,t)>ye(Et,Rt)&&(Rt=t):ye(t,Rt)>ye(Et,Rt)&&(Et=t):Rt>=Et?(t<Et&&(Et=t),t>Rt&&(Rt=t)):t>$n?ye(Et,t)>ye(Et,Rt)&&(Rt=t):ye(t,Rt)>ye(Et,Rt)&&(Et=t)}else un.push(tn=[Et=t,Rt=t]);e<de&&(de=e),e>_e&&(_e=e),hi=n,$n=t}function Kl(){je.point=qd}function tf(){tn[0]=Et,tn[1]=Rt,je.point=lu,hi=null}function Qd(t,e){if(hi){var n=t-$n;or.add(St(n)>180?n+(n>0?360:-360):n)}else Ud=t,Wd=e;He.point(t,e),qd(t,e)}function Wb(){He.lineStart()}function qb(){Qd(Ud,Wd),He.lineEnd(),St(or)>ut&&(Et=-(Rt=180)),tn[0]=Et,tn[1]=Rt,hi=null}function ye(t,e){return(e-=t)<0?e+360:e}function Qb(t,e){return t[0]-e[0]}function ef(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Zb(t){var e,n,r,o,u,l,f;if(_e=Rt=-(Et=de=1/0),un=[],Pe(t,je),n=un.length){for(un.sort(Qb),e=1,r=un[0],u=[r];e<n;++e)o=un[e],ef(r,o[0])||ef(r,o[1])?(ye(r[0],o[1])>ye(r[0],r[1])&&(r[1]=o[1]),ye(o[0],r[1])>ye(r[0],r[1])&&(r[0]=o[0])):u.push(r=o);for(l=-1/0,n=u.length-1,e=0,r=u[n];e<=n;r=o,++e)o=u[e],(f=ye(r[1],o[0]))>l&&(l=f,Et=o[0],Rt=r[1])}return un=tn=null,Et===1/0||de===1/0?[[NaN,NaN],[NaN,NaN]]:[[Et,de],[Rt,_e]]}var Hi,Na,Ia,Fa,Oa,za,Ba,Xa,fu,hu,du,Zd,jd,ee,ne,ie,Me={sphere:kt,point:lc,lineStart:nf,lineEnd:rf,polygonStart:function(){Me.lineStart=Kb,Me.lineEnd=t2},polygonEnd:function(){Me.lineStart=nf,Me.lineEnd=rf}};function lc(t,e){t*=lt,e*=lt;var n=at(e);Dr(n*at(t),n*it(t),it(e))}function Dr(t,e,n){++Hi,Ia+=(t-Ia)/Hi,Fa+=(e-Fa)/Hi,Oa+=(n-Oa)/Hi}function nf(){Me.point=jb}function jb(t,e){t*=lt,e*=lt;var n=at(e);ee=n*at(t),ne=n*it(t),ie=it(e),Me.point=Jb,Dr(ee,ne,ie)}function Jb(t,e){t*=lt,e*=lt;var n=at(e),r=n*at(t),o=n*it(t),u=it(e),l=se(Nt((l=ne*u-ie*o)*l+(l=ie*r-ee*u)*l+(l=ee*o-ne*r)*l),ee*r+ne*o+ie*u);Na+=l,za+=l*(ee+(ee=r)),Ba+=l*(ne+(ne=o)),Xa+=l*(ie+(ie=u)),Dr(ee,ne,ie)}function rf(){Me.point=lc}function Kb(){Me.point=e2}function t2(){Jd(Zd,jd),Me.point=lc}function e2(t,e){Zd=t,jd=e,t*=lt,e*=lt,Me.point=Jd;var n=at(e);ee=n*at(t),ne=n*it(t),ie=it(e),Dr(ee,ne,ie)}function Jd(t,e){t*=lt,e*=lt;var n=at(e),r=n*at(t),o=n*it(t),u=it(e),l=ne*u-ie*o,f=ie*r-ee*u,h=ee*o-ne*r,d=Nt(l*l+f*f+h*h),y=ue(d),_=d&&-y/d;fu+=_*l,hu+=_*f,du+=_*h,Na+=y,za+=y*(ee+(ee=r)),Ba+=y*(ne+(ne=o)),Xa+=y*(ie+(ie=u)),Dr(ee,ne,ie)}function n2(t){Hi=Na=Ia=Fa=Oa=za=Ba=Xa=fu=hu=du=0,Pe(t,Me);var e=fu,n=hu,r=du,o=e*e+n*n+r*r;return o<La&&(e=za,n=Ba,r=Xa,Na<ut&&(e=Ia,n=Fa,r=Oa),o=e*e+n*n+r*r,o<La)?[NaN,NaN]:[se(n,e)*Pt,ue(r/Nt(o))*Pt]}function ni(t){return function(){return t}}function pu(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function gu(t,e){return[St(t)>mt?t+Math.round(-t/oe)*oe:t,e]}gu.invert=gu;function fc(t,e,n){return(t%=oe)?e||n?pu(of(t),sf(e,n)):of(t):e||n?sf(e,n):gu}function af(t){return function(e,n){return e+=t,[e>mt?e-oe:e<-mt?e+oe:e,n]}}function of(t){var e=af(t);return e.invert=af(-t),e}function sf(t,e){var n=at(t),r=it(t),o=at(e),u=it(e);function l(f,h){var d=at(h),y=at(f)*d,_=it(f)*d,g=it(h),v=g*n+y*r;return[se(_*o-v*u,y*n-g*r),ue(v*o+_*u)]}return l.invert=function(f,h){var d=at(h),y=at(f)*d,_=it(f)*d,g=it(h),v=g*o-_*u;return[se(_*o+g*u,y*n+v*r),ue(v*n-y*r)]},l}function Kd(t){t=fc(t[0]*lt,t[1]*lt,t.length>2?t[2]*lt:0);function e(n){return n=t(n[0]*lt,n[1]*lt),n[0]*=Pt,n[1]*=Pt,n}return e.invert=function(n){return n=t.invert(n[0]*lt,n[1]*lt),n[0]*=Pt,n[1]*=Pt,n},e}function tp(t,e,n,r,o,u){if(!!n){var l=at(e),f=it(e),h=r*n;o==null?(o=e+r*oe,u=e-h/2):(o=uf(l,o),u=uf(l,u),(r>0?o<u:o>u)&&(o+=r*oe));for(var d,y=o;r>0?y>u:y<u;y-=h)d=Ga([l,-f*at(y),-f*it(y)]),t.point(d[0],d[1])}}function uf(t,e){e=Vn(e),e[0]-=t,Va(e);var n=Bd(-e[1]);return((-e[2]<0?-n:n)+oe-ut)%oe}function i2(){var t=ni([0,0]),e=ni(90),n=ni(6),r,o,u={point:l};function l(h,d){r.push(h=o(h,d)),h[0]*=Pt,h[1]*=Pt}function f(){var h=t.apply(this,arguments),d=e.apply(this,arguments)*lt,y=n.apply(this,arguments)*lt;return r=[],o=fc(-h[0]*lt,-h[1]*lt,0).invert,tp(u,d,y,1),h={type:"Polygon",coordinates:[r]},r=o=null,h}return f.center=function(h){return arguments.length?(t=typeof h=="function"?h:ni([+h[0],+h[1]]),f):t},f.radius=function(h){return arguments.length?(e=typeof h=="function"?h:ni(+h),f):e},f.precision=function(h){return arguments.length?(n=typeof h=="function"?h:ni(+h),f):n},f}function ep(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:kt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function pa(t,e){return St(t[0]-e[0])<ut&&St(t[1]-e[1])<ut}function jr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function np(t,e,n,r,o){var u=[],l=[],f,h;if(t.forEach(function(w){if(!((b=w.length-1)<=0)){var b,T=w[0],A=w[b],E;if(pa(T,A)){if(!T[2]&&!A[2]){for(o.lineStart(),f=0;f<b;++f)o.point((T=w[f])[0],T[1]);o.lineEnd();return}A[0]+=2*ut}u.push(E=new jr(T,w,null,!0)),l.push(E.o=new jr(T,null,E,!1)),u.push(E=new jr(A,w,null,!1)),l.push(E.o=new jr(A,null,E,!0))}}),!!u.length){for(l.sort(e),cf(u),cf(l),f=0,h=l.length;f<h;++f)l[f].e=n=!n;for(var d=u[0],y,_;;){for(var g=d,v=!0;g.v;)if((g=g.n)===d)return;y=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(f=0,h=y.length;f<h;++f)o.point((_=y[f])[0],_[1]);else r(g.x,g.n.x,1,o);g=g.n}else{if(v)for(y=g.p.z,f=y.length-1;f>=0;--f)o.point((_=y[f])[0],_[1]);else r(g.x,g.p.x,-1,o);g=g.p}g=g.o,y=g.z,v=!v}while(!g.v);o.lineEnd()}}}function cf(t){if(!!(e=t.length)){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}var xs=bn();function ws(t){return St(t[0])<=mt?t[0]:Ae(t[0])*((St(t[0])+mt)%oe-mt)}function ip(t,e){var n=ws(e),r=e[1],o=it(r),u=[it(n),-at(n),0],l=0,f=0;xs.reset(),o===1?r=Dt+ut:o===-1&&(r=-Dt-ut);for(var h=0,d=t.length;h<d;++h)if(!!(_=(y=t[h]).length))for(var y,_,g=y[_-1],v=ws(g),w=g[1]/2+Ma,b=it(w),T=at(w),A=0;A<_;++A,v=L,b=I,T=H,g=E){var E=y[A],L=ws(E),R=E[1]/2+Ma,I=it(R),H=at(R),z=L-v,q=z>=0?1:-1,Y=q*z,S=Y>mt,F=b*I;if(xs.add(se(F*q*it(Y),T*H+F*at(Y))),l+=S?z+q*oe:z,S^v>=n^L>=n){var M=xi(Vn(g),Vn(E));Va(M);var O=xi(u,M);Va(O);var Z=(S^z>=0?-1:1)*ue(O[2]);(r>Z||r===Z&&(M[0]||M[1]))&&(f+=S^z>=0?1:-1)}}return(l<-ut||l<ut&&xs<-ut)^f&1}function rp(t,e,n,r){return function(o){var u=e(o),l=ep(),f=e(l),h=!1,d,y,_,g={point:v,lineStart:b,lineEnd:T,polygonStart:function(){g.point=A,g.lineStart=E,g.lineEnd=L,y=[],d=[]},polygonEnd:function(){g.point=v,g.lineStart=b,g.lineEnd=T,y=zu(y);var R=ip(d,r);y.length?(h||(o.polygonStart(),h=!0),np(y,a2,R,n,o)):R&&(h||(o.polygonStart(),h=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),y=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function v(R,I){t(R,I)&&o.point(R,I)}function w(R,I){u.point(R,I)}function b(){g.point=w,u.lineStart()}function T(){g.point=v,u.lineEnd()}function A(R,I){_.push([R,I]),f.point(R,I)}function E(){f.lineStart(),_=[]}function L(){A(_[0][0],_[0][1]),f.lineEnd();var R=f.clean(),I=l.result(),H,z=I.length,q,Y,S;if(_.pop(),d.push(_),_=null,!!z){if(R&1){if(Y=I[0],(q=Y.length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),H=0;H<q;++H)o.point((S=Y[H])[0],S[1]);o.lineEnd()}return}z>1&&R&2&&I.push(I.pop().concat(I.shift())),y.push(I.filter(r2))}}return g}}function r2(t){return t.length>1}function a2(t,e){return((t=t.x)[0]<0?t[1]-Dt-ut:Dt-t[1])-((e=e.x)[0]<0?e[1]-Dt-ut:Dt-e[1])}var yu=rp(function(){return!0},o2,u2,[-mt,-Dt]);function o2(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(u,l){var f=u>0?mt:-mt,h=St(u-e);St(h-mt)<ut?(t.point(e,n=(n+l)/2>0?Dt:-Dt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(u,n),o=0):r!==f&&h>=mt&&(St(e-r)<ut&&(e-=r*ut),St(u-f)<ut&&(u-=f*ut),n=s2(e,n,u,l),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=u,n=l),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function s2(t,e,n,r){var o,u,l=it(t-n);return St(l)>ut?Pi((it(e)*(u=at(r))*it(n)-it(r)*(o=at(e))*it(t))/(o*u*l)):(e+r)/2}function u2(t,e,n,r){var o;if(t==null)o=n*Dt,r.point(-mt,o),r.point(0,o),r.point(mt,o),r.point(mt,0),r.point(mt,-o),r.point(0,-o),r.point(-mt,-o),r.point(-mt,0),r.point(-mt,o);else if(St(t[0]-e[0])>ut){var u=t[0]<e[0]?mt:-mt;o=n*u/2,r.point(-u,o),r.point(0,o),r.point(u,o)}else r.point(e[0],e[1])}function ap(t){var e=at(t),n=6*lt,r=e>0,o=St(e)>ut;function u(y,_,g,v){tp(v,t,n,g,y,_)}function l(y,_){return at(y)*at(_)>e}function f(y){var _,g,v,w,b;return{lineStart:function(){w=v=!1,b=1},point:function(T,A){var E=[T,A],L,R=l(T,A),I=r?R?0:d(T,A):R?d(T+(T<0?mt:-mt),A):0;if(!_&&(w=v=R)&&y.lineStart(),R!==v&&(L=h(_,E),(!L||pa(_,L)||pa(E,L))&&(E[2]=1)),R!==v)b=0,R?(y.lineStart(),L=h(E,_),y.point(L[0],L[1])):(L=h(_,E),y.point(L[0],L[1],2),y.lineEnd()),_=L;else if(o&&_&&r^R){var H;!(I&g)&&(H=h(E,_,!0))&&(b=0,r?(y.lineStart(),y.point(H[0][0],H[0][1]),y.point(H[1][0],H[1][1]),y.lineEnd()):(y.point(H[1][0],H[1][1]),y.lineEnd(),y.lineStart(),y.point(H[0][0],H[0][1],3)))}R&&(!_||!pa(_,E))&&y.point(E[0],E[1]),_=E,v=R,g=I},lineEnd:function(){v&&y.lineEnd(),_=null},clean:function(){return b|(w&&v)<<1}}}function h(y,_,g){var v=Vn(y),w=Vn(_),b=[1,0,0],T=xi(v,w),A=Qr(T,T),E=T[0],L=A-E*E;if(!L)return!g&&y;var R=e*A/L,I=-e*E/L,H=xi(b,T),z=Zr(b,R),q=Zr(T,I);vs(z,q);var Y=H,S=Qr(z,Y),F=Qr(Y,Y),M=S*S-F*(Qr(z,z)-1);if(!(M<0)){var O=Nt(M),Z=Zr(Y,(-S-O)/F);if(vs(Z,z),Z=Ga(Z),!g)return Z;var X=y[0],Q=_[0],et=y[1],tt=_[1],i;Q<X&&(i=X,X=Q,Q=i);var a=Q-X,s=St(a-mt)<ut,c=s||a<ut;if(!s&&tt<et&&(i=et,et=tt,tt=i),c?s?et+tt>0^Z[1]<(St(Z[0]-X)<ut?et:tt):et<=Z[1]&&Z[1]<=tt:a>mt^(X<=Z[0]&&Z[0]<=Q)){var p=Zr(Y,(-S+O)/F);return vs(p,z),[Z,Ga(p)]}}}function d(y,_){var g=r?t:mt-t,v=0;return y<-g?v|=1:y>g&&(v|=2),_<-g?v|=4:_>g&&(v|=8),v}return rp(l,f,u,r?[0,-t]:[-mt,t-mt])}function c2(t,e,n,r,o,u){var l=t[0],f=t[1],h=e[0],d=e[1],y=0,_=1,g=h-l,v=d-f,w;if(w=n-l,!(!g&&w>0)){if(w/=g,g<0){if(w<y)return;w<_&&(_=w)}else if(g>0){if(w>_)return;w>y&&(y=w)}if(w=o-l,!(!g&&w<0)){if(w/=g,g<0){if(w>_)return;w>y&&(y=w)}else if(g>0){if(w<y)return;w<_&&(_=w)}if(w=r-f,!(!v&&w>0)){if(w/=v,v<0){if(w<y)return;w<_&&(_=w)}else if(v>0){if(w>_)return;w>y&&(y=w)}if(w=u-f,!(!v&&w<0)){if(w/=v,v<0){if(w>_)return;w>y&&(y=w)}else if(v>0){if(w<y)return;w<_&&(_=w)}return y>0&&(t[0]=l+y*g,t[1]=f+y*v),_<1&&(e[0]=l+_*g,e[1]=f+_*v),!0}}}}}var Ui=1e9,Jr=-Ui;function Ro(t,e,n,r){function o(d,y){return t<=d&&d<=n&&e<=y&&y<=r}function u(d,y,_,g){var v=0,w=0;if(d==null||(v=l(d,_))!==(w=l(y,_))||h(d,y)<0^_>0)do g.point(v===0||v===3?t:n,v>1?r:e);while((v=(v+_+4)%4)!==w);else g.point(y[0],y[1])}function l(d,y){return St(d[0]-t)<ut?y>0?0:3:St(d[0]-n)<ut?y>0?2:1:St(d[1]-e)<ut?y>0?1:0:y>0?3:2}function f(d,y){return h(d.x,y.x)}function h(d,y){var _=l(d,1),g=l(y,1);return _!==g?_-g:_===0?y[1]-d[1]:_===1?d[0]-y[0]:_===2?d[1]-y[1]:y[0]-d[0]}return function(d){var y=d,_=ep(),g,v,w,b,T,A,E,L,R,I,H,z={point:q,lineStart:M,lineEnd:O,polygonStart:S,polygonEnd:F};function q(X,Q){o(X,Q)&&y.point(X,Q)}function Y(){for(var X=0,Q=0,et=v.length;Q<et;++Q)for(var tt=v[Q],i=1,a=tt.length,s=tt[0],c,p,m=s[0],x=s[1];i<a;++i)c=m,p=x,s=tt[i],m=s[0],x=s[1],p<=r?x>r&&(m-c)*(r-p)>(x-p)*(t-c)&&++X:x<=r&&(m-c)*(r-p)<(x-p)*(t-c)&&--X;return X}function S(){y=_,g=[],v=[],H=!0}function F(){var X=Y(),Q=H&&X,et=(g=zu(g)).length;(Q||et)&&(d.polygonStart(),Q&&(d.lineStart(),u(null,null,1,d),d.lineEnd()),et&&np(g,f,X,u,d),d.polygonEnd()),y=d,g=v=w=null}function M(){z.point=Z,v&&v.push(w=[]),I=!0,R=!1,E=L=NaN}function O(){g&&(Z(b,T),A&&R&&_.rejoin(),g.push(_.result())),z.point=q,R&&y.lineEnd()}function Z(X,Q){var et=o(X,Q);if(v&&w.push([X,Q]),I)b=X,T=Q,A=et,I=!1,et&&(y.lineStart(),y.point(X,Q));else if(et&&R)y.point(X,Q);else{var tt=[E=Math.max(Jr,Math.min(Ui,E)),L=Math.max(Jr,Math.min(Ui,L))],i=[X=Math.max(Jr,Math.min(Ui,X)),Q=Math.max(Jr,Math.min(Ui,Q))];c2(tt,i,t,e,n,r)?(R||(y.lineStart(),y.point(tt[0],tt[1])),y.point(i[0],i[1]),et||y.lineEnd(),H=!1):et&&(y.lineStart(),y.point(X,Q),H=!1)}E=X,L=Q,R=et}return z}}function l2(){var t=0,e=0,n=960,r=500,o,u,l;return l={stream:function(f){return o&&u===f?o:o=Ro(t,e,n,r)(u=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],r=+f[1][1],o=u=null,l):[[t,e],[n,r]]}}}var _u=bn(),mu,ga,ya,wi={sphere:kt,point:kt,lineStart:f2,lineEnd:kt,polygonStart:kt,polygonEnd:kt};function f2(){wi.point=d2,wi.lineEnd=h2}function h2(){wi.point=wi.lineEnd=kt}function d2(t,e){t*=lt,e*=lt,mu=t,ga=it(e),ya=at(e),wi.point=p2}function p2(t,e){t*=lt,e*=lt;var n=it(e),r=at(e),o=St(t-mu),u=at(o),l=it(o),f=r*l,h=ya*n-ga*r*u,d=ga*n+ya*r*u;_u.add(se(Nt(f*f+h*h),d)),mu=t,ga=n,ya=r}function op(t){return _u.reset(),Pe(t,wi),+_u}var vu=[null,null],g2={type:"LineString",coordinates:vu};function Ya(t,e){return vu[0]=t,vu[1]=e,op(g2)}var lf={Feature:function(t,e){return Ha(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Ha(n[r].geometry,e))return!0;return!1}},ff={Sphere:function(){return!0},Point:function(t,e){return hf(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(hf(n[r],e))return!0;return!1},LineString:function(t,e){return df(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(df(n[r],e))return!0;return!1},Polygon:function(t,e){return pf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(pf(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Ha(n[r],e))return!0;return!1}};function Ha(t,e){return t&&ff.hasOwnProperty(t.type)?ff[t.type](t,e):!1}function hf(t,e){return Ya(t,e)===0}function df(t,e){for(var n,r,o,u=0,l=t.length;u<l;u++){if(r=Ya(t[u],e),r===0||u>0&&(o=Ya(t[u],t[u-1]),o>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<La*o))return!0;n=r}return!1}function pf(t,e){return!!ip(t.map(y2),sp(e))}function y2(t){return t=t.map(sp),t.pop(),t}function sp(t){return[t[0]*lt,t[1]*lt]}function _2(t,e){return(t&&lf.hasOwnProperty(t.type)?lf[t.type]:Ha)(t,e)}function gf(t,e,n){var r=ve(t,e-ut,n).concat(e);return function(o){return r.map(function(u){return[o,u]})}}function yf(t,e,n){var r=ve(t,e-ut,n).concat(e);return function(o){return r.map(function(u){return[u,o]})}}function up(){var t,e,n,r,o,u,l,f,h=10,d=h,y=90,_=360,g,v,w,b,T=2.5;function A(){return{type:"MultiLineString",coordinates:E()}}function E(){return ve(qr(r/y)*y,n,y).map(w).concat(ve(qr(f/_)*_,l,_).map(b)).concat(ve(qr(e/h)*h,t,h).filter(function(L){return St(L%y)>ut}).map(g)).concat(ve(qr(u/d)*d,o,d).filter(function(L){return St(L%_)>ut}).map(v))}return A.lines=function(){return E().map(function(L){return{type:"LineString",coordinates:L}})},A.outline=function(){return{type:"Polygon",coordinates:[w(r).concat(b(l).slice(1),w(n).reverse().slice(1),b(f).reverse().slice(1))]}},A.extent=function(L){return arguments.length?A.extentMajor(L).extentMinor(L):A.extentMinor()},A.extentMajor=function(L){return arguments.length?(r=+L[0][0],n=+L[1][0],f=+L[0][1],l=+L[1][1],r>n&&(L=r,r=n,n=L),f>l&&(L=f,f=l,l=L),A.precision(T)):[[r,f],[n,l]]},A.extentMinor=function(L){return arguments.length?(e=+L[0][0],t=+L[1][0],u=+L[0][1],o=+L[1][1],e>t&&(L=e,e=t,t=L),u>o&&(L=u,u=o,o=L),A.precision(T)):[[e,u],[t,o]]},A.step=function(L){return arguments.length?A.stepMajor(L).stepMinor(L):A.stepMinor()},A.stepMajor=function(L){return arguments.length?(y=+L[0],_=+L[1],A):[y,_]},A.stepMinor=function(L){return arguments.length?(h=+L[0],d=+L[1],A):[h,d]},A.precision=function(L){return arguments.length?(T=+L,g=gf(u,o,90),v=yf(e,t,T),w=gf(f,l,90),b=yf(r,n,T),A):T},A.extentMajor([[-180,-90+ut],[180,90-ut]]).extentMinor([[-180,-80-ut],[180,80+ut]])}function m2(){return up()()}function v2(t,e){var n=t[0]*lt,r=t[1]*lt,o=e[0]*lt,u=e[1]*lt,l=at(r),f=it(r),h=at(u),d=it(u),y=l*at(n),_=l*it(n),g=h*at(o),v=h*it(o),w=2*ue(Nt(Ql(u-r)+l*h*Ql(o-n))),b=it(w),T=w?function(A){var E=it(A*=w)/b,L=it(w-A)/b,R=L*y+E*g,I=L*_+E*v,H=L*f+E*d;return[se(I,R)*Pt,se(H,Nt(R*R+I*I))*Pt]}:function(){return[n*Pt,r*Pt]};return T.distance=w,T}function br(t){return t}var bs=bn(),xu=bn(),cp,lp,wu,bu,cn={point:kt,lineStart:kt,lineEnd:kt,polygonStart:function(){cn.lineStart=x2,cn.lineEnd=b2},polygonEnd:function(){cn.lineStart=cn.lineEnd=cn.point=kt,bs.add(St(xu)),xu.reset()},result:function(){var t=bs/2;return bs.reset(),t}};function x2(){cn.point=w2}function w2(t,e){cn.point=fp,cp=wu=t,lp=bu=e}function fp(t,e){xu.add(bu*t-wu*e),wu=t,bu=e}function b2(){fp(cp,lp)}var _f=cn,bi=1/0,Ua=bi,Sr=-bi,Wa=Sr,S2={point:T2,lineStart:kt,lineEnd:kt,polygonStart:kt,polygonEnd:kt,result:function(){var t=[[bi,Ua],[Sr,Wa]];return Sr=Wa=-(Ua=bi=1/0),t}};function T2(t,e){t<bi&&(bi=t),t>Sr&&(Sr=t),e<Ua&&(Ua=e),e>Wa&&(Wa=e)}var qa=S2,Su=0,Tu=0,Wi=0,Qa=0,Za=0,ai=0,Au=0,Cu=0,qi=0,hp,dp,Oe,ze,Le={point:Nn,lineStart:mf,lineEnd:vf,polygonStart:function(){Le.lineStart=$2,Le.lineEnd=P2},polygonEnd:function(){Le.point=Nn,Le.lineStart=mf,Le.lineEnd=vf},result:function(){var t=qi?[Au/qi,Cu/qi]:ai?[Qa/ai,Za/ai]:Wi?[Su/Wi,Tu/Wi]:[NaN,NaN];return Su=Tu=Wi=Qa=Za=ai=Au=Cu=qi=0,t}};function Nn(t,e){Su+=t,Tu+=e,++Wi}function mf(){Le.point=A2}function A2(t,e){Le.point=C2,Nn(Oe=t,ze=e)}function C2(t,e){var n=t-Oe,r=e-ze,o=Nt(n*n+r*r);Qa+=o*(Oe+t)/2,Za+=o*(ze+e)/2,ai+=o,Nn(Oe=t,ze=e)}function vf(){Le.point=Nn}function $2(){Le.point=L2}function P2(){pp(hp,dp)}function L2(t,e){Le.point=pp,Nn(hp=Oe=t,dp=ze=e)}function pp(t,e){var n=t-Oe,r=e-ze,o=Nt(n*n+r*r);Qa+=o*(Oe+t)/2,Za+=o*(ze+e)/2,ai+=o,o=ze*t-Oe*e,Au+=o*(Oe+t),Cu+=o*(ze+e),qi+=o*3,Nn(Oe=t,ze=e)}var xf=Le;function gp(t){this._context=t}gp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,oe);break}}},result:kt};var $u=bn(),Ss,yp,_p,Qi,Zi,ja={point:kt,lineStart:function(){ja.point=M2},lineEnd:function(){Ss&&mp(yp,_p),ja.point=kt},polygonStart:function(){Ss=!0},polygonEnd:function(){Ss=null},result:function(){var t=+$u;return $u.reset(),t}};function M2(t,e){ja.point=mp,yp=Qi=t,_p=Zi=e}function mp(t,e){Qi-=t,Zi-=e,$u.add(Nt(Qi*Qi+Zi*Zi)),Qi=t,Zi=e}var wf=ja;function vp(){this._string=[]}vp.prototype={_radius:4.5,_circle:bf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=bf(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function bf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function E2(t,e){var n=4.5,r,o;function u(l){return l&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),Pe(l,r(o))),o.result()}return u.area=function(l){return Pe(l,r(_f)),_f.result()},u.measure=function(l){return Pe(l,r(wf)),wf.result()},u.bounds=function(l){return Pe(l,r(qa)),qa.result()},u.centroid=function(l){return Pe(l,r(xf)),xf.result()},u.projection=function(l){return arguments.length?(r=l==null?(t=null,br):(t=l).stream,u):t},u.context=function(l){return arguments.length?(o=l==null?(e=null,new vp):new gp(e=l),typeof n!="function"&&o.pointRadius(n),u):e},u.pointRadius=function(l){return arguments.length?(n=typeof l=="function"?l:(o.pointRadius(+l),+l),u):n},u.projection(t).context(e)}function k2(t){return{stream:Gr(t)}}function Gr(t){return function(e){var n=new Pu;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Pu(){}Pu.prototype={constructor:Pu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function hc(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Pe(n,t.stream(qa)),e(qa.result()),r!=null&&t.clipExtent(r),t}function Do(t,e,n){return hc(t,function(r){var o=e[1][0]-e[0][0],u=e[1][1]-e[0][1],l=Math.min(o/(r[1][0]-r[0][0]),u/(r[1][1]-r[0][1])),f=+e[0][0]+(o-l*(r[1][0]+r[0][0]))/2,h=+e[0][1]+(u-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([f,h])},n)}function dc(t,e,n){return Do(t,[[0,0],e],n)}function pc(t,e,n){return hc(t,function(r){var o=+e,u=o/(r[1][0]-r[0][0]),l=(o-u*(r[1][0]+r[0][0]))/2,f=-u*r[0][1];t.scale(150*u).translate([l,f])},n)}function gc(t,e,n){return hc(t,function(r){var o=+e,u=o/(r[1][1]-r[0][1]),l=-u*r[0][0],f=(o-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([l,f])},n)}var Sf=16,R2=at(30*lt);function Tf(t,e){return+e?G2(t,e):D2(t)}function D2(t){return Gr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function G2(t,e){function n(r,o,u,l,f,h,d,y,_,g,v,w,b,T){var A=d-r,E=y-o,L=A*A+E*E;if(L>4*e&&b--){var R=l+g,I=f+v,H=h+w,z=Nt(R*R+I*I+H*H),q=ue(H/=z),Y=St(St(H)-1)<ut||St(u-_)<ut?(u+_)/2:se(I,R),S=t(Y,q),F=S[0],M=S[1],O=F-r,Z=M-o,X=E*O-A*Z;(X*X/L>e||St((A*O+E*Z)/L-.5)>.3||l*g+f*v+h*w<R2)&&(n(r,o,u,l,f,h,F,M,Y,R/=z,I/=z,H,b,T),T.point(F,M),n(F,M,Y,R,I,H,d,y,_,g,v,w,b,T))}}return function(r){var o,u,l,f,h,d,y,_,g,v,w,b,T={point:A,lineStart:E,lineEnd:R,polygonStart:function(){r.polygonStart(),T.lineStart=I},polygonEnd:function(){r.polygonEnd(),T.lineStart=E}};function A(q,Y){q=t(q,Y),r.point(q[0],q[1])}function E(){_=NaN,T.point=L,r.lineStart()}function L(q,Y){var S=Vn([q,Y]),F=t(q,Y);n(_,g,y,v,w,b,_=F[0],g=F[1],y=q,v=S[0],w=S[1],b=S[2],Sf,r),r.point(_,g)}function R(){T.point=A,r.lineEnd()}function I(){E(),T.point=H,T.lineEnd=z}function H(q,Y){L(o=q,Y),u=_,l=g,f=v,h=w,d=b,T.point=L}function z(){n(_,g,y,v,w,b,u,l,o,f,h,d,Sf,r),T.lineEnd=R,R()}return T}}var V2=Gr({point:function(t,e){this.stream.point(t*lt,e*lt)}});function N2(t){return Gr({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function I2(t,e,n,r,o){function u(l,f){return l*=r,f*=o,[e+t*l,n-t*f]}return u.invert=function(l,f){return[(l-e)/t*r,(n-f)/t*o]},u}function Af(t,e,n,r,o,u){var l=at(u),f=it(u),h=l*t,d=f*t,y=l/t,_=f/t,g=(f*n-l*e)/t,v=(f*e+l*n)/t;function w(b,T){return b*=r,T*=o,[h*b-d*T+e,n-d*b-h*T]}return w.invert=function(b,T){return[r*(y*b-_*T+g),o*(v-_*b-y*T)]},w}function We(t){return yc(function(){return t})()}function yc(t){var e,n=150,r=480,o=250,u=0,l=0,f=0,h=0,d=0,y,_=0,g=1,v=1,w=null,b=yu,T=null,A,E,L,R=br,I=.5,H,z,q,Y,S;function F(X){return q(X[0]*lt,X[1]*lt)}function M(X){return X=q.invert(X[0],X[1]),X&&[X[0]*Pt,X[1]*Pt]}F.stream=function(X){return Y&&S===X?Y:Y=V2(N2(y)(b(H(R(S=X)))))},F.preclip=function(X){return arguments.length?(b=X,w=void 0,Z()):b},F.postclip=function(X){return arguments.length?(R=X,T=A=E=L=null,Z()):R},F.clipAngle=function(X){return arguments.length?(b=+X?ap(w=X*lt):(w=null,yu),Z()):w*Pt},F.clipExtent=function(X){return arguments.length?(R=X==null?(T=A=E=L=null,br):Ro(T=+X[0][0],A=+X[0][1],E=+X[1][0],L=+X[1][1]),Z()):T==null?null:[[T,A],[E,L]]},F.scale=function(X){return arguments.length?(n=+X,O()):n},F.translate=function(X){return arguments.length?(r=+X[0],o=+X[1],O()):[r,o]},F.center=function(X){return arguments.length?(u=X[0]%360*lt,l=X[1]%360*lt,O()):[u*Pt,l*Pt]},F.rotate=function(X){return arguments.length?(f=X[0]%360*lt,h=X[1]%360*lt,d=X.length>2?X[2]%360*lt:0,O()):[f*Pt,h*Pt,d*Pt]},F.angle=function(X){return arguments.length?(_=X%360*lt,O()):_*Pt},F.reflectX=function(X){return arguments.length?(g=X?-1:1,O()):g<0},F.reflectY=function(X){return arguments.length?(v=X?-1:1,O()):v<0},F.precision=function(X){return arguments.length?(H=Tf(z,I=X*X),Z()):Nt(I)},F.fitExtent=function(X,Q){return Do(F,X,Q)},F.fitSize=function(X,Q){return dc(F,X,Q)},F.fitWidth=function(X,Q){return pc(F,X,Q)},F.fitHeight=function(X,Q){return gc(F,X,Q)};function O(){var X=Af(n,0,0,g,v,_).apply(null,e(u,l)),Q=(_?Af:I2)(n,r-X[0],o-X[1],g,v,_);return y=fc(f,h,d),z=pu(e,Q),q=pu(y,z),H=Tf(z,I),Z()}function Z(){return Y=S=null,F}return function(){return e=t.apply(this,arguments),F.invert=e.invert&&M,O()}}function _c(t){var e=0,n=mt/3,r=yc(t),o=r(e,n);return o.parallels=function(u){return arguments.length?r(e=u[0]*lt,n=u[1]*lt):[e*Pt,n*Pt]},o}function F2(t){var e=at(t);function n(r,o){return[r*e,it(o)/e]}return n.invert=function(r,o){return[r/e,ue(o*e)]},n}function xp(t,e){var n=it(t),r=(n+it(e))/2;if(St(r)<ut)return F2(t);var o=1+n*(2*r-n),u=Nt(o)/r;function l(f,h){var d=Nt(o-2*r*it(h))/r;return[d*it(f*=r),u-d*at(f)]}return l.invert=function(f,h){var d=u-h,y=se(f,St(d))*Ae(d);return d*r<0&&(y-=mt*Ae(f)*Ae(d)),[y/r,ue((o-(f*f+d*d)*r*r)/(2*r))]},l}function Ja(){return _c(xp).scale(155.424).center([0,33.6442])}function wp(){return Ja().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function O2(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function z2(){var t,e,n=wp(),r,o=Ja().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,l=Ja().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,h,d={point:function(g,v){h=[g,v]}};function y(g){var v=g[0],w=g[1];return h=null,r.point(v,w),h||(u.point(v,w),h)||(f.point(v,w),h)}y.invert=function(g){var v=n.scale(),w=n.translate(),b=(g[0]-w[0])/v,T=(g[1]-w[1])/v;return(T>=.12&&T<.234&&b>=-.425&&b<-.214?o:T>=.166&&T<.234&&b>=-.214&&b<-.115?l:n).invert(g)},y.stream=function(g){return t&&e===g?t:t=O2([n.stream(e=g),o.stream(g),l.stream(g)])},y.precision=function(g){return arguments.length?(n.precision(g),o.precision(g),l.precision(g),_()):n.precision()},y.scale=function(g){return arguments.length?(n.scale(g),o.scale(g*.35),l.scale(g),y.translate(n.translate())):n.scale()},y.translate=function(g){if(!arguments.length)return n.translate();var v=n.scale(),w=+g[0],b=+g[1];return r=n.translate(g).clipExtent([[w-.455*v,b-.238*v],[w+.455*v,b+.238*v]]).stream(d),u=o.translate([w-.307*v,b+.201*v]).clipExtent([[w-.425*v+ut,b+.12*v+ut],[w-.214*v-ut,b+.234*v-ut]]).stream(d),f=l.translate([w-.205*v,b+.212*v]).clipExtent([[w-.214*v+ut,b+.166*v+ut],[w-.115*v-ut,b+.234*v-ut]]).stream(d),_()},y.fitExtent=function(g,v){return Do(y,g,v)},y.fitSize=function(g,v){return dc(y,g,v)},y.fitWidth=function(g,v){return pc(y,g,v)},y.fitHeight=function(g,v){return gc(y,g,v)};function _(){return t=e=null,y}return y.scale(1070)}function bp(t){return function(e,n){var r=at(e),o=at(n),u=t(r*o);return[u*o*it(e),u*it(n)]}}function Vr(t){return function(e,n){var r=Nt(e*e+n*n),o=t(r),u=it(o),l=at(o);return[se(e*u,r*l),ue(r&&n*u/r)]}}var mc=bp(function(t){return Nt(2/(1+t))});mc.invert=Vr(function(t){return 2*ue(t/2)});function B2(){return We(mc).scale(124.75).clipAngle(180-.001)}var vc=bp(function(t){return(t=Bd(t))&&t/it(t)});vc.invert=Vr(function(t){return t});function X2(){return We(vc).scale(79.4188).clipAngle(180-.001)}function Nr(t,e){return[t,Ea(cc((Dt+e)/2))]}Nr.invert=function(t,e){return[t,2*Pi(zd(e))-Dt]};function Y2(){return Sp(Nr).scale(961/oe)}function Sp(t){var e=We(t),n=e.center,r=e.scale,o=e.translate,u=e.clipExtent,l=null,f,h,d;e.scale=function(_){return arguments.length?(r(_),y()):r()},e.translate=function(_){return arguments.length?(o(_),y()):o()},e.center=function(_){return arguments.length?(n(_),y()):n()},e.clipExtent=function(_){return arguments.length?(_==null?l=f=h=d=null:(l=+_[0][0],f=+_[0][1],h=+_[1][0],d=+_[1][1]),y()):l==null?null:[[l,f],[h,d]]};function y(){var _=mt*r(),g=e(Kd(e.rotate()).invert([0,0]));return u(l==null?[[g[0]-_,g[1]-_],[g[0]+_,g[1]+_]]:t===Nr?[[Math.max(g[0]-_,l),f],[Math.min(g[0]+_,h),d]]:[[l,Math.max(g[1]-_,f)],[h,Math.min(g[1]+_,d)]])}return y()}function Kr(t){return cc((Dt+t)/2)}function Tp(t,e){var n=at(t),r=t===e?it(t):Ea(n/at(e))/Ea(Kr(e)/Kr(t)),o=n*ms(Kr(t),r)/r;if(!r)return Nr;function u(l,f){o>0?f<-Dt+ut&&(f=-Dt+ut):f>Dt-ut&&(f=Dt-ut);var h=o/ms(Kr(f),r);return[h*it(r*l),o-h*at(r*l)]}return u.invert=function(l,f){var h=o-f,d=Ae(r)*Nt(l*l+h*h),y=se(l,St(h))*Ae(h);return h*r<0&&(y-=mt*Ae(l)*Ae(h)),[y/r,2*Pi(ms(o/d,1/r))-Dt]},u}function H2(){return _c(Tp).scale(109.5).parallels([30,30])}function Tr(t,e){return[t,e]}Tr.invert=Tr;function U2(){return We(Tr).scale(152.63)}function Ap(t,e){var n=at(t),r=t===e?it(t):(n-at(e))/(e-t),o=n/r+t;if(St(r)<ut)return Tr;function u(l,f){var h=o-f,d=r*l;return[h*it(d),o-h*at(d)]}return u.invert=function(l,f){var h=o-f,d=se(l,St(h))*Ae(h);return h*r<0&&(d-=mt*Ae(l)*Ae(h)),[d/r,o-Ae(r)*Nt(l*l+h*h)]},u}function W2(){return _c(Ap).scale(131.154).center([0,13.9389])}var sr=1.340264,ur=-.081106,cr=893e-6,lr=.003796,Ka=Nt(3)/2,q2=12;function xc(t,e){var n=ue(Ka*it(e)),r=n*n,o=r*r*r;return[t*at(n)/(Ka*(sr+3*ur*r+o*(7*cr+9*lr*r))),n*(sr+ur*r+o*(cr+lr*r))]}xc.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,u=0,l,f,h;u<q2&&(f=n*(sr+ur*r+o*(cr+lr*r))-e,h=sr+3*ur*r+o*(7*cr+9*lr*r),n-=l=f/h,r=n*n,o=r*r*r,!(St(l)<La));++u);return[Ka*t*(sr+3*ur*r+o*(7*cr+9*lr*r))/at(n),ue(it(n)/Ka)]};function Q2(){return We(xc).scale(177.158)}function wc(t,e){var n=at(e),r=at(t)*n;return[n*it(t)/r,it(e)/r]}wc.invert=Vr(Pi);function Z2(){return We(wc).scale(144.049).clipAngle(60)}function j2(){var t=1,e=0,n=0,r=1,o=1,u=0,l,f,h=null,d,y,_,g=1,v=1,w=Gr({point:function(R,I){var H=L([R,I]);this.stream.point(H[0],H[1])}}),b=br,T,A;function E(){return g=t*r,v=t*o,T=A=null,L}function L(R){var I=R[0]*g,H=R[1]*v;if(u){var z=H*l-I*f;I=I*l+H*f,H=z}return[I+e,H+n]}return L.invert=function(R){var I=R[0]-e,H=R[1]-n;if(u){var z=H*l+I*f;I=I*l-H*f,H=z}return[I/g,H/v]},L.stream=function(R){return T&&A===R?T:T=w(b(A=R))},L.postclip=function(R){return arguments.length?(b=R,h=d=y=_=null,E()):b},L.clipExtent=function(R){return arguments.length?(b=R==null?(h=d=y=_=null,br):Ro(h=+R[0][0],d=+R[0][1],y=+R[1][0],_=+R[1][1]),E()):h==null?null:[[h,d],[y,_]]},L.scale=function(R){return arguments.length?(t=+R,E()):t},L.translate=function(R){return arguments.length?(e=+R[0],n=+R[1],E()):[e,n]},L.angle=function(R){return arguments.length?(u=R%360*lt,f=it(u),l=at(u),E()):u*Pt},L.reflectX=function(R){return arguments.length?(r=R?-1:1,E()):r<0},L.reflectY=function(R){return arguments.length?(o=R?-1:1,E()):o<0},L.fitExtent=function(R,I){return Do(L,R,I)},L.fitSize=function(R,I){return dc(L,R,I)},L.fitWidth=function(R,I){return pc(L,R,I)},L.fitHeight=function(R,I){return gc(L,R,I)},L}function bc(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}bc.invert=function(t,e){var n=e,r=25,o;do{var u=n*n,l=u*u;n-=o=(n*(1.007226+u*(.015085+l*(-.044475+.028874*u-.005916*l)))-e)/(1.007226+u*(.015085*3+l*(-.044475*7+.028874*9*u-.005916*11*l)))}while(St(o)>ut&&--r>0);return[t/(.8707+(u=n*n)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),n]};function J2(){return We(bc).scale(175.295)}function Sc(t,e){return[at(e)*it(t),it(e)]}Sc.invert=Vr(ue);function K2(){return We(Sc).scale(249.5).clipAngle(90+ut)}function Tc(t,e){var n=at(e),r=1+at(t)*n;return[n*it(t)/r,it(e)/r]}Tc.invert=Vr(function(t){return 2*Pi(t)});function tS(){return We(Tc).scale(250).clipAngle(142)}function Ac(t,e){return[Ea(cc((Dt+e)/2)),-t]}Ac.invert=function(t,e){return[-e,2*Pi(zd(t))-Dt]};function eS(){var t=Sp(Ac),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function nS(t,e){return t.parent===e.parent?1:2}function iS(t){return t.reduce(rS,0)/t.length}function rS(t,e){return t+e.x}function aS(t){return 1+t.reduce(oS,0)}function oS(t,e){return Math.max(t,e.y)}function sS(t){for(var e;e=t.children;)t=e[0];return t}function uS(t){for(var e;e=t.children;)t=e[e.length-1];return t}function cS(){var t=nS,e=1,n=1,r=!1;function o(u){var l,f=0;u.eachAfter(function(g){var v=g.children;v?(g.x=iS(v),g.y=aS(v)):(g.x=l?f+=t(g,l):0,g.y=0,l=g)});var h=sS(u),d=uS(u),y=h.x-t(h,d)/2,_=d.x+t(d,h)/2;return u.eachAfter(r?function(g){g.x=(g.x-u.x)*e,g.y=(u.y-g.y)*n}:function(g){g.x=(g.x-y)/(_-y)*e,g.y=(1-(u.y?g.y/u.y:1))*n})}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],o):r?null:[e,n]},o.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],o):r?[e,n]:null},o}function lS(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function fS(){return this.eachAfter(lS)}function hS(t){var e=this,n,r=[e],o,u,l;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),o=e.children,o)for(u=0,l=o.length;u<l;++u)r.push(o[u]);while(r.length);return this}function dS(t){for(var e=this,n=[e],r,o;e=n.pop();)if(t(e),r=e.children,r)for(o=r.length-1;o>=0;--o)n.push(r[o]);return this}function pS(t){for(var e=this,n=[e],r=[],o,u,l;e=n.pop();)if(r.push(e),o=e.children,o)for(u=0,l=o.length;u<l;++u)n.push(o[u]);for(;e=r.pop();)t(e);return this}function gS(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n})}function yS(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function _S(t){for(var e=this,n=mS(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r}function mS(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;for(t=n.pop(),e=r.pop();t===e;)o=t,t=n.pop(),e=r.pop();return o}function vS(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function xS(){var t=[];return this.each(function(e){t.push(e)}),t}function wS(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function bS(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Cc(t,e){var n=new Si(t),r=+t.value&&(n.value=t.value),o,u=[n],l,f,h,d;for(e==null&&(e=TS);o=u.pop();)if(r&&(o.value=+o.data.value),(f=e(o.data))&&(d=f.length))for(o.children=new Array(d),h=d-1;h>=0;--h)u.push(l=o.children[h]=new Si(f[h])),l.parent=o,l.depth=o.depth+1;return n.eachBefore(Cp)}function SS(){return Cc(this).eachBefore(AS)}function TS(t){return t.children}function AS(t){t.data=t.data.data}function Cp(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Si(t){this.data=t,this.depth=this.height=0,this.parent=null}Si.prototype=Cc.prototype={constructor:Si,count:fS,each:hS,eachAfter:pS,eachBefore:dS,sum:gS,sort:yS,path:_S,ancestors:vS,descendants:xS,leaves:wS,links:bS,copy:SS};var CS=Array.prototype.slice;function $S(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function $p(t){for(var e=0,n=(t=$S(CS.call(t))).length,r=[],o,u;e<n;)o=t[e],u&&Pp(u,o)?++e:(u=LS(r=PS(r,o)),e=0);return u}function PS(t,e){var n,r;if(Ts(e,t))return[e];for(n=0;n<t.length;++n)if(ta(e,t[n])&&Ts(ji(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ta(ji(t[n],t[r]),e)&&ta(ji(t[n],e),t[r])&&ta(ji(t[r],e),t[n])&&Ts(Lp(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ta(t,e){var n=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return n<0||n*n<r*r+o*o}function Pp(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function Ts(t,e){for(var n=0;n<e.length;++n)if(!Pp(t,e[n]))return!1;return!0}function LS(t){switch(t.length){case 1:return MS(t[0]);case 2:return ji(t[0],t[1]);case 3:return Lp(t[0],t[1],t[2])}}function MS(t){return{x:t.x,y:t.y,r:t.r}}function ji(t,e){var n=t.x,r=t.y,o=t.r,u=e.x,l=e.y,f=e.r,h=u-n,d=l-r,y=f-o,_=Math.sqrt(h*h+d*d);return{x:(n+u+h/_*y)/2,y:(r+l+d/_*y)/2,r:(_+o+f)/2}}function Lp(t,e,n){var r=t.x,o=t.y,u=t.r,l=e.x,f=e.y,h=e.r,d=n.x,y=n.y,_=n.r,g=r-l,v=r-d,w=o-f,b=o-y,T=h-u,A=_-u,E=r*r+o*o-u*u,L=E-l*l-f*f+h*h,R=E-d*d-y*y+_*_,I=v*w-g*b,H=(w*R-b*L)/(I*2)-r,z=(b*T-w*A)/I,q=(v*L-g*R)/(I*2)-o,Y=(g*A-v*T)/I,S=z*z+Y*Y-1,F=2*(u+H*z+q*Y),M=H*H+q*q-u*u,O=-(S?(F+Math.sqrt(F*F-4*S*M))/(2*S):M/F);return{x:r+H+z*O,y:o+q+Y*O,r:O}}function Cf(t,e,n){var r=t.x-e.x,o,u,l=t.y-e.y,f,h,d=r*r+l*l;d?(u=e.r+n.r,u*=u,h=t.r+n.r,h*=h,u>h?(o=(d+h-u)/(2*d),f=Math.sqrt(Math.max(0,h/d-o*o)),n.x=t.x-o*r-f*l,n.y=t.y-o*l+f*r):(o=(d+u-h)/(2*d),f=Math.sqrt(Math.max(0,u/d-o*o)),n.x=e.x+o*r-f*l,n.y=e.y+o*l+f*r)):(n.x=e.x+n.r,n.y=e.y)}function $f(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function Pf(t){var e=t._,n=t.next._,r=e.r+n.r,o=(e.x*n.r+n.x*e.r)/r,u=(e.y*n.r+n.y*e.r)/r;return o*o+u*u}function ea(t){this._=t,this.next=null,this.previous=null}function Mp(t){if(!(o=t.length))return 0;var e,n,r,o,u,l,f,h,d,y,_;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(o>2))return e.r+n.r;Cf(n,e,r=t[2]),e=new ea(e),n=new ea(n),r=new ea(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(f=3;f<o;++f){Cf(e._,n._,r=t[f]),r=new ea(r),h=n.next,d=e.previous,y=n._.r,_=e._.r;do if(y<=_){if($f(h._,r._)){n=h,e.next=n,n.previous=e,--f;continue t}y+=h._.r,h=h.next}else{if($f(d._,r._)){e=d,e.next=n,n.previous=e,--f;continue t}_+=d._.r,d=d.previous}while(h!==d.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,u=Pf(e);(r=r.next)!==n;)(l=Pf(r))<u&&(e=r,u=l);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=$p(e),f=0;f<o;++f)e=t[f],e.x-=r.x,e.y-=r.y;return r.r}function ES(t){return Mp(t),t}function kS(t){return t==null?null:to(t)}function to(t){if(typeof t!="function")throw new Error;return t}function Pn(){return 0}function ri(t){return function(){return t}}function RS(t){return Math.sqrt(t.value)}function DS(){var t=null,e=1,n=1,r=Pn;function o(u){return u.x=e/2,u.y=n/2,t?u.eachBefore(Lf(t)).eachAfter(As(r,.5)).eachBefore(Mf(1)):u.eachBefore(Lf(RS)).eachAfter(As(Pn,1)).eachAfter(As(r,u.r/Math.min(e,n))).eachBefore(Mf(Math.min(e,n)/(2*u.r))),u}return o.radius=function(u){return arguments.length?(t=kS(u),o):t},o.size=function(u){return arguments.length?(e=+u[0],n=+u[1],o):[e,n]},o.padding=function(u){return arguments.length?(r=typeof u=="function"?u:ri(+u),o):r},o}function Lf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function As(t,e){return function(n){if(r=n.children){var r,o,u=r.length,l=t(n)*e||0,f;if(l)for(o=0;o<u;++o)r[o].r+=l;if(f=Mp(r),l)for(o=0;o<u;++o)r[o].r-=l;n.r=f+l}}}function Mf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Ep(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Ir(t,e,n,r,o){for(var u=t.children,l,f=-1,h=u.length,d=t.value&&(r-e)/t.value;++f<h;)l=u[f],l.y0=n,l.y1=o,l.x0=e,l.x1=e+=l.value*d}function GS(){var t=1,e=1,n=0,r=!1;function o(l){var f=l.height+1;return l.x0=l.y0=n,l.x1=t,l.y1=e/f,l.eachBefore(u(e,f)),r&&l.eachBefore(Ep),l}function u(l,f){return function(h){h.children&&Ir(h,h.x0,l*(h.depth+1)/f,h.x1,l*(h.depth+2)/f);var d=h.x0,y=h.y0,_=h.x1-n,g=h.y1-n;_<d&&(d=_=(d+_)/2),g<y&&(y=g=(y+g)/2),h.x0=d,h.y0=y,h.x1=_,h.y1=g}}return o.round=function(l){return arguments.length?(r=!!l,o):r},o.size=function(l){return arguments.length?(t=+l[0],e=+l[1],o):[t,e]},o.padding=function(l){return arguments.length?(n=+l,o):n},o}var Ef="$",VS={depth:-1},kf={};function NS(t){return t.id}function IS(t){return t.parentId}function FS(){var t=NS,e=IS;function n(r){var o,u,l=r.length,f,h,d,y=new Array(l),_,g,v={};for(u=0;u<l;++u)o=r[u],d=y[u]=new Si(o),(_=t(o,u,r))!=null&&(_+="")&&(g=Ef+(d.id=_),v[g]=g in v?kf:d);for(u=0;u<l;++u)if(d=y[u],_=e(r[u],u,r),_==null||!(_+="")){if(f)throw new Error("multiple roots");f=d}else{if(h=v[Ef+_],!h)throw new Error("missing: "+_);if(h===kf)throw new Error("ambiguous: "+_);h.children?h.children.push(d):h.children=[d],d.parent=h}if(!f)throw new Error("no root");if(f.parent=VS,f.eachBefore(function(w){w.depth=w.parent.depth+1,--l}).eachBefore(Cp),f.parent=null,l>0)throw new Error("cycle");return f}return n.id=function(r){return arguments.length?(t=to(r),n):t},n.parentId=function(r){return arguments.length?(e=to(r),n):e},n}function OS(t,e){return t.parent===e.parent?1:2}function Cs(t){var e=t.children;return e?e[0]:t.t}function $s(t){var e=t.children;return e?e[e.length-1]:t.t}function zS(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function BS(t){for(var e=0,n=0,r=t.children,o=r.length,u;--o>=0;)u=r[o],u.z+=e,u.m+=e,e+=u.s+(n+=u.c)}function XS(t,e,n){return t.a.parent===e.parent?t.a:n}function _a(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}_a.prototype=Object.create(Si.prototype);function YS(t){for(var e=new _a(t,0),n,r=[e],o,u,l,f;n=r.pop();)if(u=n._.children)for(n.children=new Array(f=u.length),l=f-1;l>=0;--l)r.push(o=n.children[l]=new _a(u[l],l)),o.parent=n;return(e.parent=new _a(null,0)).children=[e],e}function HS(){var t=OS,e=1,n=1,r=null;function o(d){var y=YS(d);if(y.eachAfter(u),y.parent.m=-y.z,y.eachBefore(l),r)d.eachBefore(h);else{var _=d,g=d,v=d;d.eachBefore(function(E){E.x<_.x&&(_=E),E.x>g.x&&(g=E),E.depth>v.depth&&(v=E)});var w=_===g?1:t(_,g)/2,b=w-_.x,T=e/(g.x+w+b),A=n/(v.depth||1);d.eachBefore(function(E){E.x=(E.x+b)*T,E.y=E.depth*A})}return d}function u(d){var y=d.children,_=d.parent.children,g=d.i?_[d.i-1]:null;if(y){BS(d);var v=(y[0].z+y[y.length-1].z)/2;g?(d.z=g.z+t(d._,g._),d.m=d.z-v):d.z=v}else g&&(d.z=g.z+t(d._,g._));d.parent.A=f(d,g,d.parent.A||_[0])}function l(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function f(d,y,_){if(y){for(var g=d,v=d,w=y,b=g.parent.children[0],T=g.m,A=v.m,E=w.m,L=b.m,R;w=$s(w),g=Cs(g),w&&g;)b=Cs(b),v=$s(v),v.a=d,R=w.z+E-g.z-T+t(w._,g._),R>0&&(zS(XS(w,d,_),d,R),T+=R,A+=R),E+=w.m,T+=g.m,L+=b.m,A+=v.m;w&&!$s(v)&&(v.t=w,v.m+=E-A),g&&!Cs(b)&&(b.t=g,b.m+=T-L,_=d)}return _}function h(d){d.x*=e,d.y=d.depth*n}return o.separation=function(d){return arguments.length?(t=d,o):t},o.size=function(d){return arguments.length?(r=!1,e=+d[0],n=+d[1],o):r?null:[e,n]},o.nodeSize=function(d){return arguments.length?(r=!0,e=+d[0],n=+d[1],o):r?[e,n]:null},o}function Go(t,e,n,r,o){for(var u=t.children,l,f=-1,h=u.length,d=t.value&&(o-n)/t.value;++f<h;)l=u[f],l.x0=e,l.x1=r,l.y0=n,l.y1=n+=l.value*d}var kp=(1+Math.sqrt(5))/2;function Rp(t,e,n,r,o,u){for(var l=[],f=e.children,h,d,y=0,_=0,g=f.length,v,w,b=e.value,T,A,E,L,R,I,H;y<g;){v=o-n,w=u-r;do T=f[_++].value;while(!T&&_<g);for(A=E=T,I=Math.max(w/v,v/w)/(b*t),H=T*T*I,R=Math.max(E/H,H/A);_<g;++_){if(T+=d=f[_].value,d<A&&(A=d),d>E&&(E=d),H=T*T*I,L=Math.max(E/H,H/A),L>R){T-=d;break}R=L}l.push(h={value:T,dice:v<w,children:f.slice(y,_)}),h.dice?Ir(h,n,r,o,b?r+=w*T/b:u):Go(h,n,r,b?n+=v*T/b:o,u),b-=T,y=_}return l}var Dp=function t(e){function n(r,o,u,l,f){Rp(e,r,o,u,l,f)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(kp);function US(){var t=Dp,e=!1,n=1,r=1,o=[0],u=Pn,l=Pn,f=Pn,h=Pn,d=Pn;function y(g){return g.x0=g.y0=0,g.x1=n,g.y1=r,g.eachBefore(_),o=[0],e&&g.eachBefore(Ep),g}function _(g){var v=o[g.depth],w=g.x0+v,b=g.y0+v,T=g.x1-v,A=g.y1-v;T<w&&(w=T=(w+T)/2),A<b&&(b=A=(b+A)/2),g.x0=w,g.y0=b,g.x1=T,g.y1=A,g.children&&(v=o[g.depth+1]=u(g)/2,w+=d(g)-v,b+=l(g)-v,T-=f(g)-v,A-=h(g)-v,T<w&&(w=T=(w+T)/2),A<b&&(b=A=(b+A)/2),t(g,w,b,T,A))}return y.round=function(g){return arguments.length?(e=!!g,y):e},y.size=function(g){return arguments.length?(n=+g[0],r=+g[1],y):[n,r]},y.tile=function(g){return arguments.length?(t=to(g),y):t},y.padding=function(g){return arguments.length?y.paddingInner(g).paddingOuter(g):y.paddingInner()},y.paddingInner=function(g){return arguments.length?(u=typeof g=="function"?g:ri(+g),y):u},y.paddingOuter=function(g){return arguments.length?y.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):y.paddingTop()},y.paddingTop=function(g){return arguments.length?(l=typeof g=="function"?g:ri(+g),y):l},y.paddingRight=function(g){return arguments.length?(f=typeof g=="function"?g:ri(+g),y):f},y.paddingBottom=function(g){return arguments.length?(h=typeof g=="function"?g:ri(+g),y):h},y.paddingLeft=function(g){return arguments.length?(d=typeof g=="function"?g:ri(+g),y):d},y}function WS(t,e,n,r,o){var u=t.children,l,f=u.length,h,d=new Array(f+1);for(d[0]=h=l=0;l<f;++l)d[l+1]=h+=u[l].value;y(0,f,t.value,e,n,r,o);function y(_,g,v,w,b,T,A){if(_>=g-1){var E=u[_];E.x0=w,E.y0=b,E.x1=T,E.y1=A;return}for(var L=d[_],R=v/2+L,I=_+1,H=g-1;I<H;){var z=I+H>>>1;d[z]<R?I=z+1:H=z}R-d[I-1]<d[I]-R&&_+1<I&&--I;var q=d[I]-L,Y=v-q;if(T-w>A-b){var S=(w*Y+T*q)/v;y(_,I,q,w,b,S,A),y(I,g,Y,S,b,T,A)}else{var F=(b*Y+A*q)/v;y(_,I,q,w,b,T,F),y(I,g,Y,w,F,T,A)}}}function qS(t,e,n,r,o){(t.depth&1?Go:Ir)(t,e,n,r,o)}var QS=function t(e){function n(r,o,u,l,f){if((h=r._squarify)&&h.ratio===e)for(var h,d,y,_,g=-1,v,w=h.length,b=r.value;++g<w;){for(d=h[g],y=d.children,_=d.value=0,v=y.length;_<v;++_)d.value+=y[_].value;d.dice?Ir(d,o,u,l,u+=(f-u)*d.value/b):Go(d,o,u,o+=(l-o)*d.value/b,f),b-=d.value}else r._squarify=h=Rp(e,r,o,u,l,f),h.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(kp);function ZS(t){for(var e=-1,n=t.length,r,o=t[n-1],u=0;++e<n;)r=o,o=t[e],u+=r[1]*o[0]-r[0]*o[1];return u/2}function jS(t){for(var e=-1,n=t.length,r=0,o=0,u,l=t[n-1],f,h=0;++e<n;)u=l,l=t[e],h+=f=u[0]*l[1]-l[0]*u[1],r+=(u[0]+l[0])*f,o+=(u[1]+l[1])*f;return h*=3,[r/h,o/h]}function JS(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function KS(t,e){return t[0]-e[0]||t[1]-e[1]}function Rf(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;++o){for(;r>1&&JS(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function tT(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),o=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(KS),e=0;e<n;++e)o[e]=[r[e][0],-r[e][1]];var u=Rf(r),l=Rf(o),f=l[0]===u[0],h=l[l.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[r[u[e]][2]]);for(e=+f;e<l.length-h;++e)d.push(t[r[l[e]][2]]);return d}function eT(t,e){for(var n=t.length,r=t[n-1],o=e[0],u=e[1],l=r[0],f=r[1],h,d,y=!1,_=0;_<n;++_)r=t[_],h=r[0],d=r[1],d>u!=f>u&&o<(l-h)*(u-d)/(f-d)+h&&(y=!y),l=h,f=d;return y}function nT(t){for(var e=-1,n=t.length,r=t[n-1],o,u,l=r[0],f=r[1],h=0;++e<n;)o=l,u=f,r=t[e],l=r[0],f=r[1],o-=l,u-=f,h+=Math.sqrt(o*o+u*u);return h}function Li(){return Math.random()}var iT=function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,arguments.length===1?(o=r,r=0):o-=r,function(){return e()*o+r}}return n.source=t,n}(Li),Gp=function t(e){function n(r,o){var u,l;return r=r==null?0:+r,o=o==null?1:+o,function(){var f;if(u!=null)f=u,u=null;else do u=e()*2-1,f=e()*2-1,l=u*u+f*f;while(!l||l>1);return r+o*f*Math.sqrt(-2*Math.log(l)/l)}}return n.source=t,n}(Li),rT=function t(e){function n(){var r=Gp.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=t,n}(Li),Vp=function t(e){function n(r){return function(){for(var o=0,u=0;u<r;++u)o+=e();return o}}return n.source=t,n}(Li),aT=function t(e){function n(r){var o=Vp.source(e)(r);return function(){return o()/r}}return n.source=t,n}(Li),oT=function t(e){function n(r){return function(){return-Math.log(1-e())/r}}return n.source=t,n}(Li);function De(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nn(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var Np=Array.prototype,eo=Np.map,In=Np.slice,Lu={name:"implicit"};function $c(){var t=Ke(),e=[],n=[],r=Lu;function o(u){var l=u+"",f=t.get(l);if(!f){if(r!==Lu)return r;t.set(l,f=e.push(u))}return n[(f-1)%n.length]}return o.domain=function(u){if(!arguments.length)return e.slice();e=[],t=Ke();for(var l=-1,f=u.length,h,d;++l<f;)t.has(d=(h=u[l])+"")||t.set(d,e.push(h));return o},o.range=function(u){return arguments.length?(n=In.call(u),o):n.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.copy=function(){return $c(e,n).unknown(r)},De.apply(o,arguments),o}function Pc(){var t=$c().unknown(void 0),e=t.domain,n=t.range,r=[0,1],o,u,l=!1,f=0,h=0,d=.5;delete t.unknown;function y(){var _=e().length,g=r[1]<r[0],v=r[g-0],w=r[1-g];o=(w-v)/Math.max(1,_-f+h*2),l&&(o=Math.floor(o)),v+=(w-v-o*(_-f))*d,u=o*(1-f),l&&(v=Math.round(v),u=Math.round(u));var b=ve(_).map(function(T){return v+o*T});return n(g?b.reverse():b)}return t.domain=function(_){return arguments.length?(e(_),y()):e()},t.range=function(_){return arguments.length?(r=[+_[0],+_[1]],y()):r.slice()},t.rangeRound=function(_){return r=[+_[0],+_[1]],l=!0,y()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(_){return arguments.length?(l=!!_,y()):l},t.padding=function(_){return arguments.length?(f=Math.min(1,h=+_),y()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),y()):f},t.paddingOuter=function(_){return arguments.length?(h=+_,y()):h},t.align=function(_){return arguments.length?(d=Math.max(0,Math.min(1,_)),y()):d},t.copy=function(){return Pc(e(),r).round(l).paddingInner(f).paddingOuter(h).align(d)},De.apply(y(),arguments)}function Ip(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ip(e())},t}function sT(){return Ip(Pc.apply(null,arguments).paddingInner(1))}function uT(t){return function(){return t}}function Mu(t){return+t}var Df=[0,1];function qt(t){return t}function Eu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:uT(isNaN(e)?NaN:.5)}function Gf(t){var e=t[0],n=t[t.length-1],r;return e>n&&(r=e,e=n,n=r),function(o){return Math.max(e,Math.min(n,o))}}function cT(t,e,n){var r=t[0],o=t[1],u=e[0],l=e[1];return o<r?(r=Eu(o,r),u=n(l,u)):(r=Eu(r,o),u=n(u,l)),function(f){return u(r(f))}}function lT(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),u=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)o[l]=Eu(t[l],t[l+1]),u[l]=n(e[l],e[l+1]);return function(f){var h=dn(t,f,1,r)-1;return u[h](o[h](f))}}function Fr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vo(){var t=Df,e=Df,n=Rr,r,o,u,l=qt,f,h,d;function y(){return f=Math.min(t.length,e.length)>2?lT:cT,h=d=null,_}function _(g){return isNaN(g=+g)?u:(h||(h=f(t.map(r),e,n)))(r(l(g)))}return _.invert=function(g){return l(o((d||(d=f(e,t.map(r),Te)))(g)))},_.domain=function(g){return arguments.length?(t=eo.call(g,Mu),l===qt||(l=Gf(t)),y()):t.slice()},_.range=function(g){return arguments.length?(e=In.call(g),y()):e.slice()},_.rangeRound=function(g){return e=In.call(g),n=sd,y()},_.clamp=function(g){return arguments.length?(l=g?Gf(t):qt,_):l!==qt},_.interpolate=function(g){return arguments.length?(n=g,y()):n},_.unknown=function(g){return arguments.length?(u=g,_):u},function(g,v){return r=g,o=v,y()}}function Fp(t,e){return Vo()(t,e)}function Op(t,e,n,r){var o=kn(t,e,n),u;switch(r=wr(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(u=Fd(o,l))&&(r.precision=u),uc(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=Od(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=Id(o))&&(r.precision=u-(r.type==="%")*2);break}}return ko(r)}function qn(t){var e=t.domain;return t.ticks=function(n){var r=e();return Fu(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var o=e();return Op(o[0],o[o.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,u=r.length-1,l=r[o],f=r[u],h;return f<l&&(h=l,l=f,f=h,h=o,o=u,u=h),h=ar(l,f,n),h>0?(l=Math.floor(l/h)*h,f=Math.ceil(f/h)*h,h=ar(l,f,n)):h<0&&(l=Math.ceil(l*h)/h,f=Math.floor(f*h)/h,h=ar(l,f,n)),h>0?(r[o]=Math.floor(l/h)*h,r[u]=Math.ceil(f/h)*h,e(r)):h<0&&(r[o]=Math.ceil(l*h)/h,r[u]=Math.floor(f*h)/h,e(r)),t},t}function zp(){var t=Fp(qt,qt);return t.copy=function(){return Fr(t,zp())},De.apply(t,arguments),qn(t)}function Bp(t){var e;function n(r){return isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=eo.call(r,Mu),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Bp(t).unknown(e)},t=arguments.length?eo.call(t,Mu):[0,1],qn(n)}function Xp(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],u=t[r],l;return u<o&&(l=n,n=r,r=l,l=o,o=u,u=l),t[n]=e.floor(o),t[r]=e.ceil(u),t}function Vf(t){return Math.log(t)}function Nf(t){return Math.exp(t)}function fT(t){return-Math.log(-t)}function hT(t){return-Math.exp(-t)}function dT(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pT(t){return t===10?dT:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function gT(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function If(t){return function(e){return-t(-e)}}function Lc(t){var e=t(Vf,Nf),n=e.domain,r=10,o,u;function l(){return o=gT(r),u=pT(r),n()[0]<0?(o=If(o),u=If(u),t(fT,hT)):t(Vf,Nf),e}return e.base=function(f){return arguments.length?(r=+f,l()):r},e.domain=function(f){return arguments.length?(n(f),l()):n()},e.ticks=function(f){var h=n(),d=h[0],y=h[h.length-1],_;(_=y<d)&&(g=d,d=y,y=g);var g=o(d),v=o(y),w,b,T,A=f==null?10:+f,E=[];if(!(r%1)&&v-g<A){if(g=Math.round(g)-1,v=Math.round(v)+1,d>0){for(;g<v;++g)for(b=1,w=u(g);b<r;++b)if(T=w*b,!(T<d)){if(T>y)break;E.push(T)}}else for(;g<v;++g)for(b=r-1,w=u(g);b>=1;--b)if(T=w*b,!(T<d)){if(T>y)break;E.push(T)}}else E=Fu(g,v,Math.min(v-g,A)).map(u);return _?E.reverse():E},e.tickFormat=function(f,h){if(h==null&&(h=r===10?".0e":","),typeof h!="function"&&(h=ko(h)),f===1/0)return h;f==null&&(f=10);var d=Math.max(1,r*f/e.ticks().length);return function(y){var _=y/u(Math.round(o(y)));return _*r<r-.5&&(_*=r),_<=d?h(y):""}},e.nice=function(){return n(Xp(n(),{floor:function(f){return u(Math.floor(o(f)))},ceil:function(f){return u(Math.ceil(o(f)))}}))},e}function Yp(){var t=Lc(Vo()).domain([1,10]);return t.copy=function(){return Fr(t,Yp()).base(t.base())},De.apply(t,arguments),t}function Ff(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Of(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mc(t){var e=1,n=t(Ff(e),Of(e));return n.constant=function(r){return arguments.length?t(Ff(e=+r),Of(e)):e},qn(n)}function Hp(){var t=Mc(Vo());return t.copy=function(){return Fr(t,Hp()).constant(t.constant())},De.apply(t,arguments)}function zf(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yT(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _T(t){return t<0?-t*t:t*t}function Ec(t){var e=t(qt,qt),n=1;function r(){return n===1?t(qt,qt):n===.5?t(yT,_T):t(zf(n),zf(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},qn(e)}function kc(){var t=Ec(Vo());return t.copy=function(){return Fr(t,kc()).exponent(t.exponent())},De.apply(t,arguments),t}function mT(){return kc.apply(null,arguments).exponent(.5)}function Up(){var t=[],e=[],n=[],r;function o(){var l=0,f=Math.max(1,e.length);for(n=new Array(f-1);++l<f;)n[l-1]=fr(t,l/f);return u}function u(l){return isNaN(l=+l)?r:e[dn(n,l)]}return u.invertExtent=function(l){var f=e.indexOf(l);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},u.domain=function(l){if(!arguments.length)return t.slice();t=[];for(var f=0,h=l.length,d;f<h;++f)d=l[f],d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(vn),o()},u.range=function(l){return arguments.length?(e=In.call(l),o()):e.slice()},u.unknown=function(l){return arguments.length?(r=l,u):r},u.quantiles=function(){return n.slice()},u.copy=function(){return Up().domain(t).range(e).unknown(r)},De.apply(u,arguments)}function Wp(){var t=0,e=1,n=1,r=[.5],o=[0,1],u;function l(h){return h<=h?o[dn(r,h,0,n)]:u}function f(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],f()):[t,e]},l.range=function(h){return arguments.length?(n=(o=In.call(h)).length-1,f()):o.slice()},l.invertExtent=function(h){var d=o.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(h){return arguments.length&&(u=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Wp().domain([t,e]).range(o).unknown(u)},De.apply(qn(l),arguments)}function qp(){var t=[.5],e=[0,1],n,r=1;function o(u){return u<=u?e[dn(t,u,0,r)]:n}return o.domain=function(u){return arguments.length?(t=In.call(u),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(u){return arguments.length?(e=In.call(u),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(u){var l=e.indexOf(u);return[t[l-1],t[l]]},o.unknown=function(u){return arguments.length?(n=u,o):n},o.copy=function(){return qp().domain(t).range(e).unknown(n)},De.apply(o,arguments)}var Ps=new Date,Ls=new Date;function zt(t,e,n,r){function o(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return o.floor=function(u){return t(u=new Date(+u)),u},o.ceil=function(u){return t(u=new Date(u-1)),e(u,1),t(u),u},o.round=function(u){var l=o(u),f=o.ceil(u);return u-l<f-u?l:f},o.offset=function(u,l){return e(u=new Date(+u),l==null?1:Math.floor(l)),u},o.range=function(u,l,f){var h=[],d;if(u=o.ceil(u),f=f==null?1:Math.floor(f),!(u<l)||!(f>0))return h;do h.push(d=new Date(+u)),e(u,f),t(u);while(d<u&&u<l);return h},o.filter=function(u){return zt(function(l){if(l>=l)for(;t(l),!u(l);)l.setTime(l-1)},function(l,f){if(l>=l)if(f<0)for(;++f<=0;)for(;e(l,-1),!u(l););else for(;--f>=0;)for(;e(l,1),!u(l););})},n&&(o.count=function(u,l){return Ps.setTime(+u),Ls.setTime(+l),t(Ps),t(Ls),Math.floor(n(Ps,Ls))},o.every=function(u){return u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?o.filter(r?function(l){return r(l)%u===0}:function(l){return o.count(0,l)%u===0}):o}),o}var no=zt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});no.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):no};var io=no,Bf=no.range,ro=1e3,Fn=6e4,ao=36e5,Qp=864e5,Zp=6048e5,jp=zt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*ro)},function(t,e){return(e-t)/ro},function(t){return t.getUTCSeconds()}),oo=jp,Xf=jp.range,Jp=zt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro)},function(t,e){t.setTime(+t+e*Fn)},function(t,e){return(e-t)/Fn},function(t){return t.getMinutes()}),Kp=Jp,vT=Jp.range,tg=zt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro-t.getMinutes()*Fn)},function(t,e){t.setTime(+t+e*ao)},function(t,e){return(e-t)/ao},function(t){return t.getHours()}),eg=tg,xT=tg.range,ng=zt(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/Qp},function(t){return t.getDate()-1}),No=ng,wT=ng.range;function Qn(t){return zt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/Zp})}var Ar=Qn(0),Cr=Qn(1),ig=Qn(2),rg=Qn(3),On=Qn(4),ag=Qn(5),og=Qn(6),Yf=Ar.range,bT=Cr.range,ST=ig.range,TT=rg.range,AT=On.range,CT=ag.range,$T=og.range,sg=zt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),ug=sg,PT=sg.range,Rc=zt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Rc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:zt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var zn=Rc,LT=Rc.range,cg=zt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Fn)},function(t,e){return(e-t)/Fn},function(t){return t.getUTCMinutes()}),lg=cg,MT=cg.range,fg=zt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*ao)},function(t,e){return(e-t)/ao},function(t){return t.getUTCHours()}),hg=fg,ET=fg.range,dg=zt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Qp},function(t){return t.getUTCDate()-1}),Io=dg,kT=dg.range;function Zn(t){return zt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Zp})}var $r=Zn(0),Pr=Zn(1),pg=Zn(2),gg=Zn(3),Bn=Zn(4),yg=Zn(5),_g=Zn(6),Hf=$r.range,RT=Pr.range,DT=pg.range,GT=gg.range,VT=Bn.range,NT=yg.range,IT=_g.range,mg=zt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),vg=mg,FT=mg.range,Dc=zt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Dc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:zt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var Xn=Dc,OT=Dc.range;function Ms(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Es(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xg(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,u=t.days,l=t.shortDays,f=t.months,h=t.shortMonths,d=Vi(o),y=Ni(o),_=Vi(u),g=Ni(u),v=Vi(l),w=Ni(l),b=Vi(f),T=Ni(f),A=Vi(h),E=Ni(h),L={a:et,A:tt,b:i,B:a,c:null,d:jf,e:jf,f:cA,g:vA,G:wA,H:oA,I:sA,j:uA,L:wg,m:lA,M:fA,p:s,q:c,Q:th,s:eh,S:hA,u:dA,U:pA,V:gA,w:yA,W:_A,x:null,X:null,y:mA,Y:xA,Z:bA,"%":Kf},R={a:p,A:m,b:x,B:C,c:null,d:Jf,e:Jf,f:CA,g:VA,G:IA,H:SA,I:TA,j:AA,L:Sg,m:$A,M:PA,p:k,q:P,Q:th,s:eh,S:LA,u:MA,U:EA,V:kA,w:RA,W:DA,x:null,X:null,y:GA,Y:NA,Z:FA,"%":Kf},I={a:S,A:F,b:M,B:O,c:Z,d:Qf,e:Qf,f:nA,g:qf,G:Wf,H:Zf,I:Zf,j:JT,L:eA,m:jT,M:KT,p:Y,q:ZT,Q:rA,s:aA,S:tA,u:HT,U:UT,V:WT,w:YT,W:qT,x:X,X:Q,y:qf,Y:Wf,Z:QT,"%":iA};L.x=H(n,L),L.X=H(r,L),L.c=H(e,L),R.x=H(n,R),R.X=H(r,R),R.c=H(e,R);function H(D,G){return function(B){var N=[],U=-1,W=0,j=D.length,K,ft,ht;for(B instanceof Date||(B=new Date(+B));++U<j;)D.charCodeAt(U)===37&&(N.push(D.slice(W,U)),(ft=Uf[K=D.charAt(++U)])!=null?K=D.charAt(++U):ft=K==="e"?" ":"0",(ht=G[K])&&(K=ht(B,ft)),N.push(K),W=U+1);return N.push(D.slice(W,U)),N.join("")}}function z(D,G){return function(B){var N=Gi(1900,void 0,1),U=q(N,D,B+="",0),W,j;if(U!=B.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(G&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(W=Es(Gi(N.y,0,1)),j=W.getUTCDay(),W=j>4||j===0?Pr.ceil(W):Pr(W),W=Io.offset(W,(N.V-1)*7),N.y=W.getUTCFullYear(),N.m=W.getUTCMonth(),N.d=W.getUTCDate()+(N.w+6)%7):(W=Ms(Gi(N.y,0,1)),j=W.getDay(),W=j>4||j===0?Cr.ceil(W):Cr(W),W=No.offset(W,(N.V-1)*7),N.y=W.getFullYear(),N.m=W.getMonth(),N.d=W.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),j="Z"in N?Es(Gi(N.y,0,1)).getUTCDay():Ms(Gi(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(j+5)%7:N.w+N.U*7-(j+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Es(N)):Ms(N)}}function q(D,G,B,N){for(var U=0,W=G.length,j=B.length,K,ft;U<W;){if(N>=j)return-1;if(K=G.charCodeAt(U++),K===37){if(K=G.charAt(U++),ft=I[K in Uf?G.charAt(U++):K],!ft||(N=ft(D,B,N))<0)return-1}else if(K!=B.charCodeAt(N++))return-1}return N}function Y(D,G,B){var N=d.exec(G.slice(B));return N?(D.p=y[N[0].toLowerCase()],B+N[0].length):-1}function S(D,G,B){var N=v.exec(G.slice(B));return N?(D.w=w[N[0].toLowerCase()],B+N[0].length):-1}function F(D,G,B){var N=_.exec(G.slice(B));return N?(D.w=g[N[0].toLowerCase()],B+N[0].length):-1}function M(D,G,B){var N=A.exec(G.slice(B));return N?(D.m=E[N[0].toLowerCase()],B+N[0].length):-1}function O(D,G,B){var N=b.exec(G.slice(B));return N?(D.m=T[N[0].toLowerCase()],B+N[0].length):-1}function Z(D,G,B){return q(D,e,G,B)}function X(D,G,B){return q(D,n,G,B)}function Q(D,G,B){return q(D,r,G,B)}function et(D){return l[D.getDay()]}function tt(D){return u[D.getDay()]}function i(D){return h[D.getMonth()]}function a(D){return f[D.getMonth()]}function s(D){return o[+(D.getHours()>=12)]}function c(D){return 1+~~(D.getMonth()/3)}function p(D){return l[D.getUTCDay()]}function m(D){return u[D.getUTCDay()]}function x(D){return h[D.getUTCMonth()]}function C(D){return f[D.getUTCMonth()]}function k(D){return o[+(D.getUTCHours()>=12)]}function P(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var G=H(D+="",L);return G.toString=function(){return D},G},parse:function(D){var G=z(D+="",!1);return G.toString=function(){return D},G},utcFormat:function(D){var G=H(D+="",R);return G.toString=function(){return D},G},utcParse:function(D){var G=z(D+="",!0);return G.toString=function(){return D},G}}}var Uf={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,zT=/^%/,BT=/[\\^$*+?|[\]().{}]/g;function Tt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",u=o.length;return r+(u<n?new Array(n-u+1).join(e)+o:o)}function XT(t){return t.replace(BT,"\\$&")}function Vi(t){return new RegExp("^(?:"+t.map(XT).join("|")+")","i")}function Ni(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function YT(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function HT(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function UT(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function WT(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qT(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wf(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qf(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QT(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ZT(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jT(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Qf(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function JT(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zf(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KT(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tA(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eA(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function nA(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iA(t,e,n){var r=zT.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rA(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function aA(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jf(t,e){return Tt(t.getDate(),e,2)}function oA(t,e){return Tt(t.getHours(),e,2)}function sA(t,e){return Tt(t.getHours()%12||12,e,2)}function uA(t,e){return Tt(1+No.count(zn(t),t),e,3)}function wg(t,e){return Tt(t.getMilliseconds(),e,3)}function cA(t,e){return wg(t,e)+"000"}function lA(t,e){return Tt(t.getMonth()+1,e,2)}function fA(t,e){return Tt(t.getMinutes(),e,2)}function hA(t,e){return Tt(t.getSeconds(),e,2)}function dA(t){var e=t.getDay();return e===0?7:e}function pA(t,e){return Tt(Ar.count(zn(t)-1,t),e,2)}function bg(t){var e=t.getDay();return e>=4||e===0?On(t):On.ceil(t)}function gA(t,e){return t=bg(t),Tt(On.count(zn(t),t)+(zn(t).getDay()===4),e,2)}function yA(t){return t.getDay()}function _A(t,e){return Tt(Cr.count(zn(t)-1,t),e,2)}function mA(t,e){return Tt(t.getFullYear()%100,e,2)}function vA(t,e){return t=bg(t),Tt(t.getFullYear()%100,e,2)}function xA(t,e){return Tt(t.getFullYear()%1e4,e,4)}function wA(t,e){var n=t.getDay();return t=n>=4||n===0?On(t):On.ceil(t),Tt(t.getFullYear()%1e4,e,4)}function bA(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tt(e/60|0,"0",2)+Tt(e%60,"0",2)}function Jf(t,e){return Tt(t.getUTCDate(),e,2)}function SA(t,e){return Tt(t.getUTCHours(),e,2)}function TA(t,e){return Tt(t.getUTCHours()%12||12,e,2)}function AA(t,e){return Tt(1+Io.count(Xn(t),t),e,3)}function Sg(t,e){return Tt(t.getUTCMilliseconds(),e,3)}function CA(t,e){return Sg(t,e)+"000"}function $A(t,e){return Tt(t.getUTCMonth()+1,e,2)}function PA(t,e){return Tt(t.getUTCMinutes(),e,2)}function LA(t,e){return Tt(t.getUTCSeconds(),e,2)}function MA(t){var e=t.getUTCDay();return e===0?7:e}function EA(t,e){return Tt($r.count(Xn(t)-1,t),e,2)}function Tg(t){var e=t.getUTCDay();return e>=4||e===0?Bn(t):Bn.ceil(t)}function kA(t,e){return t=Tg(t),Tt(Bn.count(Xn(t),t)+(Xn(t).getUTCDay()===4),e,2)}function RA(t){return t.getUTCDay()}function DA(t,e){return Tt(Pr.count(Xn(t)-1,t),e,2)}function GA(t,e){return Tt(t.getUTCFullYear()%100,e,2)}function VA(t,e){return t=Tg(t),Tt(t.getUTCFullYear()%100,e,2)}function NA(t,e){return Tt(t.getUTCFullYear()%1e4,e,4)}function IA(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bn(t):Bn.ceil(t),Tt(t.getUTCFullYear()%1e4,e,4)}function FA(){return"+0000"}function Kf(){return"%"}function th(t){return+t}function eh(t){return Math.floor(+t/1e3)}var ii,Gc,Ag,Fo,Vc;Cg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cg(t){return ii=xg(t),Gc=ii.format,Ag=ii.parse,Fo=ii.utcFormat,Vc=ii.utcParse,ii}var $g="%Y-%m-%dT%H:%M:%S.%LZ";function OA(t){return t.toISOString()}var zA=Date.prototype.toISOString?OA:Fo($g),BA=zA;function XA(t){var e=new Date(t);return isNaN(e)?null:e}var YA=+new Date("2000-01-01T00:00:00.000Z")?XA:Vc($g),HA=YA,Ji=1e3,Ki=Ji*60,tr=Ki*60,Lr=tr*24,UA=Lr*7,nh=Lr*30,ks=Lr*365;function WA(t){return new Date(t)}function qA(t){return t instanceof Date?+t:+new Date(+t)}function Nc(t,e,n,r,o,u,l,f,h){var d=Fp(qt,qt),y=d.invert,_=d.domain,g=h(".%L"),v=h(":%S"),w=h("%I:%M"),b=h("%I %p"),T=h("%a %d"),A=h("%b %d"),E=h("%B"),L=h("%Y"),R=[[l,1,Ji],[l,5,5*Ji],[l,15,15*Ji],[l,30,30*Ji],[u,1,Ki],[u,5,5*Ki],[u,15,15*Ki],[u,30,30*Ki],[o,1,tr],[o,3,3*tr],[o,6,6*tr],[o,12,12*tr],[r,1,Lr],[r,2,2*Lr],[n,1,UA],[e,1,nh],[e,3,3*nh],[t,1,ks]];function I(z){return(l(z)<z?g:u(z)<z?v:o(z)<z?w:r(z)<z?b:e(z)<z?n(z)<z?T:A:t(z)<z?E:L)(z)}function H(z,q,Y,S){if(z==null&&(z=10),typeof z=="number"){var F=Math.abs(Y-q)/z,M=Nu(function(O){return O[2]}).right(R,F);M===R.length?(S=kn(q/ks,Y/ks,z),z=t):M?(M=R[F/R[M-1][2]<R[M][2]/F?M-1:M],S=M[1],z=M[0]):(S=Math.max(kn(q,Y,z),1),z=f)}return S==null?z:z.every(S)}return d.invert=function(z){return new Date(y(z))},d.domain=function(z){return arguments.length?_(eo.call(z,qA)):_().map(WA)},d.ticks=function(z,q){var Y=_(),S=Y[0],F=Y[Y.length-1],M=F<S,O;return M&&(O=S,S=F,F=O),O=H(z,S,F,q),O=O?O.range(S,F+1):[],M?O.reverse():O},d.tickFormat=function(z,q){return q==null?I:h(q)},d.nice=function(z,q){var Y=_();return(z=H(z,Y[0],Y[Y.length-1],q))?_(Xp(Y,z)):d},d.copy=function(){return Fr(d,Nc(t,e,n,r,o,u,l,f,h))},d}function QA(){return De.apply(Nc(zn,ug,Ar,No,eg,Kp,oo,io,Gc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZA(){return De.apply(Nc(Xn,vg,$r,Io,hg,lg,oo,io,Fo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oo(){var t=0,e=1,n,r,o,u,l=qt,f=!1,h;function d(y){return isNaN(y=+y)?h:l(o===0?.5:(y=(u(y)-n)*o,f?Math.max(0,Math.min(1,y)):y))}return d.domain=function(y){return arguments.length?(n=u(t=+y[0]),r=u(e=+y[1]),o=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(y){return arguments.length?(f=!!y,d):f},d.interpolator=function(y){return arguments.length?(l=y,d):l},d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return u=y,n=y(t),r=y(e),o=n===r?0:1/(r-n),d}}function Sn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Pg(){var t=qn(Oo()(qt));return t.copy=function(){return Sn(t,Pg())},nn.apply(t,arguments)}function Lg(){var t=Lc(Oo()).domain([1,10]);return t.copy=function(){return Sn(t,Lg()).base(t.base())},nn.apply(t,arguments)}function Mg(){var t=Mc(Oo());return t.copy=function(){return Sn(t,Mg()).constant(t.constant())},nn.apply(t,arguments)}function Ic(){var t=Ec(Oo());return t.copy=function(){return Sn(t,Ic()).exponent(t.exponent())},nn.apply(t,arguments)}function jA(){return Ic.apply(null,arguments).exponent(.5)}function Eg(){var t=[],e=qt;function n(r){if(!isNaN(r=+r))return e((dn(t,r)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(var o=0,u=r.length,l;o<u;++o)l=r[o],l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(vn),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Eg(e).domain(t)},nn.apply(n,arguments)}function zo(){var t=0,e=.5,n=1,r,o,u,l,f,h=qt,d,y=!1,_;function g(v){return isNaN(v=+v)?_:(v=.5+((v=+d(v))-o)*(v<o?l:f),h(y?Math.max(0,Math.min(1,v)):v))}return g.domain=function(v){return arguments.length?(r=d(t=+v[0]),o=d(e=+v[1]),u=d(n=+v[2]),l=r===o?0:.5/(o-r),f=o===u?0:.5/(u-o),g):[t,e,n]},g.clamp=function(v){return arguments.length?(y=!!v,g):y},g.interpolator=function(v){return arguments.length?(h=v,g):h},g.unknown=function(v){return arguments.length?(_=v,g):_},function(v){return d=v,r=v(t),o=v(e),u=v(n),l=r===o?0:.5/(o-r),f=o===u?0:.5/(u-o),g}}function kg(){var t=qn(zo()(qt));return t.copy=function(){return Sn(t,kg())},nn.apply(t,arguments)}function Rg(){var t=Lc(zo()).domain([.1,1,10]);return t.copy=function(){return Sn(t,Rg()).base(t.base())},nn.apply(t,arguments)}function Dg(){var t=Mc(zo());return t.copy=function(){return Sn(t,Dg()).constant(t.constant())},nn.apply(t,arguments)}function Fc(){var t=Ec(zo());return t.copy=function(){return Sn(t,Fc()).exponent(t.exponent())},nn.apply(t,arguments)}function JA(){return Fc.apply(null,arguments).exponent(.5)}function yt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var KA=yt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),t3=yt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),e3=yt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),n3=yt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),i3=yt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),r3=yt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),a3=yt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),o3=yt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),s3=yt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),u3=yt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Lt(t){return nd(t[t.length-1])}var Gg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(yt),c3=Lt(Gg),Vg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(yt),l3=Lt(Vg),Ng=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(yt),f3=Lt(Ng),Ig=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(yt),h3=Lt(Ig),Fg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(yt),d3=Lt(Fg),Og=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(yt),p3=Lt(Og),zg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(yt),g3=Lt(zg),Bg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(yt),y3=Lt(Bg),Xg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(yt),_3=Lt(Xg),Yg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(yt),m3=Lt(Yg),Hg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(yt),v3=Lt(Hg),Ug=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(yt),x3=Lt(Ug),Wg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(yt),w3=Lt(Wg),qg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(yt),b3=Lt(qg),Qg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(yt),S3=Lt(Qg),Zg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(yt),T3=Lt(Zg),jg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(yt),A3=Lt(jg),Jg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(yt),C3=Lt(Jg),Kg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(yt),$3=Lt(Kg),t0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(yt),P3=Lt(t0),e0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(yt),L3=Lt(e0),n0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(yt),M3=Lt(n0),i0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(yt),E3=Lt(i0),r0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(yt),k3=Lt(r0),a0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(yt),R3=Lt(a0),o0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(yt),D3=Lt(o0),s0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(yt),G3=Lt(s0);function V3(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var N3=To(ke(300,.5,0),ke(-240,.5,1)),I3=To(ke(-100,.75,.35),ke(80,1.5,.8)),F3=To(ke(260,.75,.35),ke(80,1.5,.8)),na=ke();function O3(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return na.h=360*t-100,na.s=1.5-1.5*e,na.l=.8-.9*e,na+""}var ia=yi(),z3=Math.PI/3,B3=Math.PI*2/3;function X3(t){var e;return t=(.5-t)*Math.PI,ia.r=255*(e=Math.sin(t))*e,ia.g=255*(e=Math.sin(t+z3))*e,ia.b=255*(e=Math.sin(t+B3))*e,ia+""}function Y3(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Bo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var H3=Bo(yt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),U3=Bo(yt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),W3=Bo(yt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),q3=Bo(yt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function xt(t){return function(){return t}}var ih=Math.abs,Zt=Math.atan2,An=Math.cos,Q3=Math.max,Rs=Math.min,Ne=Math.sin,oi=Math.sqrt,jt=1e-12,_n=Math.PI,so=_n/2,hn=2*_n;function Z3(t){return t>1?0:t<-1?_n:Math.acos(t)}function rh(t){return t>=1?so:t<=-1?-so:Math.asin(t)}function j3(t){return t.innerRadius}function J3(t){return t.outerRadius}function K3(t){return t.startAngle}function tC(t){return t.endAngle}function eC(t){return t&&t.padAngle}function nC(t,e,n,r,o,u,l,f){var h=n-t,d=r-e,y=l-o,_=f-u,g=_*h-y*d;if(!(g*g<jt))return g=(y*(e-u)-_*(t-o))/g,[t+g*h,e+g*d]}function ra(t,e,n,r,o,u,l){var f=t-n,h=e-r,d=(l?u:-u)/oi(f*f+h*h),y=d*h,_=-d*f,g=t+y,v=e+_,w=n+y,b=r+_,T=(g+w)/2,A=(v+b)/2,E=w-g,L=b-v,R=E*E+L*L,I=o-u,H=g*b-w*v,z=(L<0?-1:1)*oi(Q3(0,I*I*R-H*H)),q=(H*L-E*z)/R,Y=(-H*E-L*z)/R,S=(H*L+E*z)/R,F=(-H*E+L*z)/R,M=q-T,O=Y-A,Z=S-T,X=F-A;return M*M+O*O>Z*Z+X*X&&(q=S,Y=F),{cx:q,cy:Y,x01:-y,y01:-_,x11:q*(o/I-1),y11:Y*(o/I-1)}}function iC(){var t=j3,e=J3,n=xt(0),r=null,o=K3,u=tC,l=eC,f=null;function h(){var d,y,_=+t.apply(this,arguments),g=+e.apply(this,arguments),v=o.apply(this,arguments)-so,w=u.apply(this,arguments)-so,b=ih(w-v),T=w>v;if(f||(f=d=wn()),g<_&&(y=g,g=_,_=y),!(g>jt))f.moveTo(0,0);else if(b>hn-jt)f.moveTo(g*An(v),g*Ne(v)),f.arc(0,0,g,v,w,!T),_>jt&&(f.moveTo(_*An(w),_*Ne(w)),f.arc(0,0,_,w,v,T));else{var A=v,E=w,L=v,R=w,I=b,H=b,z=l.apply(this,arguments)/2,q=z>jt&&(r?+r.apply(this,arguments):oi(_*_+g*g)),Y=Rs(ih(g-_)/2,+n.apply(this,arguments)),S=Y,F=Y,M,O;if(q>jt){var Z=rh(q/_*Ne(z)),X=rh(q/g*Ne(z));(I-=Z*2)>jt?(Z*=T?1:-1,L+=Z,R-=Z):(I=0,L=R=(v+w)/2),(H-=X*2)>jt?(X*=T?1:-1,A+=X,E-=X):(H=0,A=E=(v+w)/2)}var Q=g*An(A),et=g*Ne(A),tt=_*An(R),i=_*Ne(R);if(Y>jt){var a=g*An(E),s=g*Ne(E),c=_*An(L),p=_*Ne(L),m;if(b<_n&&(m=nC(Q,et,c,p,a,s,tt,i))){var x=Q-m[0],C=et-m[1],k=a-m[0],P=s-m[1],D=1/Ne(Z3((x*k+C*P)/(oi(x*x+C*C)*oi(k*k+P*P)))/2),G=oi(m[0]*m[0]+m[1]*m[1]);S=Rs(Y,(_-G)/(D-1)),F=Rs(Y,(g-G)/(D+1))}}H>jt?F>jt?(M=ra(c,p,Q,et,g,F,T),O=ra(a,s,tt,i,g,F,T),f.moveTo(M.cx+M.x01,M.cy+M.y01),F<Y?f.arc(M.cx,M.cy,F,Zt(M.y01,M.x01),Zt(O.y01,O.x01),!T):(f.arc(M.cx,M.cy,F,Zt(M.y01,M.x01),Zt(M.y11,M.x11),!T),f.arc(0,0,g,Zt(M.cy+M.y11,M.cx+M.x11),Zt(O.cy+O.y11,O.cx+O.x11),!T),f.arc(O.cx,O.cy,F,Zt(O.y11,O.x11),Zt(O.y01,O.x01),!T))):(f.moveTo(Q,et),f.arc(0,0,g,A,E,!T)):f.moveTo(Q,et),!(_>jt)||!(I>jt)?f.lineTo(tt,i):S>jt?(M=ra(tt,i,a,s,_,-S,T),O=ra(Q,et,c,p,_,-S,T),f.lineTo(M.cx+M.x01,M.cy+M.y01),S<Y?f.arc(M.cx,M.cy,S,Zt(M.y01,M.x01),Zt(O.y01,O.x01),!T):(f.arc(M.cx,M.cy,S,Zt(M.y01,M.x01),Zt(M.y11,M.x11),!T),f.arc(0,0,_,Zt(M.cy+M.y11,M.cx+M.x11),Zt(O.cy+O.y11,O.cx+O.x11),T),f.arc(O.cx,O.cy,S,Zt(O.y11,O.x11),Zt(O.y01,O.x01),!T))):f.arc(0,0,_,R,L,T)}if(f.closePath(),d)return f=null,d+""||null}return h.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,y=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-_n/2;return[An(y)*d,Ne(y)*d]},h.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),h):t},h.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),h):e},h.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:xt(+d),h):n},h.padRadius=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:xt(+d),h):r},h.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:xt(+d),h):o},h.endAngle=function(d){return arguments.length?(u=typeof d=="function"?d:xt(+d),h):u},h.padAngle=function(d){return arguments.length?(l=typeof d=="function"?d:xt(+d),h):l},h.context=function(d){return arguments.length?(f=d==null?null:d,h):f},h}function u0(t){this._context=t}u0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xo(t){return new u0(t)}function Oc(t){return t[0]}function zc(t){return t[1]}function Bc(){var t=Oc,e=zc,n=xt(!0),r=null,o=Xo,u=null;function l(f){var h,d=f.length,y,_=!1,g;for(r==null&&(u=o(g=wn())),h=0;h<=d;++h)!(h<d&&n(y=f[h],h,f))===_&&((_=!_)?u.lineStart():u.lineEnd()),_&&u.point(+t(y,h,f),+e(y,h,f));if(g)return u=null,g+""||null}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:xt(+f),l):e},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:xt(!!f),l):n},l.curve=function(f){return arguments.length?(o=f,r!=null&&(u=o(r)),l):o},l.context=function(f){return arguments.length?(f==null?r=u=null:u=o(r=f),l):r},l}function c0(){var t=Oc,e=null,n=xt(0),r=zc,o=xt(!0),u=null,l=Xo,f=null;function h(y){var _,g,v,w=y.length,b,T=!1,A,E=new Array(w),L=new Array(w);for(u==null&&(f=l(A=wn())),_=0;_<=w;++_){if(!(_<w&&o(b=y[_],_,y))===T)if(T=!T)g=_,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),v=_-1;v>=g;--v)f.point(E[v],L[v]);f.lineEnd(),f.areaEnd()}T&&(E[_]=+t(b,_,y),L[_]=+n(b,_,y),f.point(e?+e(b,_,y):E[_],r?+r(b,_,y):L[_]))}if(A)return f=null,A+""||null}function d(){return Bc().defined(o).curve(l).context(u)}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:xt(+y),e=null,h):t},h.x0=function(y){return arguments.length?(t=typeof y=="function"?y:xt(+y),h):t},h.x1=function(y){return arguments.length?(e=y==null?null:typeof y=="function"?y:xt(+y),h):e},h.y=function(y){return arguments.length?(n=typeof y=="function"?y:xt(+y),r=null,h):n},h.y0=function(y){return arguments.length?(n=typeof y=="function"?y:xt(+y),h):n},h.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:xt(+y),h):r},h.lineX0=h.lineY0=function(){return d().x(t).y(n)},h.lineY1=function(){return d().x(t).y(r)},h.lineX1=function(){return d().x(e).y(n)},h.defined=function(y){return arguments.length?(o=typeof y=="function"?y:xt(!!y),h):o},h.curve=function(y){return arguments.length?(l=y,u!=null&&(f=l(u)),h):l},h.context=function(y){return arguments.length?(y==null?u=f=null:f=l(u=y),h):u},h}function rC(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function aC(t){return t}function oC(){var t=aC,e=rC,n=null,r=xt(0),o=xt(hn),u=xt(0);function l(f){var h,d=f.length,y,_,g=0,v=new Array(d),w=new Array(d),b=+r.apply(this,arguments),T=Math.min(hn,Math.max(-hn,o.apply(this,arguments)-b)),A,E=Math.min(Math.abs(T)/d,u.apply(this,arguments)),L=E*(T<0?-1:1),R;for(h=0;h<d;++h)(R=w[v[h]=h]=+t(f[h],h,f))>0&&(g+=R);for(e!=null?v.sort(function(I,H){return e(w[I],w[H])}):n!=null&&v.sort(function(I,H){return n(f[I],f[H])}),h=0,_=g?(T-d*L)/g:0;h<d;++h,b=A)y=v[h],R=w[y],A=b+(R>0?R*_:0)+L,w[y]={data:f[y],index:h,value:R,startAngle:b,endAngle:A,padAngle:E};return w}return l.value=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),l):t},l.sortValues=function(f){return arguments.length?(e=f,n=null,l):e},l.sort=function(f){return arguments.length?(n=f,e=null,l):n},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:xt(+f),l):r},l.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:xt(+f),l):o},l.padAngle=function(f){return arguments.length?(u=typeof f=="function"?f:xt(+f),l):u},l}var l0=Xc(Xo);function f0(t){this._curve=t}f0.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Xc(t){function e(n){return new f0(t(n))}return e._curve=t,e}function er(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Xc(n)):e()._curve},t}function ah(){return er(Bc().curve(l0))}function oh(){var t=c0().curve(l0),e=t.curve,n=t.lineX0,r=t.lineX1,o=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return er(n())},delete t.lineX0,t.lineEndAngle=function(){return er(r())},delete t.lineX1,t.lineInnerRadius=function(){return er(o())},delete t.lineY0,t.lineOuterRadius=function(){return er(u())},delete t.lineY1,t.curve=function(l){return arguments.length?e(Xc(l)):e()._curve},t}function nr(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var ku=Array.prototype.slice;function sC(t){return t.source}function uC(t){return t.target}function Yc(t){var e=sC,n=uC,r=Oc,o=zc,u=null;function l(){var f,h=ku.call(arguments),d=e.apply(this,h),y=n.apply(this,h);if(u||(u=f=wn()),t(u,+r.apply(this,(h[0]=d,h)),+o.apply(this,h),+r.apply(this,(h[0]=y,h)),+o.apply(this,h)),f)return u=null,f+""||null}return l.source=function(f){return arguments.length?(e=f,l):e},l.target=function(f){return arguments.length?(n=f,l):n},l.x=function(f){return arguments.length?(r=typeof f=="function"?f:xt(+f),l):r},l.y=function(f){return arguments.length?(o=typeof f=="function"?f:xt(+f),l):o},l.context=function(f){return arguments.length?(u=f==null?null:f,l):u},l}function cC(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,o,r,o)}function lC(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+o)/2,r,n,r,o)}function fC(t,e,n,r,o){var u=nr(e,n),l=nr(e,n=(n+o)/2),f=nr(r,n),h=nr(r,o);t.moveTo(u[0],u[1]),t.bezierCurveTo(l[0],l[1],f[0],f[1],h[0],h[1])}function hC(){return Yc(cC)}function dC(){return Yc(lC)}function pC(){var t=Yc(fC);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Hc={draw:function(t,e){var n=Math.sqrt(e/_n);t.moveTo(n,0),t.arc(0,0,n,0,hn)}},h0={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},d0=Math.sqrt(1/3),gC=d0*2,p0={draw:function(t,e){var n=Math.sqrt(e/gC),r=n*d0;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yC=.8908130915292852,g0=Math.sin(_n/10)/Math.sin(7*_n/10),_C=Math.sin(hn/10)*g0,mC=-Math.cos(hn/10)*g0,y0={draw:function(t,e){var n=Math.sqrt(e*yC),r=_C*n,o=mC*n;t.moveTo(0,-n),t.lineTo(r,o);for(var u=1;u<5;++u){var l=hn*u/5,f=Math.cos(l),h=Math.sin(l);t.lineTo(h*n,-f*n),t.lineTo(f*r-h*o,h*r+f*o)}t.closePath()}},_0={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Ds=Math.sqrt(3),m0={draw:function(t,e){var n=-Math.sqrt(e/(Ds*3));t.moveTo(0,n*2),t.lineTo(-Ds*n,-n),t.lineTo(Ds*n,-n),t.closePath()}},we=-.5,be=Math.sqrt(3)/2,Ru=1/Math.sqrt(12),vC=(Ru/2+1)*3,v0={draw:function(t,e){var n=Math.sqrt(e/vC),r=n/2,o=n*Ru,u=r,l=n*Ru+n,f=-u,h=l;t.moveTo(r,o),t.lineTo(u,l),t.lineTo(f,h),t.lineTo(we*r-be*o,be*r+we*o),t.lineTo(we*u-be*l,be*u+we*l),t.lineTo(we*f-be*h,be*f+we*h),t.lineTo(we*r+be*o,we*o-be*r),t.lineTo(we*u+be*l,we*l-be*u),t.lineTo(we*f+be*h,we*h-be*f),t.closePath()}},xC=[Hc,h0,p0,_0,y0,m0,v0];function wC(){var t=xt(Hc),e=xt(64),n=null;function r(){var o;if(n||(n=o=wn()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return r.type=function(o){return arguments.length?(t=typeof o=="function"?o:xt(o),r):t},r.size=function(o){return arguments.length?(e=typeof o=="function"?o:xt(+o),r):e},r.context=function(o){return arguments.length?(n=o==null?null:o,r):n},r}function mn(){}function uo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Yo(t){this._context=t}Yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bC(t){return new Yo(t)}function x0(t){this._context=t}x0.prototype={areaStart:mn,areaEnd:mn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SC(t){return new x0(t)}function w0(t){this._context=t}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TC(t){return new w0(t)}function b0(t,e){this._basis=new Yo(t),this._beta=e}b0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],u=t[n]-r,l=e[n]-o,f=-1,h;++f<=n;)h=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+h*u),this._beta*e[f]+(1-this._beta)*(o+h*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var AC=function t(e){function n(r){return e===1?new Yo(r):new b0(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function co(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Uc(t,e){this._context=t,this._k=(1-e)/6}Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:co(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:co(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var CC=function t(e){function n(r){return new Uc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Wc(t,e){this._context=t,this._k=(1-e)/6}Wc.prototype={areaStart:mn,areaEnd:mn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:co(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $C=function t(e){function n(r){return new Wc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function qc(t,e){this._context=t,this._k=(1-e)/6}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:co(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var PC=function t(e){function n(r){return new qc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Qc(t,e,n){var r=t._x1,o=t._y1,u=t._x2,l=t._y2;if(t._l01_a>jt){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>jt){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,y=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*d+t._x1*t._l23_2a-e*t._l12_2a)/y,l=(l*d+t._y1*t._l23_2a-n*t._l12_2a)/y}t._context.bezierCurveTo(r,o,u,l,t._x2,t._y2)}function S0(t,e){this._context=t,this._alpha=e}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Qc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var LC=function t(e){function n(r){return e?new S0(r,e):new Uc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function T0(t,e){this._context=t,this._alpha=e}T0.prototype={areaStart:mn,areaEnd:mn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Qc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var MC=function t(e){function n(r){return e?new T0(r,e):new Wc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function A0(t,e){this._context=t,this._alpha=e}A0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var EC=function t(e){function n(r){return e?new A0(r,e):new qc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function C0(t){this._context=t}C0.prototype={areaStart:mn,areaEnd:mn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kC(t){return new C0(t)}function sh(t){return t<0?-1:1}function uh(t,e,n){var r=t._x1-t._x0,o=e-t._x1,u=(t._y1-t._y0)/(r||o<0&&-0),l=(n-t._y1)/(o||r<0&&-0),f=(u*o+l*r)/(r+o);return(sh(u)+sh(l))*Math.min(Math.abs(u),Math.abs(l),.5*Math.abs(f))||0}function ch(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gs(t,e,n){var r=t._x0,o=t._y0,u=t._x1,l=t._y1,f=(u-r)/3;t._context.bezierCurveTo(r+f,o+f*e,u-f,l-f*n,u,l)}function lo(t){this._context=t}lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gs(this,this._t0,ch(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gs(this,ch(this,n=uh(this,t,e)),n);break;default:Gs(this,this._t0,n=uh(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $0(t){this._context=new P0(t)}($0.prototype=Object.create(lo.prototype)).point=function(t,e){lo.prototype.point.call(this,e,t)};function P0(t){this._context=t}P0.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,u){this._context.bezierCurveTo(e,t,r,n,u,o)}};function RC(t){return new lo(t)}function DC(t){return new $0(t)}function L0(t){this._context=t}L0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=lh(t),o=lh(e),u=0,l=1;l<n;++u,++l)this._context.bezierCurveTo(r[0][u],o[0][u],r[1][u],o[1][u],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lh(t){var e,n=t.length-1,r,o=new Array(n),u=new Array(n),l=new Array(n);for(o[0]=0,u[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,u[e]=4,l[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,u[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/u[e-1],u[e]-=r,l[e]-=r*l[e-1];for(o[n-1]=l[n-1]/u[n-1],e=n-2;e>=0;--e)o[e]=(l[e]-o[e+1])/u[e];for(u[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)u[e]=2*t[e+1]-o[e+1];return[o,u]}function GC(t){return new L0(t)}function Ho(t,e){this._context=t,this._t=e}Ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function VC(t){return new Ho(t,.5)}function NC(t){return new Ho(t,0)}function IC(t){return new Ho(t,1)}function Ti(t,e){if((l=t.length)>1)for(var n=1,r,o,u=t[e[0]],l,f=u.length;n<l;++n)for(o=u,u=t[e[n]],r=0;r<f;++r)u[r][1]+=u[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Ai(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function FC(t,e){return t[e]}function OC(){var t=xt([]),e=Ai,n=Ti,r=FC;function o(u){var l=t.apply(this,arguments),f,h=u.length,d=l.length,y=new Array(d),_;for(f=0;f<d;++f){for(var g=l[f],v=y[f]=new Array(h),w=0,b;w<h;++w)v[w]=b=[0,+r(u[w],g,w,u)],b.data=u[w];v.key=g}for(f=0,_=e(y);f<d;++f)y[_[f]].index=f;return n(y,_),y}return o.keys=function(u){return arguments.length?(t=typeof u=="function"?u:xt(ku.call(u)),o):t},o.value=function(u){return arguments.length?(r=typeof u=="function"?u:xt(+u),o):r},o.order=function(u){return arguments.length?(e=u==null?Ai:typeof u=="function"?u:xt(ku.call(u)),o):e},o.offset=function(u){return arguments.length?(n=u==null?Ti:u,o):n},o}function zC(t,e){if((r=t.length)>0){for(var n,r,o=0,u=t[0].length,l;o<u;++o){for(l=n=0;n<r;++n)l+=t[n][o][1]||0;if(l)for(n=0;n<r;++n)t[n][o][1]/=l}Ti(t,e)}}function BC(t,e){if((h=t.length)>0)for(var n,r=0,o,u,l,f,h,d=t[e[0]].length;r<d;++r)for(l=f=0,n=0;n<h;++n)(u=(o=t[e[n]][r])[1]-o[0])>0?(o[0]=l,o[1]=l+=u):u<0?(o[1]=f,o[0]=f+=u):(o[0]=0,o[1]=u)}function XC(t,e){if((o=t.length)>0){for(var n=0,r=t[e[0]],o,u=r.length;n<u;++n){for(var l=0,f=0;l<o;++l)f+=t[l][n][1]||0;r[n][1]+=r[n][0]=-f/2}Ti(t,e)}}function YC(t,e){if(!(!((l=t.length)>0)||!((u=(o=t[e[0]]).length)>0))){for(var n=0,r=1,o,u,l;r<u;++r){for(var f=0,h=0,d=0;f<l;++f){for(var y=t[e[f]],_=y[r][1]||0,g=y[r-1][1]||0,v=(_-g)/2,w=0;w<f;++w){var b=t[e[w]],T=b[r][1]||0,A=b[r-1][1]||0;v+=T-A}h+=_,d+=v*_}o[r-1][1]+=o[r-1][0]=n,h&&(n-=d/h)}o[r-1][1]+=o[r-1][0]=n,Ti(t,e)}}function M0(t){var e=t.map(HC);return Ai(t).sort(function(n,r){return e[n]-e[r]})}function HC(t){for(var e=-1,n=0,r=t.length,o,u=-1/0;++e<r;)(o=+t[e][1])>u&&(u=o,n=e);return n}function E0(t){var e=t.map(k0);return Ai(t).sort(function(n,r){return e[n]-e[r]})}function k0(t){for(var e=0,n=-1,r=t.length,o;++n<r;)(o=+t[n][1])&&(e+=o);return e}function UC(t){return E0(t).reverse()}function WC(t){var e=t.length,n,r,o=t.map(k0),u=M0(t),l=0,f=0,h=[],d=[];for(n=0;n<e;++n)r=u[n],l<f?(l+=o[r],h.push(r)):(f+=o[r],d.push(r));return d.reverse().concat(h)}function qC(t){return Ai(t).reverse()}function fh(t){return function(){return t}}function QC(t){return t[0]}function ZC(t){return t[1]}function fo(){this._=null}function Uo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}fo.prototype={constructor:fo,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hh(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Ii(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Fi(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(Fi(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Ii(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,o=t.R,u,l;if(r?o?u=hh(o):u=r:u=o,e?e.L===t?e.L=u:e.R=u:this._=u,r&&o?(l=u.C,u.C=t.C,u.L=r,r.U=u,u!==o?(e=u.U,u.U=t.U,t=u.R,e.L=t,u.R=o,o.U=u):(u.U=e,e=u,t=u.R)):(l=t.C,t=u),t&&(t.U=e),!l){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,Ii(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Fi(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,Ii(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,Fi(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Ii(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,Fi(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function Ii(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Fi(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function hh(t){for(;t.L;)t=t.L;return t}function ir(t,e,n,r){var o=[null,null],u=Jt.push(o)-1;return o.left=t,o.right=e,n&&ho(o,t,e,n),r&&ho(o,e,t,r),me[t.index].halfedges.push(u),me[e.index].halfedges.push(u),o}function Oi(t,e,n){var r=[e,n];return r.left=t,r}function ho(t,e,n,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=n):t.left===n?t[1]=r:t[0]=r}function jC(t,e,n,r,o){var u=t[0],l=t[1],f=u[0],h=u[1],d=l[0],y=l[1],_=0,g=1,v=d-f,w=y-h,b;if(b=e-f,!(!v&&b>0)){if(b/=v,v<0){if(b<_)return;b<g&&(g=b)}else if(v>0){if(b>g)return;b>_&&(_=b)}if(b=r-f,!(!v&&b<0)){if(b/=v,v<0){if(b>g)return;b>_&&(_=b)}else if(v>0){if(b<_)return;b<g&&(g=b)}if(b=n-h,!(!w&&b>0)){if(b/=w,w<0){if(b<_)return;b<g&&(g=b)}else if(w>0){if(b>g)return;b>_&&(_=b)}if(b=o-h,!(!w&&b<0)){if(b/=w,w<0){if(b>g)return;b>_&&(_=b)}else if(w>0){if(b<_)return;b<g&&(g=b)}return!(_>0)&&!(g<1)||(_>0&&(t[0]=[f+_*v,h+_*w]),g<1&&(t[1]=[f+g*v,h+g*w])),!0}}}}}function JC(t,e,n,r,o){var u=t[1];if(u)return!0;var l=t[0],f=t.left,h=t.right,d=f[0],y=f[1],_=h[0],g=h[1],v=(d+_)/2,w=(y+g)/2,b,T;if(g===y){if(v<e||v>=r)return;if(d>_){if(!l)l=[v,n];else if(l[1]>=o)return;u=[v,o]}else{if(!l)l=[v,o];else if(l[1]<n)return;u=[v,n]}}else if(b=(d-_)/(g-y),T=w-b*v,b<-1||b>1)if(d>_){if(!l)l=[(n-T)/b,n];else if(l[1]>=o)return;u=[(o-T)/b,o]}else{if(!l)l=[(o-T)/b,o];else if(l[1]<n)return;u=[(n-T)/b,n]}else if(y<g){if(!l)l=[e,b*e+T];else if(l[0]>=r)return;u=[r,b*r+T]}else{if(!l)l=[r,b*r+T];else if(l[0]<e)return;u=[e,b*e+T]}return t[0]=l,t[1]=u,!0}function KC(t,e,n,r){for(var o=Jt.length,u;o--;)(!JC(u=Jt[o],t,e,n,r)||!jC(u,t,e,n,r)||!(Math.abs(u[0][0]-u[1][0])>$t||Math.abs(u[0][1]-u[1][1])>$t))&&delete Jt[o]}function t5(t){return me[t.index]={site:t,halfedges:[]}}function e5(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function R0(t,e){return e[+(e.left!==t.site)]}function n5(t,e){return e[+(e.left===t.site)]}function i5(){for(var t=0,e=me.length,n,r,o,u;t<e;++t)if((n=me[t])&&(u=(r=n.halfedges).length)){var l=new Array(u),f=new Array(u);for(o=0;o<u;++o)l[o]=o,f[o]=e5(n,Jt[r[o]]);for(l.sort(function(h,d){return f[d]-f[h]}),o=0;o<u;++o)f[o]=r[l[o]];for(o=0;o<u;++o)r[o]=f[o]}}function r5(t,e,n,r){var o=me.length,u,l,f,h,d,y,_,g,v,w,b,T,A=!0;for(u=0;u<o;++u)if(l=me[u]){for(f=l.site,d=l.halfedges,h=d.length;h--;)Jt[d[h]]||d.splice(h,1);for(h=0,y=d.length;h<y;)w=n5(l,Jt[d[h]]),b=w[0],T=w[1],_=R0(l,Jt[d[++h%y]]),g=_[0],v=_[1],(Math.abs(b-g)>$t||Math.abs(T-v)>$t)&&(d.splice(h,0,Jt.push(Oi(f,w,Math.abs(b-t)<$t&&r-T>$t?[t,Math.abs(g-t)<$t?v:r]:Math.abs(T-r)<$t&&n-b>$t?[Math.abs(v-r)<$t?g:n,r]:Math.abs(b-n)<$t&&T-e>$t?[n,Math.abs(g-n)<$t?v:e]:Math.abs(T-e)<$t&&b-t>$t?[Math.abs(v-e)<$t?g:t,e]:null))-1),++y);y&&(A=!1)}if(A){var E,L,R,I=1/0;for(u=0,A=null;u<o;++u)(l=me[u])&&(f=l.site,E=f[0]-t,L=f[1]-e,R=E*E+L*L,R<I&&(I=R,A=l));if(A){var H=[t,e],z=[t,r],q=[n,r],Y=[n,e];A.halfedges.push(Jt.push(Oi(f=A.site,H,z))-1,Jt.push(Oi(f,z,q))-1,Jt.push(Oi(f,q,Y))-1,Jt.push(Oi(f,Y,H))-1)}}for(u=0;u<o;++u)(l=me[u])&&(l.halfedges.length||delete me[u])}var D0=[],Zc;function a5(){Uo(this),this.x=this.y=this.arc=this.site=this.cy=null}function si(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,o=t.site,u=n.site;if(r!==u){var l=o[0],f=o[1],h=r[0]-l,d=r[1]-f,y=u[0]-l,_=u[1]-f,g=2*(h*_-d*y);if(!(g>=-l5)){var v=h*h+d*d,w=y*y+_*_,b=(_*v-d*w)/g,T=(h*w-y*v)/g,A=D0.pop()||new a5;A.arc=t,A.site=o,A.x=b+l,A.y=(A.cy=T+f)+Math.sqrt(b*b+T*T),t.circle=A;for(var E=null,L=Mr._;L;)if(A.y<L.y||A.y===L.y&&A.x<=L.x)if(L.L)L=L.L;else{E=L.P;break}else if(L.R)L=L.R;else{E=L;break}Mr.insert(E,A),E||(Zc=A)}}}}function di(t){var e=t.circle;e&&(e.P||(Zc=e.N),Mr.remove(e),D0.push(e),Uo(e),t.circle=null)}var G0=[];function o5(){Uo(this),this.edge=this.site=this.circle=null}function dh(t){var e=G0.pop()||new o5;return e.site=t,e}function Vs(t){di(t),pi.remove(t),G0.push(t),Uo(t)}function s5(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],u=t.P,l=t.N,f=[t];Vs(t);for(var h=u;h.circle&&Math.abs(n-h.circle.x)<$t&&Math.abs(r-h.circle.cy)<$t;)u=h.P,f.unshift(h),Vs(h),h=u;f.unshift(h),di(h);for(var d=l;d.circle&&Math.abs(n-d.circle.x)<$t&&Math.abs(r-d.circle.cy)<$t;)l=d.N,f.push(d),Vs(d),d=l;f.push(d),di(d);var y=f.length,_;for(_=1;_<y;++_)d=f[_],h=f[_-1],ho(d.edge,h.site,d.site,o);h=f[0],d=f[y-1],d.edge=ir(h.site,d.site,null,o),si(h),si(d)}function u5(t){for(var e=t[0],n=t[1],r,o,u,l,f=pi._;f;)if(u=V0(f,n)-e,u>$t)f=f.L;else if(l=e-c5(f,n),l>$t){if(!f.R){r=f;break}f=f.R}else{u>-$t?(r=f.P,o=f):l>-$t?(r=f,o=f.N):r=o=f;break}t5(t);var h=dh(t);if(pi.insert(r,h),!(!r&&!o)){if(r===o){di(r),o=dh(r.site),pi.insert(h,o),h.edge=o.edge=ir(r.site,h.site),si(r),si(o);return}if(!o){h.edge=ir(r.site,h.site);return}di(r),di(o);var d=r.site,y=d[0],_=d[1],g=t[0]-y,v=t[1]-_,w=o.site,b=w[0]-y,T=w[1]-_,A=2*(g*T-v*b),E=g*g+v*v,L=b*b+T*T,R=[(T*E-v*L)/A+y,(g*L-b*E)/A+_];ho(o.edge,d,w,R),h.edge=ir(d,t,null,R),o.edge=ir(t,w,null,R),si(r),si(o)}}function V0(t,e){var n=t.site,r=n[0],o=n[1],u=o-e;if(!u)return r;var l=t.P;if(!l)return-1/0;n=l.site;var f=n[0],h=n[1],d=h-e;if(!d)return f;var y=f-r,_=1/u-1/d,g=y/d;return _?(-g+Math.sqrt(g*g-2*_*(y*y/(-2*d)-h+d/2+o-u/2)))/_+r:(r+f)/2}function c5(t,e){var n=t.N;if(n)return V0(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var $t=1e-6,l5=1e-12,pi,me,Mr,Jt;function f5(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function h5(t,e){return e[1]-t[1]||e[0]-t[0]}function Du(t,e){var n=t.sort(h5).pop(),r,o,u;for(Jt=[],me=new Array(t.length),pi=new fo,Mr=new fo;;)if(u=Zc,n&&(!u||n[1]<u.y||n[1]===u.y&&n[0]<u.x))(n[0]!==r||n[1]!==o)&&(u5(n),r=n[0],o=n[1]),n=t.pop();else if(u)s5(u.arc);else break;if(i5(),e){var l=+e[0][0],f=+e[0][1],h=+e[1][0],d=+e[1][1];KC(l,f,h,d),r5(l,f,h,d)}this.edges=Jt,this.cells=me,pi=Mr=Jt=me=null}Du.prototype={constructor:Du,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return R0(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(!!(f=(u=n.halfedges).length))for(var o=n.site,u,l=-1,f,h,d=e[u[f-1]],y=d.left===o?d.right:d.left;++l<f;)h=y,d=e[u[l]],y=d.left===o?d.right:d.left,h&&y&&r<h.index&&r<y.index&&f5(o,h,y)<0&&t.push([o.data,h.data,y.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r=this,o,u=r._found||0,l=r.cells.length,f;!(f=r.cells[u]);)if(++u>=l)return null;var h=t-f.site[0],d=e-f.site[1],y=h*h+d*d;do f=r.cells[o=u],u=null,f.halfedges.forEach(function(_){var g=r.edges[_],v=g.left;if(!((v===f.site||!v)&&!(v=g.right))){var w=t-v[0],b=e-v[1],T=w*w+b*b;T<y&&(y=T,u=v.index)}});while(u!==null);return r._found=o,n==null||y<=n*n?f.site:null}};function d5(){var t=QC,e=ZC,n=null;function r(o){return new Du(o.map(function(u,l){var f=[Math.round(t(u,l,o)/$t)*$t,Math.round(e(u,l,o)/$t)*$t];return f.index=l,f.data=u,f}),n)}return r.polygons=function(o){return r(o).polygons()},r.links=function(o){return r(o).links()},r.triangles=function(o){return r(o).triangles()},r.x=function(o){return arguments.length?(t=typeof o=="function"?o:fh(+o),r):t},r.y=function(o){return arguments.length?(e=typeof o=="function"?o:fh(+o),r):e},r.extent=function(o){return arguments.length?(n=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(o){return arguments.length?(n=o==null?null:[[0,0],[+o[0],+o[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function aa(t){return function(){return t}}function p5(t,e,n){this.target=t,this.type=e,this.transform=n}function Je(t,e,n){this.k=t,this.x=e,this.y=n}Je.prototype={constructor:Je,scale:function(t){return t===1?this:new Je(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Je(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wo=new Je(1,0,0);N0.prototype=Je.prototype;function N0(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Wo;return t.__zoom}function Ns(){nt.stopImmediatePropagation()}function zi(){nt.preventDefault(),nt.stopImmediatePropagation()}function g5(){return!nt.ctrlKey&&!nt.button}function y5(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ph(){return this.__zoom||Wo}function _5(){return-nt.deltaY*(nt.deltaMode===1?.05:nt.deltaMode?1:.002)}function m5(){return navigator.maxTouchPoints||"ontouchstart"in this}function v5(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],u=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>u?(u+l)/2:Math.min(0,u)||Math.max(0,l))}function x5(){var t=g5,e=y5,n=v5,r=_5,o=m5,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],f=250,h=hd,d=Yn("start","zoom","end"),y,_,g=500,v=150,w=0;function b(M){M.property("__zoom",ph).on("wheel.zoom",H).on("mousedown.zoom",z).on("dblclick.zoom",q).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(M,O,Z){var X=M.selection?M.selection():M;X.property("__zoom",ph),M!==X?L(M,O,Z):X.interrupt().each(function(){R(this,arguments).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},b.scaleBy=function(M,O,Z){b.scaleTo(M,function(){var X=this.__zoom.k,Q=typeof O=="function"?O.apply(this,arguments):O;return X*Q},Z)},b.scaleTo=function(M,O,Z){b.transform(M,function(){var X=e.apply(this,arguments),Q=this.__zoom,et=Z==null?E(X):typeof Z=="function"?Z.apply(this,arguments):Z,tt=Q.invert(et),i=typeof O=="function"?O.apply(this,arguments):O;return n(A(T(Q,i),et,tt),X,l)},Z)},b.translateBy=function(M,O,Z){b.transform(M,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),l)})},b.translateTo=function(M,O,Z,X){b.transform(M,function(){var Q=e.apply(this,arguments),et=this.__zoom,tt=X==null?E(Q):typeof X=="function"?X.apply(this,arguments):X;return n(Wo.translate(tt[0],tt[1]).scale(et.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof Z=="function"?-Z.apply(this,arguments):-Z),Q,l)},X)};function T(M,O){return O=Math.max(u[0],Math.min(u[1],O)),O===M.k?M:new Je(O,M.x,M.y)}function A(M,O,Z){var X=O[0]-Z[0]*M.k,Q=O[1]-Z[1]*M.k;return X===M.x&&Q===M.y?M:new Je(M.k,X,Q)}function E(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function L(M,O,Z){M.on("start.zoom",function(){R(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).end()}).tween("zoom",function(){var X=this,Q=arguments,et=R(X,Q),tt=e.apply(X,Q),i=Z==null?E(tt):typeof Z=="function"?Z.apply(X,Q):Z,a=Math.max(tt[1][0]-tt[0][0],tt[1][1]-tt[0][1]),s=X.__zoom,c=typeof O=="function"?O.apply(X,Q):O,p=h(s.invert(i).concat(a/s.k),c.invert(i).concat(a/c.k));return function(m){if(m===1)m=c;else{var x=p(m),C=a/x[2];m=new Je(C,i[0]-x[0]*C,i[1]-x[1]*C)}et.zoom(null,m)}})}function R(M,O,Z){return!Z&&M.__zooming||new I(M,O)}function I(M,O){this.that=M,this.args=O,this.active=0,this.extent=e.apply(M,O),this.taps=0}I.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,O){return this.mouse&&M!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){hr(new p5(b,M,this.that.__zoom),d.apply,d,[M,this.that,this.args])}};function H(){if(!t.apply(this,arguments))return;var M=R(this,arguments),O=this.__zoom,Z=Math.max(u[0],Math.min(u[1],O.k*Math.pow(2,r.apply(this,arguments)))),X=Ln(this);if(M.wheel)(M.mouse[0][0]!==X[0]||M.mouse[0][1]!==X[1])&&(M.mouse[1]=O.invert(M.mouse[0]=X)),clearTimeout(M.wheel);else{if(O.k===Z)return;M.mouse=[X,O.invert(X)],En(this),M.start()}zi(),M.wheel=setTimeout(Q,v),M.zoom("mouse",n(A(T(O,Z),M.mouse[0],M.mouse[1]),M.extent,l));function Q(){M.wheel=null,M.end()}}function z(){if(_||!t.apply(this,arguments))return;var M=R(this,arguments,!0),O=pe(nt.view).on("mousemove.zoom",et,!0).on("mouseup.zoom",tt,!0),Z=Ln(this),X=nt.clientX,Q=nt.clientY;vo(nt.view),Ns(),M.mouse=[Z,this.__zoom.invert(Z)],En(this),M.start();function et(){if(zi(),!M.moved){var i=nt.clientX-X,a=nt.clientY-Q;M.moved=i*i+a*a>w}M.zoom("mouse",n(A(M.that.__zoom,M.mouse[0]=Ln(M.that),M.mouse[1]),M.extent,l))}function tt(){O.on("mousemove.zoom mouseup.zoom",null),xo(nt.view,M.moved),zi(),M.end()}}function q(){if(!!t.apply(this,arguments)){var M=this.__zoom,O=Ln(this),Z=M.invert(O),X=M.k*(nt.shiftKey?.5:2),Q=n(A(T(M,X),O,Z),e.apply(this,arguments),l);zi(),f>0?pe(this).transition().duration(f).call(L,Q,O):pe(this).call(b.transform,Q)}}function Y(){if(!!t.apply(this,arguments)){var M=nt.touches,O=M.length,Z=R(this,arguments,nt.changedTouches.length===O),X,Q,et,tt;for(Ns(),Q=0;Q<O;++Q)et=M[Q],tt=dr(this,M,et.identifier),tt=[tt,this.__zoom.invert(tt),et.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==tt[2]&&(Z.touch1=tt,Z.taps=0):(Z.touch0=tt,X=!0,Z.taps=1+!!y);y&&(y=clearTimeout(y)),X&&(Z.taps<2&&(y=setTimeout(function(){y=null},g)),En(this),Z.start())}}function S(){if(!!this.__zooming){var M=R(this,arguments),O=nt.changedTouches,Z=O.length,X,Q,et,tt;for(zi(),y&&(y=clearTimeout(y)),M.taps=0,X=0;X<Z;++X)Q=O[X],et=dr(this,O,Q.identifier),M.touch0&&M.touch0[2]===Q.identifier?M.touch0[0]=et:M.touch1&&M.touch1[2]===Q.identifier&&(M.touch1[0]=et);if(Q=M.that.__zoom,M.touch1){var i=M.touch0[0],a=M.touch0[1],s=M.touch1[0],c=M.touch1[1],p=(p=s[0]-i[0])*p+(p=s[1]-i[1])*p,m=(m=c[0]-a[0])*m+(m=c[1]-a[1])*m;Q=T(Q,Math.sqrt(p/m)),et=[(i[0]+s[0])/2,(i[1]+s[1])/2],tt=[(a[0]+c[0])/2,(a[1]+c[1])/2]}else if(M.touch0)et=M.touch0[0],tt=M.touch0[1];else return;M.zoom("touch",n(A(Q,et,tt),M.extent,l))}}function F(){if(!!this.__zooming){var M=R(this,arguments),O=nt.changedTouches,Z=O.length,X,Q;for(Ns(),_&&clearTimeout(_),_=setTimeout(function(){_=null},g),X=0;X<Z;++X)Q=O[X],M.touch0&&M.touch0[2]===Q.identifier?delete M.touch0:M.touch1&&M.touch1[2]===Q.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2){var et=pe(this).on("dblclick.zoom");et&&et.apply(this,arguments)}}}return b.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:aa(+M),b):r},b.filter=function(M){return arguments.length?(t=typeof M=="function"?M:aa(!!M),b):t},b.touchable=function(M){return arguments.length?(o=typeof M=="function"?M:aa(!!M),b):o},b.extent=function(M){return arguments.length?(e=typeof M=="function"?M:aa([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),b):e},b.scaleExtent=function(M){return arguments.length?(u[0]=+M[0],u[1]=+M[1],b):[u[0],u[1]]},b.translateExtent=function(M){return arguments.length?(l[0][0]=+M[0][0],l[1][0]=+M[1][0],l[0][1]=+M[0][1],l[1][1]=+M[1][1],b):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},b.constrain=function(M){return arguments.length?(n=M,b):n},b.duration=function(M){return arguments.length?(f=+M,b):f},b.interpolate=function(M){return arguments.length?(h=M,b):h},b.on=function(){var M=d.on.apply(d,arguments);return M===d?b:M},b.clickDistance=function(M){return arguments.length?(w=(M=+M)*M,b):Math.sqrt(w)},b}var w5=Object.freeze(Object.defineProperty({__proto__:null,version:m_,bisect:dn,bisectRight:dn,bisectLeft:x_,ascending:vn,bisector:Nu,cross:b_,descending:S_,deviation:Ah,extent:Iu,histogram:$_,thresholdFreedmanDiaconis:P_,thresholdScott:L_,thresholdSturges:Ou,max:$h,mean:M_,median:E_,merge:zu,min:Ph,pairs:w_,permute:k_,quantile:fr,range:ve,scan:R_,shuffle:D_,sum:G_,ticks:Fu,tickIncrement:ar,tickStep:kn,transpose:Lh,variance:Th,zip:N_,axisTop:Y_,axisRight:H_,axisBottom:U_,axisLeft:W_,brush:Kx,brushX:jx,brushY:Jx,brushSelection:Zx,chord:ew,ribbon:cw,nest:lw,set:$d,map:Ke,keys:dw,values:pw,entries:gw,color:gn,rgb:yi,hsl:va,lab:wa,hcl:ba,lch:V1,gray:G1,cubehelix:ke,contours:Ld,contourDensity:Pw,dispatch:Yn,drag:A1,dragDisable:vo,dragEnable:xo,dsvFormat:Po,csvParse:Ed,csvParseRows:kw,csvFormat:Rw,csvFormatBody:Dw,csvFormatRows:Gw,csvFormatRow:Vw,csvFormatValue:Nw,tsvParse:kd,tsvParseRows:Iw,tsvFormat:Fw,tsvFormatBody:Ow,tsvFormatRows:zw,tsvFormatRow:Bw,tsvFormatValue:Xw,autoType:Yw,easeLinear:lx,easeQuad:wl,easeQuadIn:fx,easeQuadOut:hx,easeQuadInOut:wl,easeCubic:Ks,easeCubicIn:dx,easeCubicOut:px,easeCubicInOut:Ks,easePoly:bl,easePolyIn:gx,easePolyOut:yx,easePolyInOut:bl,easeSin:Sl,easeSinIn:_x,easeSinOut:mx,easeSinInOut:Sl,easeExp:Tl,easeExpIn:vx,easeExpOut:xx,easeExpInOut:Tl,easeCircle:Al,easeCircleIn:wx,easeCircleOut:bx,easeCircleInOut:Al,easeBounce:vr,easeBounceIn:Ex,easeBounceOut:vr,easeBounceInOut:kx,easeBack:Cl,easeBackIn:Rx,easeBackOut:Dx,easeBackInOut:Cl,easeElastic:$l,easeElasticIn:Gx,easeElasticOut:$l,easeElasticInOut:Vx,blob:Ww,buffer:Qw,dsv:jw,csv:Jw,tsv:Kw,image:tb,json:nb,text:Lo,xml:ib,html:rb,svg:ab,forceCenter:ob,forceCollide:Ab,forceLink:$b,forceManyBody:Rb,forceRadial:Db,forceSimulation:kb,forceX:Gb,forceY:Vb,formatDefaultLocale:Nd,get format(){return ko},get formatPrefix(){return uc},formatLocale:Vd,formatSpecifier:wr,FormatSpecifier:Eo,precisionFixed:Id,precisionPrefix:Fd,precisionRound:Od,geoArea:Ub,geoBounds:Zb,geoCentroid:n2,geoCircle:i2,geoClipAntimeridian:yu,geoClipCircle:ap,geoClipExtent:l2,geoClipRectangle:Ro,geoContains:_2,geoDistance:Ya,geoGraticule:up,geoGraticule10:m2,geoInterpolate:v2,geoLength:op,geoPath:E2,geoAlbers:wp,geoAlbersUsa:z2,geoAzimuthalEqualArea:B2,geoAzimuthalEqualAreaRaw:mc,geoAzimuthalEquidistant:X2,geoAzimuthalEquidistantRaw:vc,geoConicConformal:H2,geoConicConformalRaw:Tp,geoConicEqualArea:Ja,geoConicEqualAreaRaw:xp,geoConicEquidistant:W2,geoConicEquidistantRaw:Ap,geoEqualEarth:Q2,geoEqualEarthRaw:xc,geoEquirectangular:U2,geoEquirectangularRaw:Tr,geoGnomonic:Z2,geoGnomonicRaw:wc,geoIdentity:j2,geoProjection:We,geoProjectionMutator:yc,geoMercator:Y2,geoMercatorRaw:Nr,geoNaturalEarth1:J2,geoNaturalEarth1Raw:bc,geoOrthographic:K2,geoOrthographicRaw:Sc,geoStereographic:tS,geoStereographicRaw:Tc,geoTransverseMercator:eS,geoTransverseMercatorRaw:Ac,geoRotation:Kd,geoStream:Pe,geoTransform:k2,cluster:cS,hierarchy:Cc,pack:DS,packSiblings:ES,packEnclose:$p,partition:GS,stratify:FS,tree:HS,treemap:US,treemapBinary:WS,treemapDice:Ir,treemapSlice:Go,treemapSliceDice:qS,treemapSquarify:Dp,treemapResquarify:QS,interpolate:Rr,interpolateArray:z1,interpolateBasis:Jh,interpolateBasisClosed:Kh,interpolateDate:ad,interpolateDiscrete:Y1,interpolateHue:H1,interpolateNumber:Te,interpolateNumberArray:ju,interpolateObject:od,interpolateRound:sd,interpolateString:Ju,interpolateTransformCss:ld,interpolateTransformSvg:fd,interpolateZoom:hd,interpolateRgb:yr,interpolateRgbBasis:nd,interpolateRgbBasisClosed:O1,interpolateHsl:j1,interpolateHslLong:J1,interpolateLab:K1,interpolateHcl:tv,interpolateHclLong:ev,interpolateCubehelix:nv,interpolateCubehelixLong:To,piecewise:iv,quantize:rv,path:wn,polygonArea:ZS,polygonCentroid:jS,polygonHull:tT,polygonContains:eT,polygonLength:nT,quadtree:Mo,randomUniform:iT,randomNormal:Gp,randomLogNormal:rT,randomBates:aT,randomIrwinHall:Vp,randomExponential:oT,scaleBand:Pc,scalePoint:sT,scaleIdentity:Bp,scaleLinear:zp,scaleLog:Yp,scaleSymlog:Hp,scaleOrdinal:$c,scaleImplicit:Lu,scalePow:kc,scaleSqrt:mT,scaleQuantile:Up,scaleQuantize:Wp,scaleThreshold:qp,scaleTime:QA,scaleUtc:ZA,scaleSequential:Pg,scaleSequentialLog:Lg,scaleSequentialPow:Ic,scaleSequentialSqrt:jA,scaleSequentialSymlog:Mg,scaleSequentialQuantile:Eg,scaleDiverging:kg,scaleDivergingLog:Rg,scaleDivergingPow:Fc,scaleDivergingSqrt:JA,scaleDivergingSymlog:Dg,tickFormat:Op,schemeCategory10:KA,schemeAccent:t3,schemeDark2:e3,schemePaired:n3,schemePastel1:i3,schemePastel2:r3,schemeSet1:a3,schemeSet2:o3,schemeSet3:s3,schemeTableau10:u3,interpolateBrBG:c3,schemeBrBG:Gg,interpolatePRGn:l3,schemePRGn:Vg,interpolatePiYG:f3,schemePiYG:Ng,interpolatePuOr:h3,schemePuOr:Ig,interpolateRdBu:d3,schemeRdBu:Fg,interpolateRdGy:p3,schemeRdGy:Og,interpolateRdYlBu:g3,schemeRdYlBu:zg,interpolateRdYlGn:y3,schemeRdYlGn:Bg,interpolateSpectral:_3,schemeSpectral:Xg,interpolateBuGn:m3,schemeBuGn:Yg,interpolateBuPu:v3,schemeBuPu:Hg,interpolateGnBu:x3,schemeGnBu:Ug,interpolateOrRd:w3,schemeOrRd:Wg,interpolatePuBuGn:b3,schemePuBuGn:qg,interpolatePuBu:S3,schemePuBu:Qg,interpolatePuRd:T3,schemePuRd:Zg,interpolateRdPu:A3,schemeRdPu:jg,interpolateYlGnBu:C3,schemeYlGnBu:Jg,interpolateYlGn:$3,schemeYlGn:Kg,interpolateYlOrBr:P3,schemeYlOrBr:t0,interpolateYlOrRd:L3,schemeYlOrRd:e0,interpolateBlues:M3,schemeBlues:n0,interpolateGreens:E3,schemeGreens:i0,interpolateGreys:k3,schemeGreys:r0,interpolatePurples:R3,schemePurples:a0,interpolateReds:D3,schemeReds:o0,interpolateOranges:G3,schemeOranges:s0,interpolateCividis:V3,interpolateCubehelixDefault:N3,interpolateRainbow:O3,interpolateWarm:I3,interpolateCool:F3,interpolateSinebow:X3,interpolateTurbo:Y3,interpolateViridis:H3,interpolateMagma:U3,interpolateInferno:W3,interpolatePlasma:q3,create:_1,creator:yo,local:Ih,matcher:Xu,mouse:Ln,namespace:Er,namespaces:Xs,clientPoint:mo,select:pe,selectAll:v1,selection:Hn,selector:_o,selectorAll:Bu,style:Rn,touch:dr,touches:x1,window:Yu,get event(){return nt},customEvent:hr,arc:iC,area:c0,line:Bc,pie:oC,areaRadial:oh,radialArea:oh,lineRadial:ah,radialLine:ah,pointRadial:nr,linkHorizontal:hC,linkVertical:dC,linkRadial:pC,symbol:wC,symbols:xC,symbolCircle:Hc,symbolCross:h0,symbolDiamond:p0,symbolSquare:_0,symbolStar:y0,symbolTriangle:m0,symbolWye:v0,curveBasisClosed:SC,curveBasisOpen:TC,curveBasis:bC,curveBundle:AC,curveCardinalClosed:$C,curveCardinalOpen:PC,curveCardinal:CC,curveCatmullRomClosed:MC,curveCatmullRomOpen:EC,curveCatmullRom:LC,curveLinearClosed:kC,curveLinear:Xo,curveMonotoneX:RC,curveMonotoneY:DC,curveNatural:GC,curveStep:VC,curveStepAfter:IC,curveStepBefore:NC,stack:OC,stackOffsetExpand:zC,stackOffsetDiverging:BC,stackOffsetNone:Ti,stackOffsetSilhouette:XC,stackOffsetWiggle:YC,stackOrderAppearance:M0,stackOrderAscending:E0,stackOrderDescending:UC,stackOrderInsideOut:WC,stackOrderNone:Ai,stackOrderReverse:qC,timeInterval:zt,timeMillisecond:io,timeMilliseconds:Bf,utcMillisecond:io,utcMilliseconds:Bf,timeSecond:oo,timeSeconds:Xf,utcSecond:oo,utcSeconds:Xf,timeMinute:Kp,timeMinutes:vT,timeHour:eg,timeHours:xT,timeDay:No,timeDays:wT,timeWeek:Ar,timeWeeks:Yf,timeSunday:Ar,timeSundays:Yf,timeMonday:Cr,timeMondays:bT,timeTuesday:ig,timeTuesdays:ST,timeWednesday:rg,timeWednesdays:TT,timeThursday:On,timeThursdays:AT,timeFriday:ag,timeFridays:CT,timeSaturday:og,timeSaturdays:$T,timeMonth:ug,timeMonths:PT,timeYear:zn,timeYears:LT,utcMinute:lg,utcMinutes:MT,utcHour:hg,utcHours:ET,utcDay:Io,utcDays:kT,utcWeek:$r,utcWeeks:Hf,utcSunday:$r,utcSundays:Hf,utcMonday:Pr,utcMondays:RT,utcTuesday:pg,utcTuesdays:DT,utcWednesday:gg,utcWednesdays:GT,utcThursday:Bn,utcThursdays:VT,utcFriday:yg,utcFridays:NT,utcSaturday:_g,utcSaturdays:IT,utcMonth:vg,utcMonths:FT,utcYear:Xn,utcYears:OT,timeFormatDefaultLocale:Cg,get timeFormat(){return Gc},get timeParse(){return Ag},get utcFormat(){return Fo},get utcParse(){return Vc},timeFormatLocale:xg,isoFormat:BA,isoParse:HA,now:$i,timer:Co,timerFlush:md,timeout:Qs,interval:uv,transition:bd,active:Ox,interrupt:En,voronoi:d5,zoom:x5,zoomTransform:N0,zoomIdentity:Wo},Symbol.toStringTag,{value:"Module"})),b5=O0(w5);/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,e){(function(n,r){t.exports=r()})(z0,function(){function n(i){var a=this;a.d3=window.d3?window.d3:typeof B0!="undefined"?b5:void 0,a.api=i,a.config=a.getDefaultConfig(),a.data={},a.cache={},a.axes={}}function r(i){this.internal=new n(this),this.internal.loadConfig(i),this.internal.beforeInit(i),this.internal.init(),this.internal.afterInit(i),function a(s,c,p){Object.keys(s).forEach(function(m){c[m]=s[m].bind(p),Object.keys(s[m]).length>0&&a(s[m],c[m],p)})}(r.prototype,this,this)}var o=function(i){return Math.ceil(i)+.5},u=function(i){return Math.ceil(i/10)*10},l=function(i){return i[1]-i[0]},f=function(i,a,s){return g(i[a])?i[a]:s},h=function(i){var a=d(i),s=[i.pathSegList.getItem(0),i.pathSegList.getItem(1)],c=s[0].x,p=Math.min(s[0].y,s[1].y);return{x:c,y:p,width:a.width,height:a.height}},d=function(i){try{return i.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},y=function(i,a){var s=!1;return Object.keys(i).forEach(function(c){i[c]===a&&(s=!0)}),s},_=function(i){return Array.isArray(i)},g=function(i){return typeof i!="undefined"},v=function(i){return typeof i=="undefined"||i===null||T(i)&&i.length===0||typeof i=="object"&&Object.keys(i).length===0},w=function(i){return typeof i=="function"},b=function(i){return typeof i=="number"},T=function(i){return typeof i=="string"},A=function(i){return typeof i=="undefined"},E=function(i){return i||i===0},L=function(i){return!v(i)},R=function(i){return typeof i=="string"?i.replace(/</g,"&lt;").replace(/>/g,"&gt;"):i},I=function(i){return Array.isArray(i)?[].concat.apply([],i):[]},H=function(i,a,s){s===void 0&&(s=0);var c=a.x-s,p=a.x+a.width+s,m=a.y+a.height+s,x=a.y-s;return c<i[0]&&i[0]<p&&x<i[1]&&i[1]<m},z=function(i){typeof i=="undefined"&&(i=window.navigator.userAgent);var a=i.indexOf("MSIE ");return a>0?parseInt(i.substring(a+5,i.indexOf(".",a)),10):(a=i.indexOf("Trident/"),a>0?(a=i.indexOf("rv:"),parseInt(i.substring(a+3,i.indexOf(".",a)),10)):!1)},q=function(i){var a=z();return typeof i=="undefined"?!!a:i===a};function Y(i,a){var s=this;s.component=i,s.params=a||{},s.d3=i.d3,s.scale=s.d3.scaleLinear(),s.range,s.orient="bottom",s.innerTickSize=6,s.outerTickSize=this.params.withOuterTick?6:0,s.tickPadding=3,s.tickValues=null,s.tickFormat,s.tickArguments,s.tickOffset=0,s.tickCulling=!0,s.tickCentered,s.tickTextCharSize,s.tickTextRotate=s.params.tickTextRotate,s.tickLength,s.axis=s.generateAxis()}Y.prototype.axisX=function(i,a,s){i.attr("transform",function(c){return"translate("+Math.ceil(a(c)+s)+", 0)"})},Y.prototype.axisY=function(i,a){i.attr("transform",function(s){return"translate(0,"+Math.ceil(a(s))+")"})},Y.prototype.scaleExtent=function(i){var a=i[0],s=i[i.length-1];return a<s?[a,s]:[s,a]},Y.prototype.generateTicks=function(i){var a=this,s,c,p=[];if(i.ticks)return i.ticks.apply(i,a.tickArguments);for(c=i.domain(),s=Math.ceil(c[0]);s<c[1];s++)p.push(s);return p.length>0&&p[0]>0&&p.unshift(p[0]-(p[1]-p[0])),p},Y.prototype.copyScale=function(){var i=this,a=i.scale.copy(),s;return i.params.isCategory&&(s=i.scale.domain(),a.domain([s[0],s[1]-1])),a},Y.prototype.textFormatted=function(i){var a=this,s=a.tickFormat?a.tickFormat(i):i;return typeof s!="undefined"?s:""},Y.prototype.updateRange=function(){var i=this;return i.range=i.scale.rangeExtent?i.scale.rangeExtent():i.scaleExtent(i.scale.range()),i.range},Y.prototype.updateTickTextCharSize=function(i){var a=this;if(a.tickTextCharSize)return a.tickTextCharSize;var s={h:11.5,w:5.5};return i.select("text").text(function(c){return a.textFormatted(c)}).each(function(c){var p=d(this),m=a.textFormatted(c),x=p.height,C=m?p.width/m.length:void 0;x&&C&&(s.h=x,s.w=C)}).text(""),a.tickTextCharSize=s,s},Y.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},Y.prototype.tspanData=function(i,a,s){var c=this,p=c.params.tickMultiline?c.splitTickText(i,s):[].concat(c.textFormatted(i));return c.params.tickMultiline&&c.params.tickMultilineMax>0&&(p=c.ellipsify(p,c.params.tickMultilineMax)),p.map(function(m){return{index:a,splitted:m,length:p.length}})},Y.prototype.splitTickText=function(i,a){var s=this,c=s.textFormatted(i),p=s.params.tickWidth,m,x,C,k=[];if(Object.prototype.toString.call(c)==="[object Array]")return c;(!p||p<=0)&&(p=s.isVertical()?95:s.params.isCategory?Math.ceil(a(1)-a(0))-12:110);function P(D,G){x=void 0;for(var B=1;B<G.length;B++)if(G.charAt(B)===" "&&(x=B),m=G.substr(0,B+1),C=s.tickTextCharSize.w*m.length,p<C)return P(D.concat(G.substr(0,x||B)),G.slice(x?x+1:B));return D.concat(G)}return P(k,c+"")},Y.prototype.ellipsify=function(i,a){if(i.length<=a)return i;for(var s=i.slice(0,a),c=3,p=a-1;p>=0;p--){var m=s[p].length;if(s[p]=s[p].substr(0,m-c).padEnd(m,"."),c-=m,c<=0)break}return s},Y.prototype.updateTickLength=function(){var i=this;i.tickLength=Math.max(i.innerTickSize,0)+i.tickPadding},Y.prototype.lineY2=function(i){var a=this,s=a.scale(i)+(a.tickCentered?0:a.tickOffset);return a.range[0]<s&&s<a.range[1]?a.innerTickSize:0},Y.prototype.textY=function(){var i=this,a=i.tickTextRotate;return a?11.5-2.5*(a/15)*(a>0?1:-1):i.tickLength},Y.prototype.textTransform=function(){var i=this,a=i.tickTextRotate;return a?"rotate("+a+")":""},Y.prototype.textTextAnchor=function(){var i=this,a=i.tickTextRotate;return a?a>0?"start":"end":"middle"},Y.prototype.tspanDx=function(){var i=this,a=i.tickTextRotate;return a?8*Math.sin(Math.PI*(a/180)):0},Y.prototype.tspanDy=function(i,a){var s=this,c=s.tickTextCharSize.h;return a===0&&(s.isVertical()?c=-((i.length-1)*(s.tickTextCharSize.h/2)-3):c=".71em"),c},Y.prototype.generateAxis=function(){var i=this,a=i.d3,s=i.params;function c(p,m){var x;return p.each(function(){var C=c.g=a.select(this),k=this.__chart__||i.scale,P=this.__chart__=i.copyScale(),D=i.tickValues?i.tickValues:i.generateTicks(P),G=C.selectAll(".tick").data(D,P),B=G.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),N=G.exit().remove(),U=G.merge(B),W,j,K;s.isCategory?(i.tickOffset=Math.ceil((P(1)-P(0))/2),j=i.tickCentered?0:i.tickOffset,K=i.tickCentered?i.tickOffset:0):i.tickOffset=j=0,i.updateRange(),i.updateTickLength(),i.updateTickTextCharSize(C.select(".tick"));var ft=U.select("line").merge(B.append("line")),ht=U.select("text").merge(B.append("text")),wt=U.selectAll("text").selectAll("tspan").data(function(rt,ot){return i.tspanData(rt,ot,P)}),Ct=wt.enter().append("tspan"),At=Ct.merge(wt).text(function(rt){return rt.splitted});wt.exit().remove();var dt=C.selectAll(".domain").data([0]),bt=dt.enter().append("path").merge(dt).attr("class","domain");switch(i.orient){case"bottom":{W=i.axisX,ft.attr("x1",j).attr("x2",j).attr("y2",function(rt,ot){return i.lineY2(rt,ot)}),ht.attr("x",0).attr("y",function(rt,ot){return i.textY(rt,ot)}).attr("transform",function(rt,ot){return i.textTransform(rt,ot)}).style("text-anchor",function(rt,ot){return i.textTextAnchor(rt,ot)}),At.attr("x",0).attr("dy",function(rt,ot){return i.tspanDy(rt,ot)}).attr("dx",function(rt,ot){return i.tspanDx(rt,ot)}),bt.attr("d","M"+i.range[0]+","+i.outerTickSize+"V0H"+i.range[1]+"V"+i.outerTickSize);break}case"top":{W=i.axisX,ft.attr("x1",j).attr("x2",j).attr("y2",function(rt,ot){return-1*i.lineY2(rt,ot)}),ht.attr("x",0).attr("y",function(rt,ot){return-1*i.textY(rt,ot)-(s.isCategory?2:i.tickLength-2)}).attr("transform",function(rt,ot){return i.textTransform(rt,ot)}).style("text-anchor",function(rt,ot){return i.textTextAnchor(rt,ot)}),At.attr("x",0).attr("dy",function(rt,ot){return i.tspanDy(rt,ot)}).attr("dx",function(rt,ot){return i.tspanDx(rt,ot)}),bt.attr("d","M"+i.range[0]+","+-i.outerTickSize+"V0H"+i.range[1]+"V"+-i.outerTickSize);break}case"left":{W=i.axisY,ft.attr("x2",-i.innerTickSize).attr("y1",K).attr("y2",K),ht.attr("x",-i.tickLength).attr("y",i.tickOffset).style("text-anchor","end"),At.attr("x",-i.tickLength).attr("dy",function(rt,ot){return i.tspanDy(rt,ot)}),bt.attr("d","M"+-i.outerTickSize+","+i.range[0]+"H0V"+i.range[1]+"H"+-i.outerTickSize);break}case"right":{W=i.axisY,ft.attr("x2",i.innerTickSize).attr("y1",K).attr("y2",K),ht.attr("x",i.tickLength).attr("y",i.tickOffset).style("text-anchor","start"),At.attr("x",i.tickLength).attr("dy",function(rt,ot){return i.tspanDy(rt,ot)}),bt.attr("d","M"+i.outerTickSize+","+i.range[0]+"H0V"+i.range[1]+"H"+i.outerTickSize);break}}if(P.rangeBand){var vt=P,_t=vt.rangeBand()/2;k=P=function(rt){return vt(rt)+_t}}else k.rangeBand?k=P:N.call(W,P,i.tickOffset);B.call(W,k,i.tickOffset),x=(m?U.transition(m):U).style("opacity",1).call(W,P,i.tickOffset)}),x}return c.scale=function(p){return arguments.length?(i.scale=p,c):i.scale},c.orient=function(p){return arguments.length?(i.orient=p in{top:1,right:1,bottom:1,left:1}?p+"":"bottom",c):i.orient},c.tickFormat=function(p){return arguments.length?(i.tickFormat=p,c):i.tickFormat},c.tickCentered=function(p){return arguments.length?(i.tickCentered=p,c):i.tickCentered},c.tickOffset=function(){return i.tickOffset},c.tickInterval=function(){var p,m;return s.isCategory?p=i.tickOffset*2:(m=c.g.select("path.domain").node().getTotalLength()-i.outerTickSize*2,p=m/c.g.selectAll("line").size()),p===1/0?0:p},c.ticks=function(){return arguments.length?(i.tickArguments=arguments,c):i.tickArguments},c.tickCulling=function(p){return arguments.length?(i.tickCulling=p,c):i.tickCulling},c.tickValues=function(p){if(typeof p=="function")i.tickValues=function(){return p(i.scale.domain())};else{if(!arguments.length)return i.tickValues;i.tickValues=p}return c},c};var S={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},F=function(){function i(a){this.owner=a,this.d3=a.d3,this.internal=Y}return i}(),M=F;M.prototype.init=function(){var a=this.owner,s=a.config,c=a.main;a.axes.x=c.append("g").attr("class",S.axis+" "+S.axisX).attr("clip-path",s.axis_x_inner?"":a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",S.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=c.append("g").attr("class",S.axis+" "+S.axisY).attr("clip-path",s.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",S.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=c.append("g").attr("class",S.axis+" "+S.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",S.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},M.prototype.getXAxis=function(a,s,c,p,m,x,C){var k=this.owner,P=k.config,D={isCategory:k.isCategorized(),withOuterTick:m,tickMultiline:P.axis_x_tick_multiline,tickMultilineMax:P.axis_x_tick_multiline?Number(P.axis_x_tick_multilineMax):0,tickWidth:P.axis_x_tick_width,tickTextRotate:C?0:P.axis_x_tick_rotate,withoutTransition:x},G=new this.internal(this,D).axis.scale(a).orient(s);return k.isTimeSeries()&&p&&typeof p!="function"&&(p=p.map(function(B){return k.parseDate(B)})),G.tickFormat(c).tickValues(p),k.isCategorized()&&(G.tickCentered(P.axis_x_tick_centered),v(P.axis_x_tick_culling)&&(P.axis_x_tick_culling=!1)),G},M.prototype.updateXAxisTickValues=function(a,s){var c=this.owner,p=c.config,m;return(p.axis_x_tick_fit||p.axis_x_tick_count)&&(m=this.generateTickValues(c.mapTargetsToUniqueXs(a),p.axis_x_tick_count,c.isTimeSeries())),s?s.tickValues(m):(c.xAxis.tickValues(m),c.subXAxis.tickValues(m)),m},M.prototype.getYAxis=function(a,s,c,p,m,x,C){var k=this.owner,P=k.config,D=P["axis_"+a+"_tick_format"];!D&&k.isAxisNormalized(a)&&(D=function(B){return B+"%"});var G=new this.internal(this,{withOuterTick:m,withoutTransition:x,tickTextRotate:C?0:P.axis_y_tick_rotate}).axis.scale(s).orient(c);return D&&G.tickFormat(D),k.isTimeSeriesY()?G.ticks(P.axis_y_tick_time_type,P.axis_y_tick_time_interval):G.tickValues(p),G},M.prototype.getId=function(a){var s=this.owner.config;return a in s.data_axes?s.data_axes[a]:"y"},M.prototype.getXAxisTickFormat=function(){var a=this.owner,s=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(p){return p};return s.axis_x_tick_format&&(w(s.axis_x_tick_format)?c=s.axis_x_tick_format:a.isTimeSeries()&&(c=function(p){return p?a.axisTimeFormat(s.axis_x_tick_format)(p):""})),w(c)?function(p){return c.call(a,p)}:c},M.prototype.getTickValues=function(a,s){return a||(s?s.tickValues():void 0)},M.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},M.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},M.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},M.prototype.getLabelOptionByAxisId=function(a){var s=this.owner,c=s.config,p;return a==="y"?p=c.axis_y_label:a==="y2"?p=c.axis_y2_label:a==="x"&&(p=c.axis_x_label),p},M.prototype.getLabelText=function(a){var s=this.getLabelOptionByAxisId(a);return T(s)?s:s?s.text:null},M.prototype.setLabelText=function(a,s){var c=this.owner,p=c.config,m=this.getLabelOptionByAxisId(a);T(m)?a==="y"?p.axis_y_label=s:a==="y2"?p.axis_y2_label=s:a==="x"&&(p.axis_x_label=s):m&&(m.text=s)},M.prototype.getLabelPosition=function(a,s){var c=this.getLabelOptionByAxisId(a),p=c&&typeof c=="object"&&c.position?c.position:s;return{isInner:p.indexOf("inner")>=0,isOuter:p.indexOf("outer")>=0,isLeft:p.indexOf("left")>=0,isCenter:p.indexOf("center")>=0,isRight:p.indexOf("right")>=0,isTop:p.indexOf("top")>=0,isMiddle:p.indexOf("middle")>=0,isBottom:p.indexOf("bottom")>=0}},M.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},M.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},M.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},M.prototype.getLabelPositionById=function(a){return a==="y2"?this.getY2AxisLabelPosition():a==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},M.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},M.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},M.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},M.prototype.xForAxisLabel=function(a,s){var c=this.owner;return a?s.isLeft?0:s.isCenter?c.width/2:c.width:s.isBottom?-c.height:s.isMiddle?-c.height/2:0},M.prototype.dxForAxisLabel=function(a,s){return a?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},M.prototype.textAnchorForAxisLabel=function(a,s){return a?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},M.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},M.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},M.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},M.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},M.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},M.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},M.prototype.dyForXAxisLabel=function(){var a=this.owner,s=a.config,c=this.getXAxisLabelPosition();return s.axis_rotated?c.isInner?"1.2em":-25-(a.config.axis_x_inner?0:this.getMaxTickWidth("x")):c.isInner?"-0.5em":a.getHorizontalAxisHeight("x")-10},M.prototype.dyForYAxisLabel=function(){var a=this.owner,s=this.getYAxisLabelPosition();return a.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},M.prototype.dyForY2AxisLabel=function(){var a=this.owner,s=this.getY2AxisLabelPosition();return a.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},M.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},M.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},M.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},M.prototype.getMaxTickWidth=function(a,s){var c=this.owner,p=0,m,x,C,k,P;return s&&c.currentMaxTickWidths[a]||(c.svg&&(m=c.filterTargetsToShow(c.data.targets),a==="y"?(x=c.y.copy().domain(c.getYDomain(m,"y")),C=this.getYAxis(a,x,c.yOrient,c.yAxisTickValues,!1,!0,!0)):a==="y2"?(x=c.y2.copy().domain(c.getYDomain(m,"y2")),C=this.getYAxis(a,x,c.y2Orient,c.y2AxisTickValues,!1,!0,!0)):(x=c.x.copy().domain(c.getXDomain(m)),C=this.getXAxis(x,c.xOrient,c.xAxisTickFormat,c.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(m,C)),k=c.d3.select("body").append("div").classed("c3",!0),P=k.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),P.append("g").call(C).each(function(){c.d3.select(this).selectAll("text").each(function(){var D=d(this);p<D.width&&(p=D.width)}),k.remove()})),c.currentMaxTickWidths[a]=p<=0?c.currentMaxTickWidths[a]:p),c.currentMaxTickWidths[a]},M.prototype.updateLabels=function(a){var s=this.owner,c=s.main.select("."+S.axisX+" ."+S.axisXLabel),p=s.main.select("."+S.axisY+" ."+S.axisYLabel),m=s.main.select("."+S.axisY2+" ."+S.axisY2Label);(a?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?p.transition():p).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?m.transition():m).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},M.prototype.getPadding=function(a,s,c,p){var m=typeof a=="number"?a:a[s];return E(m)?a.unit==="ratio"?a[s]*p:this.convertPixelsToAxisPadding(m,p):c},M.prototype.convertPixelsToAxisPadding=function(a,s){var c=this.owner,p=c.config.axis_rotated?c.width:c.height;return s*(a/p)},M.prototype.generateTickValues=function(a,s,c){var p=a,m,x,C,k,P,D,G;if(s){if(m=w(s)?s():s,m===1)p=[a[0]];else if(m===2)p=[a[0],a[a.length-1]];else if(m>2){for(k=m-2,x=a[0],C=a[a.length-1],P=(C-x)/(k+1),p=[x],D=0;D<k;D++)G=+x+P*(D+1),p.push(c?new Date(G):G);p.push(C)}}return c||(p=p.sort(function(B,N){return B-N})),p},M.prototype.generateTransitions=function(a){var s=this.owner,c=s.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},M.prototype.redraw=function(a,s){var c=this.owner,p=a?c.d3.transition().duration(a):null;c.axes.x.style("opacity",s?0:1).call(c.xAxis,p),c.axes.y.style("opacity",s?0:1).call(c.yAxis,p),c.axes.y2.style("opacity",s?0:1).call(c.y2Axis,p),c.axes.subx.style("opacity",s?0:1).call(c.subXAxis,p)};var O={version:"0.7.20",chart:{fn:r.prototype,internal:{fn:n.prototype,axis:{fn:F.prototype,internal:{fn:Y.prototype}}}},generate:function(i){return new r(i)}};n.prototype.beforeInit=function(){},n.prototype.afterInit=function(){},n.prototype.init=function(){var i=this,a=i.config;if(i.initParams(),a.data_url)i.convertUrlToData(a.data_url,a.data_mimeType,a.data_headers,a.data_keys,i.initWithData);else if(a.data_json)i.initWithData(i.convertJsonToData(a.data_json,a.data_keys));else if(a.data_rows)i.initWithData(i.convertRowsToData(a.data_rows));else if(a.data_columns)i.initWithData(i.convertColumnsToData(a.data_columns));else throw Error("url or json or rows or columns is required.")},n.prototype.initParams=function(){var i=this,a=i.d3,s=i.config;i.clipId="c3-"+new Date().valueOf()+"-clip",i.clipIdForXAxis=i.clipId+"-xaxis",i.clipIdForYAxis=i.clipId+"-yaxis",i.clipIdForGrid=i.clipId+"-grid",i.clipIdForSubchart=i.clipId+"-subchart",i.clipPath=i.getClipPath(i.clipId),i.clipPathForXAxis=i.getClipPath(i.clipIdForXAxis),i.clipPathForYAxis=i.getClipPath(i.clipIdForYAxis),i.clipPathForGrid=i.getClipPath(i.clipIdForGrid),i.clipPathForSubchart=i.getClipPath(i.clipIdForSubchart),i.dragStart=null,i.dragging=!1,i.flowing=!1,i.cancelClick=!1,i.mouseover=void 0,i.transiting=!1,i.color=i.generateColor(),i.levelColor=i.generateLevelColor(),i.dataTimeParse=(s.data_xLocaltime?a.timeParse:a.utcParse)(i.config.data_xFormat),i.axisTimeFormat=s.axis_x_localtime?a.timeFormat:a.utcFormat,i.defaultAxisTimeFormat=function(c){return c.getMilliseconds()?a.timeFormat(".%L")(c):c.getSeconds()?a.timeFormat(":%S")(c):c.getMinutes()?a.timeFormat("%I:%M")(c):c.getHours()?a.timeFormat("%I %p")(c):c.getDay()&&c.getDate()!==1||c.getDate()!==1||c.getMonth()?a.timeFormat("%-m/%-d")(c):a.timeFormat("%Y/%-m/%-d")(c)},i.hiddenTargetIds=[],i.hiddenLegendIds=[],i.focusedTargetIds=[],i.defocusedTargetIds=[],i.xOrient=s.axis_rotated?s.axis_x_inner?"right":"left":s.axis_x_inner?"top":"bottom",i.yOrient=s.axis_rotated?s.axis_y_inner?"top":"bottom":s.axis_y_inner?"right":"left",i.y2Orient=s.axis_rotated?s.axis_y2_inner?"bottom":"top":s.axis_y2_inner?"left":"right",i.subXOrient=s.axis_rotated?"left":"bottom",i.isLegendRight=s.legend_position==="right",i.isLegendInset=s.legend_position==="inset",i.isLegendTop=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="top-right",i.isLegendLeft=s.legend_inset_anchor==="top-left"||s.legend_inset_anchor==="bottom-left",i.legendStep=0,i.legendItemWidth=0,i.legendItemHeight=0,i.currentMaxTickWidths={x:0,y:0,y2:0},i.rotated_padding_left=30,i.rotated_padding_right=s.axis_rotated&&!s.axis_x_show?0:30,i.rotated_padding_top=5,i.withoutFadeIn={},i.intervalForObserveInserted=void 0,i.axes.subx=a.selectAll([])},n.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},n.prototype.initWithData=function(i){var a=this,s=a.d3,c=a.config,p,m,x=!0;a.axis=new F(a),c.bindto?typeof c.bindto.node=="function"?a.selectChart=c.bindto:a.selectChart=s.select(c.bindto):a.selectChart=s.selectAll([]),a.selectChart.empty()&&(a.selectChart=s.select(document.createElement("div")).style("opacity",0),a.observeInserted(a.selectChart),x=!1),a.selectChart.html("").classed("c3",!0),a.data.xs={},a.data.targets=a.convertDataToTargets(i),c.data_filter&&(a.data.targets=a.data.targets.filter(c.data_filter)),c.data_hide&&a.addHiddenTargetIds(c.data_hide===!0?a.mapToIds(a.data.targets):c.data_hide),c.legend_hide&&a.addHiddenLegendIds(c.legend_hide===!0?a.mapToIds(a.data.targets):c.legend_hide),a.isStanfordGraphType()&&a.initStanfordData(),a.updateSizes(),a.updateScales(),a.x.domain(s.extent(a.getXDomain(a.data.targets))),a.y.domain(a.getYDomain(a.data.targets,"y")),a.y2.domain(a.getYDomain(a.data.targets,"y2")),a.subX.domain(a.x.domain()),a.subY.domain(a.y.domain()),a.subY2.domain(a.y2.domain()),a.orgXDomain=a.x.domain(),a.svg=a.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return c.onmouseover.call(a)}).on("mouseleave",function(){return c.onmouseout.call(a)}),a.config.svg_classname&&a.svg.attr("class",a.config.svg_classname),p=a.svg.append("defs"),a.clipChart=a.appendClip(p,a.clipId),a.clipXAxis=a.appendClip(p,a.clipIdForXAxis),a.clipYAxis=a.appendClip(p,a.clipIdForYAxis),a.clipGrid=a.appendClip(p,a.clipIdForGrid),a.clipSubchart=a.appendClip(p,a.clipIdForSubchart),a.updateSvgSize(),m=a.main=a.svg.append("g").attr("transform",a.getTranslate("main")),a.initPie&&a.initPie(),a.initDragZoom&&a.initDragZoom(),c.subchart_show&&a.initSubchart&&a.initSubchart(),a.initTooltip&&a.initTooltip(),a.initLegend&&a.initLegend(),a.initTitle&&a.initTitle(),a.initZoom&&a.initZoom(),a.isStanfordGraphType()&&a.drawColorScale(),c.subchart_show&&a.initSubchartBrush&&a.initSubchartBrush(),m.append("text").attr("class",S.text+" "+S.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),a.initRegion(),a.initGrid(),m.append("g").attr("clip-path",a.clipPath).attr("class",S.chart),c.grid_lines_front&&a.initGridLines(),a.initStanfordElements(),a.initEventRect(),a.initChartElements(),a.axis.init(),a.updateTargets(a.data.targets),c.axis_x_selection&&a.brush.selectionAsValue(a.getDefaultSelection()),x&&(a.updateDimension(),a.config.oninit.call(a),a.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),a.bindResize(),a.bindWindowFocus(),a.api.element=a.selectChart.node()},n.prototype.smoothLines=function(i,a){var s=this;a==="grid"&&i.each(function(){var c=s.d3.select(this),p=c.attr("x1"),m=c.attr("x2"),x=c.attr("y1"),C=c.attr("y2");c.attr({x1:Math.ceil(p),x2:Math.ceil(m),y1:Math.ceil(x),y2:Math.ceil(C)})})},n.prototype.updateSizes=function(){var i=this,a=i.config,s=i.legend?i.getLegendHeight():0,c=i.legend?i.getLegendWidth():0,p=i.isLegendRight||i.isLegendInset?0:s,m=i.hasArcType(),x=a.axis_rotated||m?0:i.getHorizontalAxisHeight("x"),C=a.axis_rotated||m?0:i.getHorizontalAxisHeight("x",!0),k=a.subchart_show&&!m?a.subchart_size_height+C:0;i.currentWidth=i.getCurrentWidth(),i.currentHeight=i.getCurrentHeight(),i.margin=a.axis_rotated?{top:i.getHorizontalAxisHeight("y2")+i.getCurrentPaddingTop(),right:m?0:i.getCurrentPaddingRight(),bottom:i.getHorizontalAxisHeight("y")+p+i.getCurrentPaddingBottom(),left:k+(m?0:i.getCurrentPaddingLeft())}:{top:4+i.getCurrentPaddingTop(),right:m?0:i.getCurrentPaddingRight(),bottom:x+k+p+i.getCurrentPaddingBottom(),left:m?0:i.getCurrentPaddingLeft()},i.margin2=a.axis_rotated?{top:i.margin.top,right:NaN,bottom:20+p,left:i.rotated_padding_left}:{top:i.currentHeight-k-p,right:NaN,bottom:C+p,left:i.margin.left},i.margin3={top:0,right:NaN,bottom:0,left:0},i.updateSizeForLegend&&i.updateSizeForLegend(s,c),i.width=i.currentWidth-i.margin.left-i.margin.right,i.height=i.currentHeight-i.margin.top-i.margin.bottom,i.width<0&&(i.width=0),i.height<0&&(i.height=0),i.width2=a.axis_rotated?i.margin.left-i.rotated_padding_left-i.rotated_padding_right:i.width,i.height2=a.axis_rotated?i.height:i.currentHeight-i.margin2.top-i.margin2.bottom,i.width2<0&&(i.width2=0),i.height2<0&&(i.height2=0),i.arcWidth=i.width-(i.isLegendRight?c+10:0),i.arcHeight=i.height-(i.isLegendRight?0:10),i.hasType("gauge")&&!a.gauge_fullCircle&&(i.arcHeight+=i.height-i.getGaugeLabelHeight()),i.updateRadius&&i.updateRadius(),i.isLegendRight&&m&&(i.margin3.left=i.arcWidth/2+i.radiusExpanded*1.1)},n.prototype.updateTargets=function(i){var a=this,s=a.config;a.updateTargetsForText(i),a.updateTargetsForBar(i),a.updateTargetsForLine(i),a.hasArcType()&&a.updateTargetsForArc&&a.updateTargetsForArc(i),s.subchart_show&&a.updateTargetsForSubchart&&a.updateTargetsForSubchart(i),a.showTargets()},n.prototype.showTargets=function(){var i=this;i.svg.selectAll("."+S.target).filter(function(a){return i.isTargetToShow(a.id)}).transition().duration(i.config.transition_duration).style("opacity",1)},n.prototype.redraw=function(i,a){var s=this,c=s.main,p=s.d3,m=s.config,x=s.getShapeIndices(s.isAreaType),C=s.getShapeIndices(s.isBarType),k=s.getShapeIndices(s.isLineType),P,D,G,B,N,U,W,j,K,ft,ht,wt,Ct,At=s.hasArcType(),dt,bt,vt,_t,rt,ot,Bt,le,Kt,$e,Qt,fe,Mt=s.filterTargetsToShow(s.data.targets),J,gt,Ge,Mi,qo=s.xv.bind(s),rn,Ve;if(i=i||{},P=f(i,"withY",!0),D=f(i,"withSubchart",!0),G=f(i,"withTransition",!0),U=f(i,"withTransform",!1),W=f(i,"withUpdateXDomain",!1),j=f(i,"withUpdateOrgXDomain",!1),K=f(i,"withTrimXDomain",!0),Ct=f(i,"withUpdateXAxis",W),ft=f(i,"withLegend",!1),ht=f(i,"withEventRect",!0),wt=f(i,"withDimension",!0),B=f(i,"withTransitionForExit",G),N=f(i,"withTransitionForAxis",G),ot=G?m.transition_duration:0,Bt=B?ot:0,le=N?ot:0,a=a||s.axis.generateTransitions(le),ft&&m.legend_show?s.updateLegend(s.mapToIds(s.data.targets),i,a):wt&&s.updateDimension(!0),s.isCategorized()&&Mt.length===0&&s.x.domain([0,s.axes.x.selectAll(".tick").size()]),Mt.length?(s.updateXDomain(Mt,W,j,K),m.axis_x_tick_values||(J=s.axis.updateXAxisTickValues(Mt))):(s.xAxis.tickValues([]),s.subXAxis.tickValues([])),m.zoom_rescale&&!i.flow&&(Mi=s.x.orgDomain()),s.y.domain(s.getYDomain(Mt,"y",Mi)),s.y2.domain(s.getYDomain(Mt,"y2",Mi)),!m.axis_y_tick_values&&m.axis_y_tick_count&&s.yAxis.tickValues(s.axis.generateTickValues(s.y.domain(),m.axis_y_tick_count)),!m.axis_y2_tick_values&&m.axis_y2_tick_count&&s.y2Axis.tickValues(s.axis.generateTickValues(s.y2.domain(),m.axis_y2_tick_count)),s.axis.redraw(le,At),s.axis.updateLabels(G),(W||Ct)&&Mt.length)if(m.axis_x_tick_culling&&J){for(gt=1;gt<J.length;gt++)if(J.length/gt<m.axis_x_tick_culling_max){Ge=gt;break}s.svg.selectAll("."+S.axisX+" .tick text").each(function(xe){var an=J.indexOf(xe);an>=0&&p.select(this).style("display",an%Ge?"none":"block")})}else s.svg.selectAll("."+S.axisX+" .tick text").style("display","block");dt=s.generateDrawArea?s.generateDrawArea(x,!1):void 0,bt=s.generateDrawBar?s.generateDrawBar(C):void 0,vt=s.generateDrawLine?s.generateDrawLine(k,!1):void 0,_t=s.generateXYForText(x,C,k,!0),rt=s.generateXYForText(x,C,k,!1),s.updateCircleY(),rn=(s.config.axis_rotated?s.circleY:s.circleX).bind(s),Ve=(s.config.axis_rotated?s.circleX:s.circleY).bind(s),P&&(s.subY.domain(s.getYDomain(Mt,"y")),s.subY2.domain(s.getYDomain(Mt,"y2"))),s.updateXgridFocus(),c.select("text."+S.text+"."+S.empty).attr("x",s.width/2).attr("y",s.height/2).text(m.data_empty_label_text).transition().style("opacity",Mt.length?0:1),ht&&s.redrawEventRect(),s.updateGrid(ot),s.updateStanfordElements(ot),s.updateRegion(ot),s.updateBar(Bt),s.updateLine(Bt),s.updateArea(Bt),s.updateCircle(rn,Ve),s.hasDataLabel()&&s.updateText(_t,rt,Bt),s.redrawTitle&&s.redrawTitle(),s.redrawArc&&s.redrawArc(ot,Bt,U),m.subchart_show&&s.redrawSubchart&&s.redrawSubchart(D,a,ot,Bt,x,C,k),s.isStanfordGraphType()&&s.drawColorScale(),c.selectAll("."+S.selectedCircles).filter(s.isBarType.bind(s)).selectAll("circle").remove(),i.flow&&(Qt=s.generateFlow({targets:Mt,flow:i.flow,duration:i.flow.duration,drawBar:bt,drawLine:vt,drawArea:dt,cx:rn,cy:Ve,xv:qo,xForText:_t,yForText:rt})),ot&&s.isTabVisible()?(fe=p.transition().duration(ot),Kt=[],[s.redrawBar(bt,!0,fe),s.redrawLine(vt,!0,fe),s.redrawArea(dt,!0,fe),s.redrawCircle(rn,Ve,!0,fe),s.redrawText(_t,rt,i.flow,!0,fe),s.redrawRegion(!0,fe),s.redrawGrid(!0,fe)].forEach(function(xe){xe.forEach(function(an){Kt.push(an)})}),$e=s.generateWait(),Kt.forEach(function(xe){$e.add(xe)}),$e(function(){Qt&&Qt(),m.onrendered&&m.onrendered.call(s)})):(s.redrawBar(bt),s.redrawLine(vt),s.redrawArea(dt),s.redrawCircle(rn,Ve),s.redrawText(_t,rt,i.flow),s.redrawRegion(),s.redrawGrid(),Qt&&Qt(),m.onrendered&&m.onrendered.call(s)),s.mapToIds(s.data.targets).forEach(function(xe){s.withoutFadeIn[xe]=!0})},n.prototype.updateAndRedraw=function(i){var a=this,s=a.config,c;i=i||{},i.withTransition=f(i,"withTransition",!0),i.withTransform=f(i,"withTransform",!1),i.withLegend=f(i,"withLegend",!1),i.withUpdateXDomain=f(i,"withUpdateXDomain",!0),i.withUpdateOrgXDomain=f(i,"withUpdateOrgXDomain",!0),i.withTransitionForExit=!1,i.withTransitionForTransform=f(i,"withTransitionForTransform",i.withTransition),a.updateSizes(),i.withLegend&&s.legend_show||(c=a.axis.generateTransitions(i.withTransitionForAxis?s.transition_duration:0),a.updateScales(),a.updateSvgSize(),a.transformAll(i.withTransitionForTransform,c)),a.redraw(i,c)},n.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},n.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},n.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},n.prototype.isCustomX=function(){var i=this,a=i.config;return!i.isTimeSeries()&&(a.data_x||L(a.data_xs))},n.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},n.prototype.getTranslate=function(i){var a=this,s=a.config,c,p;return i==="main"?(c=o(a.margin.left),p=o(a.margin.top)):i==="context"?(c=o(a.margin2.left),p=o(a.margin2.top)):i==="legend"?(c=a.margin3.left,p=a.margin3.top):i==="x"?(c=0,p=s.axis_rotated?0:a.height):i==="y"?(c=0,p=s.axis_rotated?a.height:0):i==="y2"?(c=s.axis_rotated?0:a.width,p=s.axis_rotated?1:0):i==="subx"?(c=0,p=s.axis_rotated?0:a.height2):i==="arc"&&(c=a.arcWidth/2,p=a.arcHeight/2-(a.hasType("gauge")?6:0)),"translate("+c+","+p+")"},n.prototype.initialOpacity=function(i){return i.value!==null&&this.withoutFadeIn[i.id]?1:0},n.prototype.initialOpacityForCircle=function(i){return i.value!==null&&this.withoutFadeIn[i.id]?this.opacityForCircle(i):0},n.prototype.opacityForCircle=function(i){var a=w(this.config.point_show)?this.config.point_show(i):this.config.point_show,s=a||this.isStanfordType(i)?1:0;return E(i.value)?this.isScatterType(i)?.5:s:0},n.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},n.prototype.xx=function(i){return i?this.x(i.x):null},n.prototype.xvCustom=function(i,a){var s=this,c=a?i[a]:i.value;return s.isTimeSeries()?c=s.parseDate(i.value):s.isCategorized()&&typeof i.value=="string"&&(c=s.config.axis_x_categories.indexOf(i.value)),Math.ceil(s.x(c))},n.prototype.yvCustom=function(i,a){var s=this,c=i.axis&&i.axis==="y2"?s.y2:s.y,p=a?i[a]:i.value;return Math.ceil(c(p))},n.prototype.xv=function(i){var a=this,s=i.value;return a.isTimeSeries()?s=a.parseDate(i.value):a.isCategorized()&&typeof i.value=="string"&&(s=a.config.axis_x_categories.indexOf(i.value)),Math.ceil(a.x(s))},n.prototype.yv=function(i){var a=this,s=i.axis&&i.axis==="y2"?a.y2:a.y;return Math.ceil(s(i.value))},n.prototype.subxx=function(i){return i?this.subX(i.x):null},n.prototype.transformMain=function(i,a){var s=this,c,p,m;a&&a.axisX?c=a.axisX:(c=s.main.select("."+S.axisX),i&&(c=c.transition())),a&&a.axisY?p=a.axisY:(p=s.main.select("."+S.axisY),i&&(p=p.transition())),a&&a.axisY2?m=a.axisY2:(m=s.main.select("."+S.axisY2),i&&(m=m.transition())),(i?s.main.transition():s.main).attr("transform",s.getTranslate("main")),c.attr("transform",s.getTranslate("x")),p.attr("transform",s.getTranslate("y")),m.attr("transform",s.getTranslate("y2")),s.main.select("."+S.chartArcs).attr("transform",s.getTranslate("arc"))},n.prototype.transformAll=function(i,a){var s=this;s.transformMain(i,a),s.config.subchart_show&&s.transformContext(i,a),s.legend&&s.transformLegend(i)},n.prototype.updateSvgSize=function(){var i=this,a=i.svg.select("."+S.brush+" .overlay");i.svg.attr("width",i.currentWidth).attr("height",i.currentHeight),i.svg.selectAll(["#"+i.clipId,"#"+i.clipIdForGrid]).select("rect").attr("width",i.width).attr("height",i.height),i.svg.select("#"+i.clipIdForXAxis).select("rect").attr("x",i.getXAxisClipX.bind(i)).attr("y",i.getXAxisClipY.bind(i)).attr("width",i.getXAxisClipWidth.bind(i)).attr("height",i.getXAxisClipHeight.bind(i)),i.svg.select("#"+i.clipIdForYAxis).select("rect").attr("x",i.getYAxisClipX.bind(i)).attr("y",i.getYAxisClipY.bind(i)).attr("width",i.getYAxisClipWidth.bind(i)).attr("height",i.getYAxisClipHeight.bind(i)),i.svg.select("#"+i.clipIdForSubchart).select("rect").attr("width",i.width).attr("height",a.size()&&a.attr("height")||0),i.selectChart.style("max-height",i.currentHeight+"px")},n.prototype.updateDimension=function(i){var a=this;i||(a.config.axis_rotated?(a.axes.x.call(a.xAxis),a.axes.subx.call(a.subXAxis)):(a.axes.y.call(a.yAxis),a.axes.y2.call(a.y2Axis))),a.updateSizes(),a.updateScales(),a.updateSvgSize(),a.transformAll(!1)},n.prototype.observeInserted=function(i){var a=this,s;if(typeof MutationObserver=="undefined"){window.console.error("MutationObserver not defined.");return}s=new MutationObserver(function(c){c.forEach(function(p){p.type==="childList"&&p.previousSibling&&(s.disconnect(),a.intervalForObserveInserted=window.setInterval(function(){i.node().parentNode&&(window.clearInterval(a.intervalForObserveInserted),a.updateDimension(),a.brush&&a.brush.update(),a.config.oninit.call(a),a.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),i.transition().style("opacity",1))},10))})}),s.observe(i.node(),{attributes:!0,childList:!0,characterData:!0})},n.prototype.bindResize=function(){var i=this,a=i.config;i.resizeFunction=i.generateResize(),i.resizeFunction.add(function(){a.onresize.call(i)}),a.resize_auto&&i.resizeFunction.add(function(){i.resizeTimeout!==void 0&&window.clearTimeout(i.resizeTimeout),i.resizeTimeout=window.setTimeout(function(){delete i.resizeTimeout,i.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),i.brush&&i.brush.update()},100)}),i.resizeFunction.add(function(){a.onresized.call(i)}),i.resizeIfElementDisplayed=function(){i.api==null||!i.api.element.offsetParent||i.resizeFunction()},window.addEventListener("resize",i.resizeIfElementDisplayed,!1)},n.prototype.bindWindowFocus=function(){var i=this;this.windowFocusHandler||(this.windowFocusHandler=function(){i.redraw()},window.addEventListener("focus",this.windowFocusHandler))},n.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},n.prototype.generateResize=function(){var i=[];function a(){i.forEach(function(s){s()})}return a.add=function(s){i.push(s)},a.remove=function(s){for(var c=0;c<i.length;c++)if(i[c]===s){i.splice(c,1);break}},a},n.prototype.endall=function(i,a){var s=0;i.each(function(){++s}).on("end",function(){--s||a.apply(this,arguments)})},n.prototype.generateWait=function(){var i=this,a=[],s=function(c){var p=setInterval(function(){if(!!i.isTabVisible()){var m=0;a.forEach(function(x){if(x.empty()){m+=1;return}try{x.transition()}catch{m+=1}}),m===a.length&&(clearInterval(p),c&&c())}},50)};return s.add=function(c){a.push(c)},s},n.prototype.parseDate=function(i){var a=this,s;return i instanceof Date?s=i:typeof i=="string"?s=a.dataTimeParse(i):typeof i=="object"?s=new Date(+i):typeof i=="number"&&!isNaN(i)&&(s=new Date(+i)),(!s||isNaN(+s))&&window.console.error("Failed to parse x '"+i+"' to Date object"),s},n.prototype.isTabVisible=function(){return!document.hidden},n.prototype.getPathBox=h,n.prototype.CLASS=S,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(i,a,s){this.pathSegType=i,this.pathSegTypeAsLetter=a,this._owningPathSegList=s},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",i)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",i),this._x=a,this._y=s},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",i),this._x=a,this._y=s},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",i),this._x=a,this._y=s},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",i),this._x=a,this._y=s},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(i,a,s,c,p,m,x){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",i),this._x=a,this._y=s,this._x1=c,this._y1=p,this._x2=m,this._y2=x},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(i,a,s,c,p,m,x){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",i),this._x=a,this._y=s,this._x1=c,this._y1=p,this._x2=m,this._y2=x},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(i,a,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",i),this._x=a,this._y=s,this._x1=c,this._y1=p},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(i,a,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",i),this._x=a,this._y=s,this._x1=c,this._y1=p},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(i,a,s,c,p,m,x,C){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",i),this._x=a,this._y=s,this._r1=c,this._r2=p,this._angle=m,this._largeArcFlag=x,this._sweepFlag=C},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(i,a,s,c,p,m,x,C){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",i),this._x=a,this._y=s,this._r1=c,this._r2=p,this._angle=m,this._largeArcFlag=x,this._sweepFlag=C},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",i),this._x=a},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",i),this._x=a},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",i),this._y=a},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",i),this._y=a},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(i,a,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",i),this._x=a,this._y=s,this._x2=c,this._y2=p},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(i,a,s,c,p){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",i),this._x=a,this._y=s,this._x2=c,this._y2=p},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",i),this._x=a,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(i,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",i),this._x=a,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(i,a){return new window.SVGPathSegMovetoAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(i,a){return new window.SVGPathSegMovetoRel(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(i,a){return new window.SVGPathSegLinetoAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(i,a){return new window.SVGPathSegLinetoRel(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(i,a,s,c,p,m){return new window.SVGPathSegCurvetoCubicAbs(void 0,i,a,s,c,p,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(i,a,s,c,p,m){return new window.SVGPathSegCurvetoCubicRel(void 0,i,a,s,c,p,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(i,a,s,c){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(i,a,s,c){return new window.SVGPathSegCurvetoQuadraticRel(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(i,a,s,c,p,m,x){return new window.SVGPathSegArcAbs(void 0,i,a,s,c,p,m,x)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(i,a,s,c,p,m,x){return new window.SVGPathSegArcRel(void 0,i,a,s,c,p,m,x)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(i){return new window.SVGPathSegLinetoHorizontalAbs(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(i){return new window.SVGPathSegLinetoHorizontalRel(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(i){return new window.SVGPathSegLinetoVerticalAbs(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(i){return new window.SVGPathSegLinetoVerticalRel(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(i,a,s,c){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(i,a,s,c){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,i,a,s,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(i,a){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(i,a){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,i,a)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(i){if(i===void 0||!isFinite(i))throw"Invalid arguments.";var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.getAttribute("d"));var s=a.pathSegList.numberOfItems-1;if(s<=0)return 0;do{if(a.pathSegList.removeItem(s),i>a.getTotalLength())break;s--}while(s>0);return s})),"SVGPathSegList"in window||(window.SVGPathSegList=function(i){this._pathElement=i,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(i){if(!!this._pathElement){var a=!1;i.forEach(function(s){s.attributeName=="d"&&(a=!0)}),a&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(i){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(i){i._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(i){return this._checkPathSynchronizedToList(),this._list=[i],i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype._checkValidIndex=function(i){if(isNaN(i)||i<0||i>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(i){return this._checkPathSynchronizedToList(),this._checkValidIndex(i),this._list[i]},window.SVGPathSegList.prototype.insertItemBefore=function(i,a){return this._checkPathSynchronizedToList(),a>this.numberOfItems&&(a=this.numberOfItems),i._owningPathSegList&&(i=i.clone()),this._list.splice(a,0,i),i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype.replaceItem=function(i,a){return this._checkPathSynchronizedToList(),i._owningPathSegList&&(i=i.clone()),this._checkValidIndex(a),this._list[a]=i,i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype.removeItem=function(i){this._checkPathSynchronizedToList(),this._checkValidIndex(i);var a=this._list[i];return this._list.splice(i,1),this._writeListToPath(),a},window.SVGPathSegList.prototype.appendItem=function(i){return this._checkPathSynchronizedToList(),i._owningPathSegList&&(i=i.clone()),this._list.push(i),i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList._pathSegArrayAsString=function(i){var a="",s=!0;return i.forEach(function(c){s?(s=!1,a+=c._asPathString()):a+=" "+c._asPathString()}),a},window.SVGPathSegList.prototype._parsePath=function(i){if(!i||i.length==0)return[];var a=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(C){this.pathSegList.push(C)};var c=function(C){this._string=C,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};c.prototype._isCurrentSpace=function(){var C=this._string[this._currentIndex];return C<=" "&&(C==" "||C==`
`||C=="	"||C=="\r"||C=="\f")},c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},c.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},c.prototype.peekSegmentType=function(){var C=this._string[this._currentIndex];return this._pathSegTypeFromChar(C)},c.prototype._pathSegTypeFromChar=function(C){switch(C){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},c.prototype._nextCommandHelper=function(C,k){return(C=="+"||C=="-"||C=="."||C>="0"&&C<="9")&&k!=window.SVGPathSeg.PATHSEG_CLOSEPATH?k==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:k==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:k:window.SVGPathSeg.PATHSEG_UNKNOWN},c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var C=this.peekSegmentType();return C==window.SVGPathSeg.PATHSEG_MOVETO_ABS||C==window.SVGPathSeg.PATHSEG_MOVETO_REL},c.prototype._parseNumber=function(){var C=0,k=0,P=1,D=0,G=1,B=1,N=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,G=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var U=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=U)for(var W=this._currentIndex-1,j=1;W>=U;)k+=j*(this._string.charAt(W--)-"0"),j*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)P*=10,D+=(this._string.charAt(this._currentIndex)-"0")/P,this._currentIndex+=1}if(this._currentIndex!=N&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,B=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)C*=10,C+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var K=k+D;if(K*=G,C&&(K*=Math.pow(10,B*C)),N!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),K}},c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var C=!1,k=this._string.charAt(this._currentIndex++);if(k=="0")C=!1;else if(k=="1")C=!0;else return;return this._skipOptionalSpacesOrDelimiter(),C}},c.prototype.parseSegment=function(){var C=this._string[this._currentIndex],k=this._pathSegTypeFromChar(C);if(k==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(k=this._nextCommandHelper(C,this._previousCommand),k==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=k,k){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(a);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var P={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(a,P.x,P.y,P.x1,P.y1,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var P={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(a,P.x,P.y,P.x1,P.y1,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var P={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(a,P.x,P.y,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var P={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(a,P.x,P.y,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var P={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(a,P.x,P.y,P.x1,P.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var P={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(a,P.x,P.y,P.x1,P.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var P={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(a,P.x,P.y,P.x1,P.y1,P.arcAngle,P.arcLarge,P.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var P={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(a,P.x,P.y,P.x1,P.y1,P.arcAngle,P.arcLarge,P.arcSweep);default:throw"Unknown path seg type."}};var p=new s,m=new c(i);if(!m.initialCommandIsMoveTo())return[];for(;m.hasMoreData();){var x=m.parseSegment();if(!x)return[];p.appendSegment(x)}return p.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(a,s){return a=a>>0,s=String(typeof s!="undefined"?s:" "),this.length>a?String(this):(a=a-this.length,a>s.length&&(s+=s.repeat(a/s.length)),String(this)+s.slice(0,a))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(a,s){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),p=1;p<arguments.length;p++){var m=arguments[p];if(m!=null)for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(c[x]=m[x])}return c},writable:!0,configurable:!0}),r.prototype.axis=function(){},r.prototype.axis.labels=function(i){var a=this.internal;arguments.length&&(Object.keys(i).forEach(function(s){a.axis.setLabelText(s,i[s])}),a.axis.updateLabels())},r.prototype.axis.max=function(i){var a=this.internal,s=a.config;if(arguments.length)typeof i=="object"?(E(i.x)&&(s.axis_x_max=i.x),E(i.y)&&(s.axis_y_max=i.y),E(i.y2)&&(s.axis_y2_max=i.y2)):s.axis_y_max=s.axis_y2_max=i,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_max,y:s.axis_y_max,y2:s.axis_y2_max}},r.prototype.axis.min=function(i){var a=this.internal,s=a.config;if(arguments.length)typeof i=="object"?(E(i.x)&&(s.axis_x_min=i.x),E(i.y)&&(s.axis_y_min=i.y),E(i.y2)&&(s.axis_y2_min=i.y2)):s.axis_y_min=s.axis_y2_min=i,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:s.axis_x_min,y:s.axis_y_min,y2:s.axis_y2_min}},r.prototype.axis.range=function(i){if(arguments.length)g(i.max)&&this.axis.max(i.max),g(i.min)&&this.axis.min(i.min);else return{max:this.axis.max(),min:this.axis.min()}},r.prototype.axis.types=function(i){var a=this.internal;if(i===void 0)return{y:a.config.axis_y_type,y2:a.config.axis_y2_type};g(i.y)&&(a.config.axis_y_type=i.y),g(i.y2)&&(a.config.axis_y2_type=i.y2),a.updateScales(),a.redraw()},r.prototype.category=function(i,a){var s=this.internal,c=s.config;return arguments.length>1&&(c.axis_x_categories[i]=a,s.redraw()),c.axis_x_categories[i]},r.prototype.categories=function(i){var a=this.internal,s=a.config;return arguments.length&&(s.axis_x_categories=i,a.redraw()),s.axis_x_categories},r.prototype.resize=function(i){var a=this.internal,s=a.config;s.size_width=i?i.width:null,s.size_height=i?i.height:null,this.flush()},r.prototype.flush=function(){var i=this.internal;i.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.prototype.destroy=function(){var i=this.internal;return window.clearInterval(i.intervalForObserveInserted),i.resizeTimeout!==void 0&&window.clearTimeout(i.resizeTimeout),window.removeEventListener("resize",i.resizeIfElementDisplayed),i.resizeFunction.remove(),i.unbindWindowFocus(),i.selectChart.classed("c3",!1).html(""),Object.keys(i).forEach(function(a){i[a]=null}),null},r.prototype.color=function(i){var a=this.internal;return a.color(i)},r.prototype.data=function(i){var a=this.internal.data.targets;return typeof i=="undefined"?a:a.filter(function(s){return[].concat(i).indexOf(s.id)>=0})},r.prototype.data.shown=function(i){return this.internal.filterTargetsToShow(this.data(i))},r.prototype.data.values=function(i,a){a===void 0&&(a=!0);var s=null;if(i){var c=this.data(i);c&&_(c)&&(s=c.reduce(function(p,m){var x=m.values.map(function(C){return C.value});return a?p=p.concat(x):p.push(x),p},[]))}return s},r.prototype.data.names=function(i){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",i)},r.prototype.data.colors=function(i){return this.internal.updateDataAttributes("colors",i)},r.prototype.data.axes=function(i){return this.internal.updateDataAttributes("axes",i)},r.prototype.data.stackNormalized=function(i){if(i===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!i,this.internal.redraw()},r.prototype.donut=function(){},r.prototype.donut.padAngle=function(i){if(i===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=i,this.flush()},r.prototype.flow=function(i){var a=this.internal,s,c,p=[],m=a.getMaxDataCount(),x,C,k,P=0,D=0,G,B;if(i.json)c=a.convertJsonToData(i.json,i.keys);else if(i.rows)c=a.convertRowsToData(i.rows);else if(i.columns)c=a.convertColumnsToData(i.columns);else return;s=a.convertDataToTargets(c,!0),a.data.targets.forEach(function(N){var U=!1,W,j;for(W=0;W<s.length;W++)if(N.id===s[W].id){for(U=!0,N.values[N.values.length-1]&&(D=N.values[N.values.length-1].index+1),P=s[W].values.length,j=0;j<P;j++)s[W].values[j].index=D+j,a.isTimeSeries()||(s[W].values[j].x=D+j);N.values=N.values.concat(s[W].values),s.splice(W,1);break}U||p.push(N.id)}),a.data.targets.forEach(function(N){var U,W;for(U=0;U<p.length;U++)if(N.id===p[U])for(D=N.values[N.values.length-1].index+1,W=0;W<P;W++)N.values.push({id:N.id,index:D+W,x:a.isTimeSeries()?a.getOtherTargetX(D+W):D+W,value:null})}),a.data.targets.length&&s.forEach(function(N){var U,W=[];for(U=a.data.targets[0].values[0].index;U<D;U++)W.push({id:N.id,index:U,x:a.isTimeSeries()?a.getOtherTargetX(U):U,value:null});N.values.forEach(function(j){j.index+=D,a.isTimeSeries()||(j.x+=D)}),N.values=W.concat(N.values)}),a.data.targets=a.data.targets.concat(s),a.getMaxDataCount(),C=a.data.targets[0],k=C.values[0],g(i.to)?(P=0,B=a.isTimeSeries()?a.parseDate(i.to):i.to,C.values.forEach(function(N){N.x<B&&P++})):g(i.length)&&(P=i.length),m?m===1&&a.isTimeSeries()&&(G=(C.values[C.values.length-1].x-k.x)/2,x=[new Date(+k.x-G),new Date(+k.x+G)],a.updateXDomain(null,!0,!0,!1,x)):(a.isTimeSeries()?C.values.length>1?G=C.values[C.values.length-1].x-k.x:G=k.x-a.getXDomain(a.data.targets)[0]:G=1,x=[k.x-G,k.x],a.updateXDomain(null,!0,!0,!1,x)),a.updateTargets(a.data.targets),a.redraw({flow:{index:k.index,length:P,duration:E(i.duration)?i.duration:a.config.transition_duration,done:i.done,orgDataCount:m},withLegend:!0,withTransition:m>1,withTrimXDomain:!1,withUpdateXAxis:!0})},n.prototype.generateFlow=function(i){var a=this,s=a.config,c=a.d3;return function(){var p=i.targets,m=i.flow,x=i.drawBar,C=i.drawLine,k=i.drawArea,P=i.cx,D=i.cy,G=i.xv,B=i.xForText,N=i.yForText,U=i.duration,W,j=1,K,ft=m.index,ht=m.length,wt=a.getValueOnIndex(a.data.targets[0].values,ft),Ct=a.getValueOnIndex(a.data.targets[0].values,ft+ht),At=a.x.domain(),dt,bt=m.duration||U,vt=m.done||function(){},_t=a.generateWait(),rt,ot,Bt,le,Kt,$e,Qt,fe;a.flowing=!0,a.data.targets.forEach(function(J){J.values.splice(0,ht)}),dt=a.updateXDomain(p,!0,!0),a.updateXGrid&&a.updateXGrid(!0),rt=a.xgrid||c.selectAll([]),ot=a.xgridLines||c.selectAll([]),Bt=a.mainRegion||c.selectAll([]),le=a.mainText||c.selectAll([]),Kt=a.mainBar||c.selectAll([]),$e=a.mainLine||c.selectAll([]),Qt=a.mainArea||c.selectAll([]),fe=a.mainCircle||c.selectAll([]),m.orgDataCount?m.orgDataCount===1||(wt&&wt.x)===(Ct&&Ct.x)||a.isTimeSeries()?W=a.x(At[0])-a.x(dt[0]):W=a.x(wt.x)-a.x(Ct.x):a.data.targets[0].values.length!==1?W=a.x(At[0])-a.x(dt[0]):a.isTimeSeries()?(wt=a.getValueOnIndex(a.data.targets[0].values,0),Ct=a.getValueOnIndex(a.data.targets[0].values,a.data.targets[0].values.length-1),W=a.x(wt.x)-a.x(Ct.x)):W=l(dt)/2,j=l(At)/l(dt),K="translate("+W+",0) scale("+j+",1)",a.hideXGridFocus();var Mt=c.transition().ease(c.easeLinear).duration(bt);_t.add(a.xAxis(a.axes.x,Mt)),_t.add(Kt.transition(Mt).attr("transform",K)),_t.add($e.transition(Mt).attr("transform",K)),_t.add(Qt.transition(Mt).attr("transform",K)),_t.add(fe.transition(Mt).attr("transform",K)),_t.add(le.transition(Mt).attr("transform",K)),_t.add(Bt.filter(a.isRegionOnX).transition(Mt).attr("transform",K)),_t.add(rt.transition(Mt).attr("transform",K)),_t.add(ot.transition(Mt).attr("transform",K)),_t(function(){var J,gt=[],Ge=[];if(ht){for(J=0;J<ht;J++)gt.push("."+S.shape+"-"+(ft+J)),Ge.push("."+S.text+"-"+(ft+J));a.svg.selectAll("."+S.shapes).selectAll(gt).remove(),a.svg.selectAll("."+S.texts).selectAll(Ge).remove(),a.svg.select("."+S.xgrid).remove()}rt.attr("transform",null).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),ot.attr("transform",null),ot.select("line").attr("x1",s.axis_rotated?0:G).attr("x2",s.axis_rotated?a.width:G),ot.select("text").attr("x",s.axis_rotated?a.width:0).attr("y",G),Kt.attr("transform",null).attr("d",x),$e.attr("transform",null).attr("d",C),Qt.attr("transform",null).attr("d",k),fe.attr("transform",null).attr("cx",P).attr("cy",D),le.attr("transform",null).attr("x",B).attr("y",N).style("fill-opacity",a.opacityForText.bind(a)),Bt.attr("transform",null),Bt.filter(a.isRegionOnX).attr("x",a.regionX.bind(a)).attr("width",a.regionWidth.bind(a)),vt(),a.flowing=!1})}},r.prototype.focus=function(i){var a=this.internal,s;i=a.mapToTargetIds(i),s=a.svg.selectAll(a.selectorTargets(i.filter(a.isTargetToShow,a))),this.revert(),this.defocus(),s.classed(S.focused,!0).classed(S.defocused,!1),a.hasArcType()&&a.expandArc(i),a.toggleFocusLegend(i,!0),a.focusedTargetIds=i,a.defocusedTargetIds=a.defocusedTargetIds.filter(function(c){return i.indexOf(c)<0})},r.prototype.defocus=function(i){var a=this.internal,s;i=a.mapToTargetIds(i),s=a.svg.selectAll(a.selectorTargets(i.filter(a.isTargetToShow,a))),s.classed(S.focused,!1).classed(S.defocused,!0),a.hasArcType()&&a.unexpandArc(i),a.toggleFocusLegend(i,!1),a.focusedTargetIds=a.focusedTargetIds.filter(function(c){return i.indexOf(c)<0}),a.defocusedTargetIds=i},r.prototype.revert=function(i){var a=this.internal,s;i=a.mapToTargetIds(i),s=a.svg.selectAll(a.selectorTargets(i)),s.classed(S.focused,!1).classed(S.defocused,!1),a.hasArcType()&&a.unexpandArc(i),a.config.legend_show&&(a.showLegend(i.filter(a.isLegendToShow.bind(a))),a.legend.selectAll(a.selectorLegends(i)).filter(function(){return a.d3.select(this).classed(S.legendItemFocused)}).classed(S.legendItemFocused,!1)),a.focusedTargetIds=[],a.defocusedTargetIds=[]},r.prototype.xgrids=function(i){var a=this.internal,s=a.config;return i&&(s.grid_x_lines=i,a.redrawWithoutRescale()),s.grid_x_lines},r.prototype.xgrids.add=function(i){var a=this.internal;return this.xgrids(a.config.grid_x_lines.concat(i||[]))},r.prototype.xgrids.remove=function(i){var a=this.internal;a.removeGridLines(i,!0)},r.prototype.ygrids=function(i){var a=this.internal,s=a.config;return i&&(s.grid_y_lines=i,a.redrawWithoutRescale()),s.grid_y_lines},r.prototype.ygrids.add=function(i){var a=this.internal;return this.ygrids(a.config.grid_y_lines.concat(i||[]))},r.prototype.ygrids.remove=function(i){var a=this.internal;a.removeGridLines(i,!1)},r.prototype.groups=function(i){var a=this.internal,s=a.config;return A(i)||(s.data_groups=i,a.redraw()),s.data_groups},r.prototype.legend=function(){},r.prototype.legend.show=function(i){var a=this.internal;a.showLegend(a.mapToTargetIds(i)),a.updateAndRedraw({withLegend:!0})},r.prototype.legend.hide=function(i){var a=this.internal;a.hideLegend(a.mapToTargetIds(i)),a.updateAndRedraw({withLegend:!1})},r.prototype.load=function(i){var a=this.internal,s=a.config;if(i.xs&&a.addXs(i.xs),"names"in i&&r.prototype.data.names.bind(this)(i.names),"classes"in i&&Object.keys(i.classes).forEach(function(c){s.data_classes[c]=i.classes[c]}),"categories"in i&&a.isCategorized()&&(s.axis_x_categories=i.categories),"axes"in i&&Object.keys(i.axes).forEach(function(c){s.data_axes[c]=i.axes[c]}),"colors"in i&&Object.keys(i.colors).forEach(function(c){s.data_colors[c]=i.colors[c]}),"cacheIds"in i&&a.hasCaches(i.cacheIds)){a.load(a.getCaches(i.cacheIds),i.done);return}i.unload?a.unload(a.mapToTargetIds(i.unload===!0?null:i.unload),function(){a.loadFromArgs(i)}):a.loadFromArgs(i)},r.prototype.unload=function(i){var a=this.internal;i=i||{},i instanceof Array?i={ids:i}:typeof i=="string"&&(i={ids:[i]}),a.unload(a.mapToTargetIds(i.ids),function(){a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()})},r.prototype.pie=function(){},r.prototype.pie.padAngle=function(i){if(i===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=i,this.flush()},r.prototype.regions=function(i){var a=this.internal,s=a.config;return i&&(s.regions=i,a.redrawWithoutRescale()),s.regions},r.prototype.regions.add=function(i){var a=this.internal,s=a.config;return i&&(s.regions=s.regions.concat(i),a.redrawWithoutRescale()),s.regions},r.prototype.regions.remove=function(i){var a=this.internal,s=a.config,c,p,m;return i=i||{},c=f(i,"duration",s.transition_duration),p=f(i,"classes",[S.region]),m=a.main.select("."+S.regions).selectAll(p.map(function(x){return"."+x})),(c?m.transition().duration(c):m).style("opacity",0).remove(),s.regions=s.regions.filter(function(x){var C=!1;return x.class?(x.class.split(" ").forEach(function(k){p.indexOf(k)>=0&&(C=!0)}),!C):!0}),s.regions},r.prototype.selected=function(i){var a=this.internal,s=a.d3;return a.main.selectAll("."+S.shapes+a.getTargetSelectorSuffix(i)).selectAll("."+S.shape).filter(function(){return s.select(this).classed(S.SELECTED)}).nodes().map(function(c){var p=c.__data__;return p.data?p.data:p})},r.prototype.select=function(i,a,s){var c=this.internal,p=c.d3,m=c.config;!m.data_selection_enabled||c.main.selectAll("."+S.shapes).selectAll("."+S.shape).each(function(x,C){var k=p.select(this),P=x.data?x.data.id:x.id,D=c.getToggle(this,x).bind(c),G=m.data_selection_grouped||!i||i.indexOf(P)>=0,B=!a||a.indexOf(C)>=0,N=k.classed(S.SELECTED);k.classed(S.line)||k.classed(S.area)||(G&&B?m.data_selection_isselectable(x)&&!N&&D(!0,k.classed(S.SELECTED,!0),x,C):g(s)&&s&&N&&D(!1,k.classed(S.SELECTED,!1),x,C))})},r.prototype.unselect=function(i,a){var s=this.internal,c=s.d3,p=s.config;!p.data_selection_enabled||s.main.selectAll("."+S.shapes).selectAll("."+S.shape).each(function(m,x){var C=c.select(this),k=m.data?m.data.id:m.id,P=s.getToggle(this,m).bind(s),D=p.data_selection_grouped||!i||i.indexOf(k)>=0,G=!a||a.indexOf(x)>=0,B=C.classed(S.SELECTED);C.classed(S.line)||C.classed(S.area)||D&&G&&p.data_selection_isselectable(m)&&B&&P(!1,C.classed(S.SELECTED,!1),m,x)})},r.prototype.show=function(i,a){var s=this.internal,c;i=s.mapToTargetIds(i),a=a||{},s.removeHiddenTargetIds(i),c=s.svg.selectAll(s.selectorTargets(i)),c.transition().style("display",q()?"block":"initial","important").style("opacity",1,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",1)}),a.withLegend&&s.showLegend(i),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.hide=function(i,a){var s=this.internal,c;i=s.mapToTargetIds(i),a=a||{},s.addHiddenTargetIds(i),c=s.svg.selectAll(s.selectorTargets(i)),c.transition().style("opacity",0,"important").call(s.endall,function(){c.style("opacity",null).style("opacity",0),c.style("display","none")}),a.withLegend&&s.hideLegend(i),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.toggle=function(i,a){var s=this,c=this.internal;c.mapToTargetIds(i).forEach(function(p){c.isTargetToShow(p)?s.hide(p,a):s.show(p,a)})},r.prototype.subchart=function(){},r.prototype.subchart.isShown=function(){var i=this.internal;return i.config.subchart_show},r.prototype.subchart.show=function(){var i=this.internal;i.config.subchart_show||(i.config.subchart_show=!0,i.initSubchart(),i.updateDimension(),i.initSubchartBrush(),i.updateTargetsForSubchart(i.getTargets()),i.mapToIds(i.data.targets).forEach(function(a){i.withoutFadeIn[a]=!1}),i.updateAndRedraw(),i.showTargets())},r.prototype.subchart.hide=function(){var i=this.internal;!i.config.subchart_show||(i.config.subchart_show=!1,i.removeSubchart(),i.redraw())},r.prototype.tooltip=function(){},r.prototype.tooltip.show=function(i){var a=this.internal,s,c,p={};i.mouse?p=i.mouse:(i.data?c=i.data:typeof i.x!="undefined"&&(i.id?s=a.data.targets.filter(function(m){return m.id===i.id}):s=a.data.targets,c=a.filterByX(s,i.x).slice(0,1)[0]),p=c?a.getMousePosition(c):null),a.dispatchEvent("mousemove",p),a.config.tooltip_onshow.call(a,c)},r.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},r.prototype.transform=function(i,a){var s=this.internal,c=["pie","donut"].indexOf(i)>=0?{withTransform:!0}:null;s.transformTo(a,i,c)},n.prototype.transformTo=function(i,a,s){var c=this,p=!c.hasArcType(),m=s||{withTransitionForAxis:p};m.withTransitionForTransform=!1,c.transiting=!1,c.setTargetType(i,a),c.updateTargets(c.data.targets),c.updateAndRedraw(m)},r.prototype.x=function(i){var a=this.internal;return arguments.length&&(a.updateTargetX(a.data.targets,i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.xs=function(i){var a=this.internal;return arguments.length&&(a.updateTargetXs(a.data.targets,i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.zoom=function(i){var a=this.internal;return i?(a.isTimeSeries()&&(i=i.map(function(s){return a.parseDate(s)})),a.config.subchart_show?a.brush.selectionAsValue(i,!0):(a.updateXDomain(null,!0,!1,!1,i),a.redraw({withY:a.config.zoom_rescale,withSubchart:!1})),a.config.zoom_onzoom.call(this,a.x.orgDomain()),i):a.x.domain()},r.prototype.zoom.enable=function(i){var a=this.internal;a.config.zoom_enabled=i,a.updateAndRedraw()},r.prototype.unzoom=function(){var i=this.internal;i.config.subchart_show?i.brush.clear():(i.updateXDomain(null,!0,!1,!1,i.subX.domain()),i.redraw({withY:i.config.zoom_rescale,withSubchart:!1}))},r.prototype.zoom.max=function(i){var a=this.internal,s=a.config,c=a.d3;if(i===0||i)s.zoom_x_max=c.max([a.orgXDomain[1],i]);else return s.zoom_x_max},r.prototype.zoom.min=function(i){var a=this.internal,s=a.config,c=a.d3;if(i===0||i)s.zoom_x_min=c.min([a.orgXDomain[0],i]);else return s.zoom_x_min},r.prototype.zoom.range=function(i){if(arguments.length)g(i.max)&&this.domain.max(i.max),g(i.min)&&this.domain.min(i.min);else return{max:this.domain.max(),min:this.domain.min()}},n.prototype.initPie=function(){var i=this,a=i.d3;i.pie=a.pie().padAngle(this.getPadAngle.bind(this)).value(function(p){return p.values.reduce(function(m,x){return m+x.value},0)});var s=i.getOrderFunction();if(s&&(i.isOrderAsc()||i.isOrderDesc())){var c=s;s=function(p,m){return c(p,m)*-1}}i.pie.sort(s||null)},n.prototype.updateRadius=function(){var i=this,a=i.config,s=a.gauge_width||a.donut_width,c=i.filterTargetsToShow(i.data.targets).length*i.config.gauge_arcs_minWidth;i.radiusExpanded=Math.min(i.arcWidth,i.arcHeight)/2*(i.hasType("gauge")?.85:1),i.radius=i.radiusExpanded*.95,i.innerRadiusRatio=s?(i.radius-s)/i.radius:.6,i.innerRadius=i.hasType("donut")||i.hasType("gauge")?i.radius*i.innerRadiusRatio:0,i.gaugeArcWidth=s||(c<=i.radius-i.innerRadius?i.radius-i.innerRadius:c<=i.radius?c:i.radius)},n.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},n.prototype.updateArc=function(){var i=this;i.svgArc=i.getSvgArc(),i.svgArcExpanded=i.getSvgArcExpanded(),i.svgArcExpandedSub=i.getSvgArcExpanded(.98)},n.prototype.updateAngle=function(i){var a=this,s=a.config,c=!1,p=0,m,x,C,k;return s?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach(function(P){!c&&P.data.id===i.data.id&&(c=!0,i=P,i.index=p),p++}),isNaN(i.startAngle)&&(i.startAngle=0),isNaN(i.endAngle)&&(i.endAngle=i.startAngle),a.isGaugeType(i.data)&&(m=s.gauge_min,x=s.gauge_max,C=Math.PI*(s.gauge_fullCircle?2:1)/(x-m),k=i.value<m?0:i.value<x?i.value-m:x-m,i.startAngle=s.gauge_startingAngle,i.endAngle=i.startAngle+C*k),c?i:null):null},n.prototype.getSvgArc=function(){var i=this,a=i.hasType("gauge"),s=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,c=i.d3.arc().outerRadius(function(m){return a?i.radius-s*m.index:i.radius}).innerRadius(function(m){return a?i.radius-s*(m.index+1):i.innerRadius}),p=function(m,x){var C;return x?c(m):(C=i.updateAngle(m),C?c(C):"M 0 0")};return p.centroid=c.centroid,p},n.prototype.getSvgArcExpanded=function(i){i=i||1;var a=this,s=a.hasType("gauge"),c=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length,p=Math.min(a.radiusExpanded*i-a.radius,c*.8-(1-i)*100),m=a.d3.arc().outerRadius(function(x){return s?a.radius-c*x.index+p:a.radiusExpanded*i}).innerRadius(function(x){return s?a.radius-c*(x.index+1):a.innerRadius});return function(x){var C=a.updateAngle(x);return C?m(C):"M 0 0"}},n.prototype.getArc=function(i,a,s){return s||this.isArcType(i.data)?this.svgArc(i,a):"M 0 0"},n.prototype.transformForArcLabel=function(i){var a=this,s=a.config,c=a.updateAngle(i),p,m,x,C,k,P="",D=a.hasType("gauge");if(c&&!D)p=this.svgArc.centroid(c),m=isNaN(p[0])?0:p[0],x=isNaN(p[1])?0:p[1],C=Math.sqrt(m*m+x*x),a.hasType("donut")&&s.donut_label_ratio?k=w(s.donut_label_ratio)?s.donut_label_ratio(i,a.radius,C):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?k=w(s.pie_label_ratio)?s.pie_label_ratio(i,a.radius,C):s.pie_label_ratio:k=a.radius&&C?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/C:0,P="translate("+m*k+","+x*k+")";else if(c&&D&&a.filterTargetsToShow(a.data.targets).length>1){var G=Math.sin(c.endAngle-Math.PI/2);m=Math.cos(c.endAngle-Math.PI/2)*(a.radiusExpanded+25),x=G*(a.radiusExpanded+15-Math.abs(G*10))+3,P="translate("+m+","+x+")"}return P},n.prototype.getArcRatio=function(i){return this.getRatio("arc",i)},n.prototype.convertToArcData=function(i){return this.addName({id:i.data.id,value:i.value,ratio:this.getRatio("arc",i),index:i.index})},n.prototype.textForArcLabel=function(i){var a=this,s,c,p,m,x;return!a.shouldShowArcLabel()||(s=a.updateAngle(i),c=s?s.value:null,p=a.getRatio("arc",s),m=i.data.id,!a.hasType("gauge")&&!a.meetsArcLabelThreshold(p))?"":(x=a.getArcLabelFormat(),x?x(c,p,m):a.defaultArcValueFormat(c,p))},n.prototype.textForGaugeMinMax=function(i,a){var s=this,c=s.getGaugeLabelExtents();return c?c(i,a):i},n.prototype.expandArc=function(i){var a=this,s;if(a.transiting){s=window.setInterval(function(){a.transiting||(window.clearInterval(s),a.legend.selectAll(".c3-legend-item-focused").size()>0&&a.expandArc(i))},10);return}i=a.mapToTargetIds(i),a.svg.selectAll(a.selectorTargets(i,"."+S.chartArc)).each(function(c){!a.shouldExpand(c.data.id)||a.d3.select(this).selectAll("path").transition().duration(a.expandDuration(c.data.id)).attr("d",a.svgArcExpanded).transition().duration(a.expandDuration(c.data.id)*2).attr("d",a.svgArcExpandedSub).each(function(p){a.isDonutType(p.data)})})},n.prototype.unexpandArc=function(i){var a=this;a.transiting||(i=a.mapToTargetIds(i),a.svg.selectAll(a.selectorTargets(i,"."+S.chartArc)).selectAll("path").transition().duration(function(s){return a.expandDuration(s.data.id)}).attr("d",a.svgArc),a.svg.selectAll("."+S.arc))},n.prototype.expandDuration=function(i){var a=this,s=a.config;return a.isDonutType(i)?s.donut_expand_duration:a.isGaugeType(i)?s.gauge_expand_duration:a.isPieType(i)?s.pie_expand_duration:50},n.prototype.shouldExpand=function(i){var a=this,s=a.config;return a.isDonutType(i)&&s.donut_expand||a.isGaugeType(i)&&s.gauge_expand||a.isPieType(i)&&s.pie_expand},n.prototype.shouldShowArcLabel=function(){var i=this,a=i.config,s=!0;return i.hasType("donut")?s=a.donut_label_show:i.hasType("pie")&&(s=a.pie_label_show),s},n.prototype.meetsArcLabelThreshold=function(i){var a=this,s=a.config,c=a.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold;return i>=c},n.prototype.getArcLabelFormat=function(){var i=this,a=i.config,s=a.pie_label_format;return i.hasType("gauge")?s=a.gauge_label_format:i.hasType("donut")&&(s=a.donut_label_format),s},n.prototype.getGaugeLabelExtents=function(){var i=this,a=i.config;return a.gauge_label_extents},n.prototype.getArcTitle=function(){var i=this;return i.hasType("donut")?i.config.donut_title:""},n.prototype.updateTargetsForArc=function(i){var a=this,s=a.main,c,p,m=a.classChartArc.bind(a),x=a.classArcs.bind(a),C=a.classFocus.bind(a);c=s.select("."+S.chartArcs).selectAll("."+S.chartArc).data(a.pie(i)).attr("class",function(k){return m(k)+C(k.data)}),p=c.enter().append("g").attr("class",m),p.append("g").attr("class",x),p.append("text").attr("dy",a.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},n.prototype.initArc=function(){var i=this;i.arcs=i.main.select("."+S.chart).append("g").attr("class",S.chartArcs).attr("transform",i.getTranslate("arc")),i.arcs.append("text").attr("class",S.chartArcsTitle).style("text-anchor","middle").text(i.getArcTitle())},n.prototype.redrawArc=function(i,a,s){var c=this,p=c.d3,m=c.config,x=c.main,C,k,P,D,G=c.hasType("gauge");if(C=x.selectAll("."+S.arcs).selectAll("."+S.arc).data(c.arcData.bind(c)),k=C.enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(U){return c.color(U.data)}).style("cursor",function(U){return m.interaction_enabled&&m.data_selection_isselectable(U)?"pointer":null}).each(function(U){c.isGaugeType(U.data)&&(U.startAngle=U.endAngle=m.gauge_startingAngle),this._current=U}).merge(C),G&&(P=x.selectAll("."+S.arcs).selectAll("."+S.arcLabelLine).data(c.arcData.bind(c)),D=P.enter().append("rect").attr("class",function(U){return S.arcLabelLine+" "+S.target+" "+S.target+"-"+U.data.id}).merge(P),c.filterTargetsToShow(c.data.targets).length===1?D.style("display","none"):D.style("fill",function(U){return c.levelColor?c.levelColor(U.data.values.reduce(function(W,j){return W+j.value},0)):c.color(U.data)}).style("display",m.gauge_labelLine_show?"":"none").each(function(U){var W=0,j=2,K=0,ft=0,ht="";if(c.hiddenTargetIds.indexOf(U.data.id)<0){var wt=c.updateAngle(U),Ct=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length*(wt.index+1),At=wt.endAngle-Math.PI/2,dt=c.radius-Ct,bt=At-(dt===0?0:1/dt);W=c.radiusExpanded-c.radius+Ct,K=Math.cos(bt)*dt,ft=Math.sin(bt)*dt,ht="rotate("+At*180/Math.PI+", "+K+", "+ft+")"}p.select(this).attr("x",K).attr("y",ft).attr("width",W).attr("height",j).attr("transform",ht).style("stroke-dasharray","0, "+(W+j)+", 0")})),k.attr("transform",function(U){return!c.isGaugeType(U.data)&&s?"scale(0)":""}).on("mouseover",m.interaction_enabled?function(U){var W,j;c.transiting||(W=c.updateAngle(U),W&&(j=c.convertToArcData(W),c.expandArc(W.data.id),c.api.focus(W.data.id),c.toggleFocusLegend(W.data.id,!0),c.config.data_onmouseover(j,this)))}:null).on("mousemove",m.interaction_enabled?function(U){var W=c.updateAngle(U),j,K;W&&(j=c.convertToArcData(W),K=[j],c.showTooltip(K,this))}:null).on("mouseout",m.interaction_enabled?function(U){var W,j;c.transiting||(W=c.updateAngle(U),W&&(j=c.convertToArcData(W),c.unexpandArc(W.data.id),c.api.revert(),c.revertLegend(),c.hideTooltip(),c.config.data_onmouseout(j,this)))}:null).on("click",m.interaction_enabled?function(U,W){var j=c.updateAngle(U),K;j&&(K=c.convertToArcData(j),c.toggleShape&&c.toggleShape(this,K,W),c.config.data_onclick.call(c.api,K,this))}:null).each(function(){c.transiting=!0}).transition().duration(i).attrTween("d",function(U){var W=c.updateAngle(U),j;return W?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),j=p.interpolate(this._current,W),this._current=j(0),function(K){if(c.config===null)return"M 0 0";var ft=j(K);return ft.data=U.data,c.getArc(ft,!0)}):function(){return"M 0 0"}}).attr("transform",s?"scale(1)":"").style("fill",function(U){return c.levelColor?c.levelColor(U.data.values.reduce(function(W,j){return W+j.value},0)):c.color(U.data.id)}).call(c.endall,function(){c.transiting=!1}),C.exit().transition().duration(a).style("opacity",0).remove(),x.selectAll("."+S.chartArc).select("text").style("opacity",0).attr("class",function(U){return c.isGaugeType(U.data)?S.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(U){return c.isGaugeType(U.data)&&c.filterTargetsToShow(c.data.targets).length===1?Math.round(c.radius/5)+"px":""}).transition().duration(i).style("opacity",function(U){return c.isTargetToShow(U.data.id)&&c.isArcType(U.data)?1:0}),x.select("."+S.chartArcsTitle).style("opacity",c.hasType("donut")||G?1:0),G){var B=0,N=c.arcs.select("g."+S.chartArcsBackground).selectAll("path."+S.chartArcsBackground).data(c.data.targets);N.enter().append("path").attr("class",function(U,W){return S.chartArcsBackground+" "+S.chartArcsBackground+"-"+W}).merge(N).attr("d",function(U){if(c.hiddenTargetIds.indexOf(U.id)>=0)return"M 0 0";var W={data:[{value:m.gauge_max}],startAngle:m.gauge_startingAngle,endAngle:-1*m.gauge_startingAngle*(m.gauge_fullCircle?Math.PI:1),index:B++};return c.getArc(W,!0,!0)}),N.exit().remove(),c.arcs.select("."+S.chartArcsGaugeUnit).attr("dy",".75em").text(m.gauge_label_show?m.gauge_units:""),c.arcs.select("."+S.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/(m.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(m.gauge_label_show?c.textForGaugeMinMax(m.gauge_min,!1):""),c.arcs.select("."+S.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/(m.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(m.gauge_label_show?c.textForGaugeMinMax(m.gauge_max,!0):"")}},n.prototype.initGauge=function(){var i=this.arcs;this.hasType("gauge")&&(i.append("g").attr("class",S.chartArcsBackground),i.append("text").attr("class",S.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),i.append("text").attr("class",S.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),i.append("text").attr("class",S.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},n.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},n.prototype.addToCache=function(i,a){this.cache["$"+i]=a},n.prototype.getFromCache=function(i){return this.cache["$"+i]},n.prototype.resetCache=function(){var i=this;Object.keys(this.cache).filter(function(a){return/^\$/.test(a)}).forEach(function(a){delete i.cache[a]})},n.prototype.hasCaches=function(i){for(var a=0;a<i.length;a++)if(!(i[a]in this.cache))return!1;return!0},n.prototype.addCache=function(i,a){this.cache[i]=this.cloneTarget(a)},n.prototype.getCaches=function(i){var a=[],s;for(s=0;s<i.length;s++)i[s]in this.cache&&a.push(this.cloneTarget(this.cache[i[s]]));return a},n.prototype.categoryName=function(i){var a=this.config;return i<a.axis_x_categories.length?a.axis_x_categories[i]:i},n.prototype.generateTargetClass=function(i){return i||i===0?("-"+i).replace(/\s/g,"-"):""},n.prototype.generateClass=function(i,a){return" "+i+" "+i+this.generateTargetClass(a)},n.prototype.classText=function(i){return this.generateClass(S.text,i.index)},n.prototype.classTexts=function(i){return this.generateClass(S.texts,i.id)},n.prototype.classShape=function(i){return this.generateClass(S.shape,i.index)},n.prototype.classShapes=function(i){return this.generateClass(S.shapes,i.id)},n.prototype.classLine=function(i){return this.classShape(i)+this.generateClass(S.line,i.id)},n.prototype.classLines=function(i){return this.classShapes(i)+this.generateClass(S.lines,i.id)},n.prototype.classCircle=function(i){return this.classShape(i)+this.generateClass(S.circle,i.index)},n.prototype.classCircles=function(i){return this.classShapes(i)+this.generateClass(S.circles,i.id)},n.prototype.classBar=function(i){return this.classShape(i)+this.generateClass(S.bar,i.index)},n.prototype.classBars=function(i){return this.classShapes(i)+this.generateClass(S.bars,i.id)},n.prototype.classArc=function(i){return this.classShape(i.data)+this.generateClass(S.arc,i.data.id)},n.prototype.classArcs=function(i){return this.classShapes(i.data)+this.generateClass(S.arcs,i.data.id)},n.prototype.classArea=function(i){return this.classShape(i)+this.generateClass(S.area,i.id)},n.prototype.classAreas=function(i){return this.classShapes(i)+this.generateClass(S.areas,i.id)},n.prototype.classRegion=function(i,a){return this.generateClass(S.region,a)+" "+("class"in i?i.class:"")},n.prototype.classEvent=function(i){return this.generateClass(S.eventRect,i.index)},n.prototype.classTarget=function(i){var a=this,s=a.config.data_classes[i],c="";return s&&(c=" "+S.target+"-"+s),a.generateClass(S.target,i)+c},n.prototype.classFocus=function(i){return this.classFocused(i)+this.classDefocused(i)},n.prototype.classFocused=function(i){return" "+(this.focusedTargetIds.indexOf(i.id)>=0?S.focused:"")},n.prototype.classDefocused=function(i){return" "+(this.defocusedTargetIds.indexOf(i.id)>=0?S.defocused:"")},n.prototype.classChartText=function(i){return S.chartText+this.classTarget(i.id)},n.prototype.classChartLine=function(i){return S.chartLine+this.classTarget(i.id)},n.prototype.classChartBar=function(i){return S.chartBar+this.classTarget(i.id)},n.prototype.classChartArc=function(i){return S.chartArc+this.classTarget(i.data.id)},n.prototype.getTargetSelectorSuffix=function(i){var a=this.generateTargetClass(i);return window.CSS&&window.CSS.escape?window.CSS.escape(a):a.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},n.prototype.selectorTarget=function(i,a){return(a||"")+"."+S.target+this.getTargetSelectorSuffix(i)},n.prototype.selectorTargets=function(i,a){var s=this;return i=i||[],i.length?i.map(function(c){return s.selectorTarget(c,a)}):null},n.prototype.selectorLegend=function(i){return"."+S.legendItem+this.getTargetSelectorSuffix(i)},n.prototype.selectorLegends=function(i){var a=this;return i&&i.length?i.map(function(s){return a.selectorLegend(s)}):null},n.prototype.getClipPath=function(i){return"url("+(q(9)?"":document.URL.split("#")[0])+"#"+i+")"},n.prototype.appendClip=function(i,a){return i.append("clipPath").attr("id",a).append("rect")},n.prototype.getAxisClipX=function(i){var a=Math.max(30,this.margin.left);return i?-(1+a):-(a-1)},n.prototype.getAxisClipY=function(i){return i?-20:-this.margin.top},n.prototype.getXAxisClipX=function(){var i=this;return i.getAxisClipX(!i.config.axis_rotated)},n.prototype.getXAxisClipY=function(){var i=this;return i.getAxisClipY(!i.config.axis_rotated)},n.prototype.getYAxisClipX=function(){var i=this;return i.config.axis_y_inner?-1:i.getAxisClipX(i.config.axis_rotated)},n.prototype.getYAxisClipY=function(){var i=this;return i.getAxisClipY(i.config.axis_rotated)},n.prototype.getAxisClipWidth=function(i){var a=this,s=Math.max(30,a.margin.left),c=Math.max(30,a.margin.right);return i?a.width+2+s+c:a.margin.left+20},n.prototype.getAxisClipHeight=function(i){return(i?this.margin.bottom:this.margin.top+this.height)+20},n.prototype.getXAxisClipWidth=function(){var i=this;return i.getAxisClipWidth(!i.config.axis_rotated)},n.prototype.getXAxisClipHeight=function(){var i=this;return i.getAxisClipHeight(!i.config.axis_rotated)},n.prototype.getYAxisClipWidth=function(){var i=this;return i.getAxisClipWidth(i.config.axis_rotated)+(i.config.axis_y_inner?20:0)},n.prototype.getYAxisClipHeight=function(){var i=this;return i.getAxisClipHeight(i.config.axis_rotated)},n.prototype.generateColor=function(){var i=this,a=i.config,s=i.d3,c=a.data_colors,p=L(a.color_pattern)?a.color_pattern:s.schemeCategory10,m=a.data_color,x=[];return function(C){var k=C.id||C.data&&C.data.id||C,P;return c[k]instanceof Function?P=c[k](C):c[k]?P=c[k]:(x.indexOf(k)<0&&x.push(k),P=p[x.indexOf(k)%p.length],c[k]=P),m instanceof Function?m(P,C):P}},n.prototype.generateLevelColor=function(){var i=this,a=i.config,s=a.color_pattern,c=a.color_threshold,p=c.unit==="value",m=c.values&&c.values.length?c.values:[],x=c.max||100;return L(c)&&L(s)?function(C){var k,P,D=s[s.length-1];for(k=0;k<m.length;k++)if(P=p?C:C*100/x,P<m[k]){D=s[k];break}return D}:null},n.prototype.getDefaultConfig=function(){var i={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(a,s,c,p){return this.getTooltipContent?this.getTooltipContent(a,s,c,p):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(a){i[a]=this.additionalConfig[a]},this),i},n.prototype.additionalConfig={},n.prototype.loadConfig=function(i){var a=this.config,s,c,p;function m(){var x=c.shift();return x&&s&&typeof s=="object"&&x in s?(s=s[x],m()):x?void 0:s}Object.keys(a).forEach(function(x){s=i,c=x.split("_"),p=m(),g(p)&&(a[x]=p)})},n.prototype.convertUrlToData=function(i,a,s,c,p){var m=this,x=a||"csv",C,k;x==="json"?(C=m.d3.json,k=m.convertJsonToData):x==="tsv"?(C=m.d3.tsv,k=m.convertXsvToData):(C=m.d3.csv,k=m.convertXsvToData),C(i,s).then(function(P){p.call(m,k.call(m,P,c))}).catch(function(P){throw P})},n.prototype.convertXsvToData=function(i){var a=i.columns,s=i;return s.length===0?{keys:a,rows:[a.reduce(function(c,p){var m;return Object.assign(c,(m={},m[p]=null,m))},{})]}:{keys:a,rows:[].concat(i)}},n.prototype.convertJsonToData=function(i,a){var s=this,c=[],p,m;return a?(a.x?(p=a.value.concat(a.x),s.config.data_x=a.x):p=a.value,c.push(p),i.forEach(function(x){var C=[];p.forEach(function(k){var P=s.findValueInJson(x,k);A(P)&&(P=null),C.push(P)}),c.push(C)}),m=s.convertRowsToData(c)):(Object.keys(i).forEach(function(x){c.push([x].concat(i[x]))}),m=s.convertColumnsToData(c)),m},n.prototype.findValueInJson=function(i,a){if(a in i)return i[a];a=a.replace(/\[(\w+)\]/g,".$1"),a=a.replace(/^\./,"");for(var s=a.split("."),c=0;c<s.length;++c){var p=s[c];if(p in i)i=i[p];else return}return i},n.prototype.convertRowsToData=function(i){for(var a=[],s=i[0],c=1;c<i.length;c++){for(var p={},m=0;m<i[c].length;m++){if(A(i[c][m]))throw new Error("Source data is missing a component at ("+c+","+m+")!");p[s[m]]=i[c][m]}a.push(p)}return{keys:s,rows:a}},n.prototype.convertColumnsToData=function(i){for(var a=[],s=[],c=0;c<i.length;c++){for(var p=i[c][0],m=1;m<i[c].length;m++){if(A(a[m-1])&&(a[m-1]={}),A(i[c][m]))throw new Error("Source data is missing a component at ("+c+","+m+")!");a[m-1][p]=i[c][m]}s.push(p)}return{keys:s,rows:a}},n.prototype.convertDataToTargets=function(i,a){var s=this,c=s.config,p,m,x,C,k;if(_(i)?C=Object.keys(i[0]):(C=i.keys,i=i.rows),x=C.filter(s.isX,s),!s.isStanfordGraphType())m=C.filter(s.isNotX,s);else if(k=C.filter(s.isEpochs,s),m=C.filter(s.isNotXAndNotEpochs,s),x.length!==1||k.length!==1||m.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return m.forEach(function(P){var D=s.getXKey(P);s.isCustomX()||s.isTimeSeries()?x.indexOf(D)>=0?s.data.xs[P]=(a&&s.data.xs[P]?s.data.xs[P]:[]).concat(i.map(function(G){return G[D]}).filter(E).map(function(G,B){return s.generateTargetX(G,P,B)})):c.data_x?s.data.xs[P]=s.getOtherTargetXs():L(c.data_xs)&&(s.data.xs[P]=s.getXValuesOfXKey(D,s.data.targets)):s.data.xs[P]=i.map(function(G,B){return B})}),m.forEach(function(P){if(!s.data.xs[P])throw new Error('x is not defined for id = "'+P+'".')}),p=m.map(function(P,D){var G=c.data_idConverter(P);return{id:G,id_org:P,values:i.map(function(B,N){var U=s.getXKey(P),W=B[U],j=B[P]!==null&&!isNaN(B[P])?+B[P]:null,K,ft;return s.isCustomX()&&s.isCategorized()&&!A(W)?(D===0&&N===0&&(c.axis_x_categories=[]),K=c.axis_x_categories.indexOf(W),K===-1&&(K=c.axis_x_categories.length,c.axis_x_categories.push(W))):K=s.generateTargetX(W,P,N),(A(B[P])||s.data.xs[P].length<=N)&&(K=void 0),ft={x:K,value:j,id:G},s.isStanfordGraphType()&&(ft.epochs=B[k]),ft}).filter(function(B){return g(B.x)})}}),p.forEach(function(P){var D;c.data_xSort&&(P.values=P.values.sort(function(G,B){var N=G.x||G.x===0?G.x:1/0,U=B.x||B.x===0?B.x:1/0;return N-U})),D=0,P.values.forEach(function(G){G.index=D++}),s.data.xs[P.id].sort(function(G,B){return G-B})}),s.hasNegativeValue=s.hasNegativeValueInTargets(p),s.hasPositiveValue=s.hasPositiveValueInTargets(p),c.data_type&&s.setTargetType(s.mapToIds(p).filter(function(P){return!(P in c.data_types)}),c.data_type),p.forEach(function(P){s.addCache(P.id_org,P)}),p},n.prototype.isEpochs=function(i){var a=this,s=a.config;return s.data_epochs&&i===s.data_epochs},n.prototype.isX=function(i){var a=this,s=a.config;return s.data_x&&i===s.data_x||L(s.data_xs)&&y(s.data_xs,i)},n.prototype.isNotX=function(i){return!this.isX(i)},n.prototype.isNotXAndNotEpochs=function(i){return!this.isX(i)&&!this.isEpochs(i)},n.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},n.prototype.isAxisNormalized=function(i){var a=this;return a.isStackNormalized()?a.data.targets.filter(function(s){return a.axis.getId(s.id)===i}).some(function(s){return a.isTargetNormalized(s.id)}):!1},n.prototype.isTargetNormalized=function(i){var a=this;return a.isStackNormalized()&&a.config.data_groups.some(function(s){return s.includes(i)})},n.prototype.getXKey=function(i){var a=this,s=a.config;return s.data_x?s.data_x:L(s.data_xs)?s.data_xs[i]:null},n.prototype.getTotalPerIndex=function(i){var a=this;if(!a.isStackNormalized())return null;var s=a.getFromCache("getTotalPerIndex");if(s!==void 0)return s[i];var c={y:[],y2:[]};return a.data.targets.filter(function(p){return a.isTargetNormalized(p.id)}).filter(function(p){return a.isTargetToShow(p.id)}).forEach(function(p){var m=c[a.axis.getId(p.id)];p.values.forEach(function(x,C){m[C]||(m[C]=0),m[C]+=b(x.value)?x.value:0})}),a.addToCache("getTotalPerIndex",c),c[i]},n.prototype.getTotalDataSum=function(){var i=this,a=i.getFromCache("getTotalDataSum");if(a!==void 0)return a;var s=I(i.data.targets.filter(function(c){return i.isTargetToShow(c.id)}).map(function(c){return c.values})).map(function(c){return c.value}).reduce(function(c,p){return c+p},0);return i.addToCache("getTotalDataSum",s),s},n.prototype.getXValuesOfXKey=function(i,a){var s=this,c,p=a&&L(a)?s.mapToIds(a):[];return p.forEach(function(m){s.getXKey(m)===i&&(c=s.data.xs[m])}),c},n.prototype.getXValue=function(i,a){var s=this;return i in s.data.xs&&s.data.xs[i]&&E(s.data.xs[i][a])?s.data.xs[i][a]:a},n.prototype.getOtherTargetXs=function(){var i=this,a=Object.keys(i.data.xs);return a.length?i.data.xs[a[0]]:null},n.prototype.getOtherTargetX=function(i){var a=this.getOtherTargetXs();return a&&i<a.length?a[i]:null},n.prototype.addXs=function(i){var a=this;Object.keys(i).forEach(function(s){a.config.data_xs[s]=i[s]})},n.prototype.addName=function(i){var a=this,s;return i&&(s=a.config.data_names[i.id],i.name=s!==void 0?s:i.id),i},n.prototype.getValueOnIndex=function(i,a){var s=i.filter(function(c){return c.index===a});return s.length?s[0]:null},n.prototype.updateTargetX=function(i,a){var s=this;i.forEach(function(c){c.values.forEach(function(p,m){p.x=s.generateTargetX(a[m],c.id,m)}),s.data.xs[c.id]=a})},n.prototype.updateTargetXs=function(i,a){var s=this;i.forEach(function(c){a[c.id]&&s.updateTargetX([c],a[c.id])})},n.prototype.generateTargetX=function(i,a,s){var c=this,p;return c.isTimeSeries()?p=i?c.parseDate(i):c.parseDate(c.getXValue(a,s)):c.isCustomX()&&!c.isCategorized()?p=E(i)?+i:c.getXValue(a,s):p=s,p},n.prototype.cloneTarget=function(i){return{id:i.id,id_org:i.id_org,values:i.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},n.prototype.getMaxDataCount=function(){var i=this;return i.d3.max(i.data.targets,function(a){return a.values.length})},n.prototype.mapToIds=function(i){return i.map(function(a){return a.id})},n.prototype.mapToTargetIds=function(i){var a=this;return i?[].concat(i):a.mapToIds(a.data.targets)},n.prototype.hasTarget=function(i,a){var s=this.mapToIds(i),c;for(c=0;c<s.length;c++)if(s[c]===a)return!0;return!1},n.prototype.isTargetToShow=function(i){return this.hiddenTargetIds.indexOf(i)<0},n.prototype.isLegendToShow=function(i){return this.hiddenLegendIds.indexOf(i)<0},n.prototype.getTargetsToShow=function(){var i=this;return i.filterTargetsToShow(i.data.targets)},n.prototype.filterTargetsToShow=function(i){var a=this;return i.filter(function(s){return a.isTargetToShow(s.id)})},n.prototype.getTargets=function(){var i=this;return i.data.targets},n.prototype.mapTargetsToUniqueXs=function(i){var a=this,s=a.d3.set(a.d3.merge(i.map(function(c){return c.values.map(function(p){return+p.x})}))).values();return s=a.isTimeSeries()?s.map(function(c){return new Date(+c)}):s.map(function(c){return+c}),s.sort(function(c,p){return c<p?-1:c>p?1:c>=p?0:NaN})},n.prototype.addHiddenTargetIds=function(i){i=i instanceof Array?i:new Array(i);for(var a=0;a<i.length;a++)this.hiddenTargetIds.indexOf(i[a])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(i[a]));this.resetCache()},n.prototype.removeHiddenTargetIds=function(i){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(a){return i.indexOf(a)<0}),this.resetCache()},n.prototype.addHiddenLegendIds=function(i){i=i instanceof Array?i:new Array(i);for(var a=0;a<i.length;a++)this.hiddenLegendIds.indexOf(i[a])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(i[a]))},n.prototype.removeHiddenLegendIds=function(i){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(a){return i.indexOf(a)<0})},n.prototype.getValuesAsIdKeyed=function(i){var a={};return i.forEach(function(s){a[s.id]=[],s.values.forEach(function(c){a[s.id].push(c.value)})}),a},n.prototype.checkValueInTargets=function(i,a){var s=Object.keys(i),c,p,m;for(c=0;c<s.length;c++)for(m=i[s[c]].values,p=0;p<m.length;p++)if(a(m[p].value))return!0;return!1},n.prototype.hasNegativeValueInTargets=function(i){return this.checkValueInTargets(i,function(a){return a<0})},n.prototype.hasPositiveValueInTargets=function(i){return this.checkValueInTargets(i,function(a){return a>0})},n.prototype.isOrderDesc=function(){var i=this.config;return typeof i.data_order=="string"&&i.data_order.toLowerCase()==="desc"},n.prototype.isOrderAsc=function(){var i=this.config;return typeof i.data_order=="string"&&i.data_order.toLowerCase()==="asc"},n.prototype.getOrderFunction=function(){var i=this,a=i.config,s=i.isOrderAsc(),c=i.isOrderDesc();if(s||c){var p=function(x,C){return x+Math.abs(C.value)};return function(x,C){var k=x.values.reduce(p,0),P=C.values.reduce(p,0);return s?P-k:k-P}}else{if(w(a.data_order))return a.data_order;if(_(a.data_order)){var m=a.data_order;return function(x,C){return m.indexOf(x.id)-m.indexOf(C.id)}}}},n.prototype.orderTargets=function(i){var a=this.getOrderFunction();return a&&i.sort(a),i},n.prototype.filterByIndex=function(i,a){return this.d3.merge(i.map(function(s){return s.values.filter(function(c){return c.index===a})}))},n.prototype.filterByX=function(i,a){return this.d3.merge(i.map(function(s){return s.values})).filter(function(s){return s.x-a===0})},n.prototype.filterRemoveNull=function(i){return i.filter(function(a){return E(a.value)})},n.prototype.filterByXDomain=function(i,a){return i.map(function(s){return{id:s.id,id_org:s.id_org,values:s.values.filter(function(c){return a[0]<=c.x&&c.x<=a[1]})}})},n.prototype.hasDataLabel=function(){var i=this.config;return typeof i.data_labels=="boolean"&&i.data_labels?!0:!!(typeof i.data_labels=="object"&&L(i.data_labels))},n.prototype.getDataLabelLength=function(i,a,s){var c=this,p=[0,0],m=1.3;return c.selectChart.select("svg").selectAll(".dummy").data([i,a]).enter().append("text").text(function(x){return c.dataLabelFormat(x.id)(x)}).each(function(x,C){p[C]=d(this)[s]*m}).remove(),p},n.prototype.isNoneArc=function(i){return this.hasTarget(this.data.targets,i.id)},n.prototype.isArc=function(i){return"data"in i&&this.hasTarget(this.data.targets,i.data.id)},n.prototype.findClosestFromTargets=function(i,a){var s=this,c=i.map(function(p){return s.findClosest(p.values,a,s.config.tooltip_horizontal?s.horizontalDistance.bind(s):s.dist.bind(s),s.config.point_sensitivity)}).filter(function(p){return p});if(c.length!==0)return c.length===1?c[0]:s.findClosest(c,a,s.dist.bind(s))},n.prototype.findClosestFromTargetsByX=function(i,a){var s,c;return i.forEach(function(p){p.values.forEach(function(m){var x=Math.abs(a-m.x);(c===void 0||x<c)&&(s=m,c=x)})}),s},n.prototype.findClosest=function(i,a,s,c){c===void 0&&(c=1/0);var p=this,m;return i.filter(function(x){return x&&p.isBarType(x.id)}).forEach(function(x){if(!m){var C=p.main.select("."+S.bars+p.getTargetSelectorSuffix(x.id)+" ."+S.bar+"-"+x.index).node();p.isWithinBar(a,C)&&(m=x)}}),i.filter(function(x){return x&&!p.isBarType(x.id)}).forEach(function(x){var C=s(x,a);C<c&&(c=C,m=x)}),m},n.prototype.dist=function(i,a){var s=this,c=s.config,p=c.axis_rotated?1:0,m=c.axis_rotated?0:1,x=s.circleY(i,i.index),C=s.x(i.x);return Math.sqrt(Math.pow(C-a[p],2)+Math.pow(x-a[m],2))},n.prototype.horizontalDistance=function(i,a){var s=this,c=s.config,p=c.axis_rotated?1:0,m=s.x(i.x);return Math.abs(m-a[p])},n.prototype.convertValuesToStep=function(i){var a=[].concat(i),s;if(!this.isCategorized())return i;for(s=i.length+1;0<s;s--)a[s]=a[s-1];return a[0]={x:a[0].x-1,value:a[0].value,id:a[0].id},a[i.length+1]={x:a[i.length].x+1,value:a[i.length].value,id:a[i.length].id},a},n.prototype.getRatio=function(i,a,s){s===void 0&&(s=!1);var c=this,p=c.api,m=0;if(a&&p.data.shown.call(p).length){if(m=a.ratio||a.value,i==="arc")if(c.hasType("gauge"))m=(a.endAngle-a.startAngle)/(Math.PI*(c.config.gauge_fullCircle?2:1));else{var x=c.getTotalDataSum();m=a.value/x}else if(i==="index"){var x=c.getTotalPerIndex(c.axis.getId(a.id));a.ratio=b(a.value)&&x&&x[a.index]>0?a.value/x[a.index]:0,m=a.ratio}}return s&&m?m*100:m},n.prototype.updateDataAttributes=function(i,a){var s=this,c=s.config,p=c["data_"+i];return typeof a=="undefined"||(Object.keys(a).forEach(function(m){p[m]=a[m]}),s.redraw({withLegend:!0})),p},n.prototype.load=function(i,a){var s=this;i&&(a.filter&&(i=i.filter(a.filter)),(a.type||a.types)&&i.forEach(function(c){var p=a.types&&a.types[c.id]?a.types[c.id]:a.type;s.setTargetType(c.id,p)}),s.data.targets.forEach(function(c){for(var p=0;p<i.length;p++)if(c.id===i[p].id){c.values=i[p].values,i.splice(p,1);break}}),s.data.targets=s.data.targets.concat(i)),s.updateTargets(s.data.targets),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()},n.prototype.loadFromArgs=function(i){var a=this;a.resetCache(),i.data?a.load(a.convertDataToTargets(i.data),i):i.url?a.convertUrlToData(i.url,i.mimeType,i.headers,i.keys,function(s){a.load(a.convertDataToTargets(s),i)}):i.json?a.load(a.convertDataToTargets(a.convertJsonToData(i.json,i.keys)),i):i.rows?a.load(a.convertDataToTargets(a.convertRowsToData(i.rows)),i):i.columns?a.load(a.convertDataToTargets(a.convertColumnsToData(i.columns)),i):a.load(null,i)},n.prototype.unload=function(i,a){var s=this;if(s.resetCache(),a||(a=function(){}),i=i.filter(function(c){return s.hasTarget(s.data.targets,c)}),!i||i.length===0){a();return}s.svg.selectAll(i.map(function(c){return s.selectorTarget(c)})).transition().style("opacity",0).remove().call(s.endall,a),i.forEach(function(c){s.withoutFadeIn[c]=!1,s.legend&&s.legend.selectAll("."+S.legendItem+s.getTargetSelectorSuffix(c)).remove(),s.data.targets=s.data.targets.filter(function(p){return p.id!==c})})},n.prototype.getYDomainMin=function(i){var a=this,s=a.config,c=a.mapToIds(i),p=a.getValuesAsIdKeyed(i),m,x,C,k,P,D;if(s.data_groups.length>0){for(D=a.hasNegativeValueInTargets(i),m=0;m<s.data_groups.length;m++)if(k=s.data_groups[m].filter(function(G){return c.indexOf(G)>=0}),k.length!==0)for(C=k[0],D&&p[C]&&p[C].forEach(function(G,B){p[C][B]=G<0?G:0}),x=1;x<k.length;x++)P=k[x],p[P]&&p[P].forEach(function(G,B){a.axis.getId(P)===a.axis.getId(C)&&p[C]&&!(D&&+G>0)&&(p[C][B]+=+G)})}return a.d3.min(Object.keys(p).map(function(G){return a.d3.min(p[G])}))},n.prototype.getYDomainMax=function(i){var a=this,s=a.config,c=a.mapToIds(i),p=a.getValuesAsIdKeyed(i),m,x,C,k,P,D;if(s.data_groups.length>0){for(D=a.hasPositiveValueInTargets(i),m=0;m<s.data_groups.length;m++)if(k=s.data_groups[m].filter(function(G){return c.indexOf(G)>=0}),k.length!==0)for(C=k[0],D&&p[C]&&p[C].forEach(function(G,B){p[C][B]=G>0?G:0}),x=1;x<k.length;x++)P=k[x],p[P]&&p[P].forEach(function(G,B){a.axis.getId(P)===a.axis.getId(C)&&p[C]&&!(D&&+G<0)&&(p[C][B]+=+G)})}return a.d3.max(Object.keys(p).map(function(G){return a.d3.max(p[G])}))},n.prototype.getYDomain=function(i,a,s){var c=this,p=c.config;if(c.isAxisNormalized(a))return[0,100];var m=i.filter(function(rt){return c.axis.getId(rt.id)===a}),x=s?c.filterByXDomain(m,s):m,C=a==="y2"?p.axis_y2_min:p.axis_y_min,k=a==="y2"?p.axis_y2_max:p.axis_y_max,P=c.getYDomainMin(x),D=c.getYDomainMax(x),G,B,N,U,W=a==="y2"?p.axis_y2_center:p.axis_y_center,j,K,ft,ht,wt,Ct,At=c.hasType("bar",x)&&p.bar_zerobased||c.hasType("area",x)&&p.area_zerobased,dt=a==="y2"?p.axis_y2_inverted:p.axis_y_inverted,bt=c.hasDataLabel()&&p.axis_rotated,vt=c.hasDataLabel()&&!p.axis_rotated;if(P=E(C)?C:E(k)?P<k?P:k-10:P,D=E(k)?k:E(C)?C<D?D:C+10:D,x.length===0)return a==="y2"?c.y2.domain():c.y.domain();if(isNaN(P)&&(P=0),isNaN(D)&&(D=P),P===D&&(P<0?D=0:P=0),wt=P>=0&&D>=0,Ct=P<=0&&D<=0,(E(C)&&wt||E(k)&&Ct)&&(At=!1),At&&(wt&&(P=0),Ct&&(D=0)),B=Math.abs(D-P),N=U=B*.1,typeof W!="undefined"&&(j=Math.max(Math.abs(P),Math.abs(D)),D=W+j,P=W-j),bt)K=c.getDataLabelLength(P,D,"width"),ft=l(c.y.range()),ht=[K[0]/ft,K[1]/ft],N+=B*(ht[1]/(1-ht[0]-ht[1])),U+=B*(ht[0]/(1-ht[0]-ht[1]));else if(vt){K=c.getDataLabelLength(P,D,"height");var _t=c.getY(p["axis_"+a+"_type"],[0,p.axis_rotated?c.width:c.height],[0,B]);N+=_t(K[1]),U+=_t(K[0])}return a==="y"&&L(p.axis_y_padding)&&(N=c.axis.getPadding(p.axis_y_padding,"top",N,B),U=c.axis.getPadding(p.axis_y_padding,"bottom",U,B)),a==="y2"&&L(p.axis_y2_padding)&&(N=c.axis.getPadding(p.axis_y2_padding,"top",N,B),U=c.axis.getPadding(p.axis_y2_padding,"bottom",U,B)),At&&(wt&&(U=P),Ct&&(N=-D)),G=[P-U,D+N],dt?G.reverse():G},n.prototype.getXDomainMin=function(i){var a=this,s=a.config;return g(s.axis_x_min)?a.isTimeSeries()?this.parseDate(s.axis_x_min):s.axis_x_min:a.d3.min(i,function(c){return a.d3.min(c.values,function(p){return p.x})})},n.prototype.getXDomainMax=function(i){var a=this,s=a.config;return g(s.axis_x_max)?a.isTimeSeries()?this.parseDate(s.axis_x_max):s.axis_x_max:a.d3.max(i,function(c){return a.d3.max(c.values,function(p){return p.x})})},n.prototype.getXDomainPadding=function(i){var a=this,s=a.config,c=i[1]-i[0],p,m,x,C;return a.isCategorized()?m=0:a.hasType("bar")?(p=a.getMaxDataCount(),m=p>1?c/(p-1)/2:.5):m=c*.01,typeof s.axis_x_padding=="object"&&L(s.axis_x_padding)?(x=E(s.axis_x_padding.left)?s.axis_x_padding.left:m,C=E(s.axis_x_padding.right)?s.axis_x_padding.right:m):typeof s.axis_x_padding=="number"?x=C=s.axis_x_padding:x=C=m,{left:x,right:C}},n.prototype.getXDomain=function(i){var a=this,s=[a.getXDomainMin(i),a.getXDomainMax(i)],c=s[0],p=s[1],m=a.getXDomainPadding(s),x=0,C=0;return c-p===0&&!a.isCategorized()&&(a.isTimeSeries()?(c=new Date(c.getTime()*.5),p=new Date(p.getTime()*1.5)):(c=c===0?1:c*.5,p=p===0?-1:p*1.5)),(c||c===0)&&(x=a.isTimeSeries()?new Date(c.getTime()-m.left):c-m.left),(p||p===0)&&(C=a.isTimeSeries()?new Date(p.getTime()+m.right):p+m.right),[x,C]},n.prototype.updateXDomain=function(i,a,s,c,p){var m=this,x=m.config;return s&&(m.x.domain(p||m.d3.extent(m.getXDomain(i))),m.orgXDomain=m.x.domain(),x.zoom_enabled&&m.zoom.update(),m.subX.domain(m.x.domain()),m.brush&&m.brush.updateScale(m.subX)),a&&m.x.domain(p||(!m.brush||m.brush.empty()?m.orgXDomain:m.brush.selectionAsValue())),c&&m.x.domain(m.trimXDomain(m.x.orgDomain())),m.x.domain()},n.prototype.trimXDomain=function(i){var a=this.getZoomDomain(),s=a[0],c=a[1];return i[0]<=s&&(i[1]=+i[1]+(s-i[0]),i[0]=s),c<=i[1]&&(i[0]=+i[0]-(i[1]-c),i[1]=c),i},n.prototype.drag=function(i){var a=this,s=a.config,c=a.main,p=a.d3,m,x,C,k,P,D,G,B;a.hasArcType()||!s.data_selection_enabled||!s.data_selection_multiple||(m=a.dragStart[0],x=a.dragStart[1],C=i[0],k=i[1],P=Math.min(m,C),D=Math.max(m,C),G=s.data_selection_grouped?a.margin.top:Math.min(x,k),B=s.data_selection_grouped?a.height:Math.max(x,k),c.select("."+S.dragarea).attr("x",P).attr("y",G).attr("width",D-P).attr("height",B-G),c.selectAll("."+S.shapes).selectAll("."+S.shape).each(function(N,U){if(!!s.data_selection_isselectable(N)){var W=p.select(this),j=W.classed(S.SELECTED),K=W.classed(S.INCLUDED),ft,ht,wt,Ct,At,dt=!1,bt;if(W.classed(S.circle))ft=W.attr("cx")*1,ht=W.attr("cy")*1,At=a.togglePoint,dt=P<ft&&ft<D&&G<ht&&ht<B;else if(W.classed(S.bar))bt=h(this),ft=bt.x,ht=bt.y,wt=bt.width,Ct=bt.height,At=a.togglePath,dt=!(D<ft||ft+wt<P)&&!(B<ht||ht+Ct<G);else return;dt^K&&(W.classed(S.INCLUDED,!K),W.classed(S.SELECTED,!j),At.call(a,!j,W,N,U))}}))},n.prototype.dragstart=function(i){var a=this,s=a.config;a.hasArcType()||!s.data_selection_enabled||(a.dragStart=i,a.main.select("."+S.chart).append("rect").attr("class",S.dragarea).style("opacity",.1),a.dragging=!0)},n.prototype.dragend=function(){var i=this,a=i.config;i.hasArcType()||!a.data_selection_enabled||(i.main.select("."+S.dragarea).transition().duration(100).style("opacity",0).remove(),i.main.selectAll("."+S.shape).classed(S.INCLUDED,!1),i.dragging=!1)},n.prototype.getYFormat=function(i){var a=this,s=i&&!a.hasType("gauge")?a.defaultArcValueFormat:a.yFormat,c=i&&!a.hasType("gauge")?a.defaultArcValueFormat:a.y2Format;return function(p,m,x){var C=a.axis.getId(x)==="y2"?c:s;return C.call(a,p,m)}},n.prototype.yFormat=function(i){var a=this,s=a.config,c=s.axis_y_tick_format?s.axis_y_tick_format:a.defaultValueFormat;return c(i)},n.prototype.y2Format=function(i){var a=this,s=a.config,c=s.axis_y2_tick_format?s.axis_y2_tick_format:a.defaultValueFormat;return c(i)},n.prototype.defaultValueFormat=function(i){return E(i)?+i:""},n.prototype.defaultArcValueFormat=function(i,a){return(a*100).toFixed(1)+"%"},n.prototype.dataLabelFormat=function(i){var a=this,s=a.config.data_labels,c,p=function(m){return E(m)?+m:""};return typeof s.format=="function"?c=s.format:typeof s.format=="object"?s.format[i]?c=s.format[i]===!0?p:s.format[i]:c=function(){return""}:c=p,c},n.prototype.initGrid=function(){var i=this,a=i.config,s=i.d3;i.grid=i.main.append("g").attr("clip-path",i.clipPathForGrid).attr("class",S.grid),a.grid_x_show&&i.grid.append("g").attr("class",S.xgrids),a.grid_y_show&&i.grid.append("g").attr("class",S.ygrids),a.grid_focus_show&&i.grid.append("g").attr("class",S.xgridFocus).append("line").attr("class",S.xgridFocus),i.xgrid=s.selectAll([]),a.grid_lines_front||i.initGridLines()},n.prototype.initGridLines=function(){var i=this,a=i.d3;i.gridLines=i.main.append("g").attr("clip-path",i.clipPathForGrid).attr("class",S.grid+" "+S.gridLines),i.gridLines.append("g").attr("class",S.xgridLines),i.gridLines.append("g").attr("class",S.ygridLines),i.xgridLines=a.selectAll([])},n.prototype.updateXGrid=function(i){var a=this,s=a.config,c=a.d3,p=a.generateGridData(s.grid_x_type,a.x),m=a.isCategorized()?a.xAxis.tickOffset():0;a.xgridAttr=s.axis_rotated?{x1:0,x2:a.width,y1:function(k){return a.x(k)-m},y2:function(k){return a.x(k)-m}}:{x1:function(k){return a.x(k)+m},x2:function(k){return a.x(k)+m},y1:0,y2:a.height},a.xgridAttr.opacity=function(){var k=+c.select(this).attr(s.axis_rotated?"y1":"x1");return k===(s.axis_rotated?a.height:0)?0:1};var x=a.main.select("."+S.xgrids).selectAll("."+S.xgrid).data(p),C=x.enter().append("line").attr("class",S.xgrid).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",0);a.xgrid=C.merge(x),i||a.xgrid.attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),x.exit().remove()},n.prototype.updateYGrid=function(){var i=this,a=i.config,s=i.yAxis.tickValues()||i.y.ticks(a.grid_y_ticks),c=i.main.select("."+S.ygrids).selectAll("."+S.ygrid).data(s),p=c.enter().append("line").attr("class",S.ygrid);i.ygrid=p.merge(c),i.ygrid.attr("x1",a.axis_rotated?i.y:0).attr("x2",a.axis_rotated?i.y:i.width).attr("y1",a.axis_rotated?0:i.y).attr("y2",a.axis_rotated?i.height:i.y),c.exit().remove(),i.smoothLines(i.ygrid,"grid")},n.prototype.gridTextAnchor=function(i){return i.position?i.position:"end"},n.prototype.gridTextDx=function(i){return i.position==="start"?4:i.position==="middle"?0:-4},n.prototype.xGridTextX=function(i){return i.position==="start"?-this.height:i.position==="middle"?-this.height/2:0},n.prototype.yGridTextX=function(i){return i.position==="start"?0:i.position==="middle"?this.width/2:this.width},n.prototype.updateGrid=function(i){var a=this,s=a.main,c=a.config,p,m,x,C,k=a.xv.bind(a),P=a.yv.bind(a),D=a.xGridTextX.bind(a),G=a.yGridTextX.bind(a);a.grid.style("visibility",a.hasArcType()?"hidden":"visible"),s.select("line."+S.xgridFocus).style("visibility","hidden"),c.grid_x_show&&a.updateXGrid(),p=s.select("."+S.xgridLines).selectAll("."+S.xgridLine).data(c.grid_x_lines),m=p.enter().append("g").attr("class",function(B){return S.xgridLine+(B.class?" "+B.class:"")}),m.append("line").attr("x1",c.axis_rotated?0:k).attr("x2",c.axis_rotated?a.width:k).attr("y1",c.axis_rotated?k:0).attr("y2",c.axis_rotated?k:a.height).style("opacity",0),m.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",c.axis_rotated?"":"rotate(-90)").attr("x",c.axis_rotated?G:D).attr("y",k).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.xgridLines=m.merge(p),p.exit().transition().duration(i).style("opacity",0).remove(),c.grid_y_show&&a.updateYGrid(),x=s.select("."+S.ygridLines).selectAll("."+S.ygridLine).data(c.grid_y_lines),C=x.enter().append("g").attr("class",function(B){return S.ygridLine+(B.class?" "+B.class:"")}),C.append("line").attr("x1",c.axis_rotated?P:0).attr("x2",c.axis_rotated?P:a.width).attr("y1",c.axis_rotated?0:P).attr("y2",c.axis_rotated?a.height:P).style("opacity",0),C.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",c.axis_rotated?"rotate(-90)":"").attr("x",c.axis_rotated?D:G).attr("y",P).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.ygridLines=C.merge(x),a.ygridLines.select("line").transition().duration(i).attr("x1",c.axis_rotated?P:0).attr("x2",c.axis_rotated?P:a.width).attr("y1",c.axis_rotated?0:P).attr("y2",c.axis_rotated?a.height:P).style("opacity",1),a.ygridLines.select("text").transition().duration(i).attr("x",c.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr("y",P).text(function(B){return B.text}).style("opacity",1),x.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.redrawGrid=function(i,a){var s=this,c=s.config,p=s.xv.bind(s),m=s.xgridLines.select("line"),x=s.xgridLines.select("text");return[(i?m.transition(a):m).attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?s.width:p).attr("y1",c.axis_rotated?p:0).attr("y2",c.axis_rotated?p:s.height).style("opacity",1),(i?x.transition(a):x).attr("x",c.axis_rotated?s.yGridTextX.bind(s):s.xGridTextX.bind(s)).attr("y",p).text(function(C){return C.text}).style("opacity",1)]},n.prototype.showXGridFocus=function(i){var a=this,s=a.config,c=i.filter(function(x){return x&&E(x.value)}),p=a.main.selectAll("line."+S.xgridFocus),m=a.xx.bind(a);!s.tooltip_show||a.hasType("stanford")||a.hasArcType()||(p.style("visibility","visible").data([c[0]]).attr(s.axis_rotated?"y1":"x1",m).attr(s.axis_rotated?"y2":"x2",m),a.smoothLines(p,"grid"))},n.prototype.hideXGridFocus=function(){this.main.select("line."+S.xgridFocus).style("visibility","hidden")},n.prototype.updateXgridFocus=function(){var i=this,a=i.config;i.main.select("line."+S.xgridFocus).attr("x1",a.axis_rotated?0:-10).attr("x2",a.axis_rotated?i.width:-10).attr("y1",a.axis_rotated?-10:0).attr("y2",a.axis_rotated?-10:i.height)},n.prototype.generateGridData=function(i,a){var s=this,c=[],p,m,x,C,k=s.main.select("."+S.axisX).selectAll(".tick").size();if(i==="year")for(p=s.getXDomain(),m=p[0].getFullYear(),x=p[1].getFullYear(),C=m;C<=x;C++)c.push(new Date(C+"-01-01 00:00:00"));else c=a.ticks(10),c.length>k&&(c=c.filter(function(P){return(""+P).indexOf(".")<0}));return c},n.prototype.getGridFilterToRemove=function(i){return i?function(a){var s=!1;return[].concat(i).forEach(function(c){("value"in c&&a.value===c.value||"class"in c&&a.class===c.class)&&(s=!0)}),s}:function(){return!0}},n.prototype.removeGridLines=function(i,a){var s=this,c=s.config,p=s.getGridFilterToRemove(i),m=function(k){return!p(k)},x=a?S.xgridLines:S.ygridLines,C=a?S.xgridLine:S.ygridLine;s.main.select("."+x).selectAll("."+C).filter(p).transition().duration(c.transition_duration).style("opacity",0).remove(),a?c.grid_x_lines=c.grid_x_lines.filter(m):c.grid_y_lines=c.grid_y_lines.filter(m)},n.prototype.initEventRect=function(){var i=this,a=i.config;i.main.select("."+S.chart).append("g").attr("class",S.eventRects).style("fill-opacity",0),i.eventRect=i.main.select("."+S.eventRects).append("rect").attr("class",S.eventRect),a.zoom_enabled&&i.zoom&&(i.eventRect.call(i.zoom).on("dblclick.zoom",null),a.zoom_initialRange&&i.eventRect.transition().duration(0).call(i.zoom.transform,i.zoomTransform(a.zoom_initialRange)))},n.prototype.redrawEventRect=function(){var i=this,a=i.d3,s=i.config;function c(){i.svg.select("."+S.eventRect).style("cursor",null),i.hideXGridFocus(),i.hideTooltip(),i.unexpandCircles(),i.unexpandBars()}var p=function(x,C){return C&&(i.isBarType(C.id)||i.dist(C,x)<s.point_sensitivity)},m=function(x){return x?i.addName(Object.assign({},x)):null};i.main.select("."+S.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null),i.eventRect.attr("x",0).attr("y",0).attr("width",i.width).attr("height",i.height).on("mouseout",s.interaction_enabled?function(){!s||i.hasArcType()||(i.mouseover&&(s.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),c())}:null).on("mousemove",s.interaction_enabled?function(){if(!i.dragging){var x=i.getTargetsToShow();if(!i.hasArcType(x)){var C=a.mouse(this),k=m(i.findClosestFromTargets(x,C)),P=p(C,k);i.mouseover&&(!k||k.id!==i.mouseover.id||k.index!==i.mouseover.index)&&(s.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),k&&!i.mouseover&&(s.data_onmouseover.call(i.api,k),i.mouseover=k),i.svg.select("."+S.eventRect).style("cursor",P?"pointer":null);var D=!s.tooltip_grouped||i.hasType("stanford",x),G;if(D)k&&(G=[k]);else{var B=void 0;if(k)B=k;else{var N=s.axis_rotated?C[1]:C[0];B=i.findClosestFromTargetsByX(x,i.x.invert(N))}B&&(G=i.filterByX(x,B.x))}if(!G||G.length===0)return c();G=G.map(m),i.showTooltip(G,this),s.point_focus_expand_enabled&&(i.unexpandCircles(),G.forEach(function(U){i.expandCircles(U.index,U.id,!1)})),i.unexpandBars(),G.forEach(function(U){i.expandBars(U.index,U.id,!1)}),i.showXGridFocus(G)}}}:null).on("click",s.interaction_enabled?function(){var x=i.getTargetsToShow();if(!i.hasArcType(x)){var C=a.mouse(this),k=m(i.findClosestFromTargets(x,C));if(!!p(C,k)){var P;if(!s.data_selection_grouped||i.isStanfordType(k)?P=[k]:P=i.filterByX(x,k.x),P.forEach(function(G){i.main.selectAll("."+S.shapes+i.getTargetSelectorSuffix(G.id)).selectAll("."+S.shape+"-"+G.index).each(function(){(s.data_selection_grouped||i.isWithinShape(this,G))&&i.toggleShape(this,G,G.index)})}),k){var D=i.main.selectAll("."+S.shapes+i.getTargetSelectorSuffix(k.id)).select("."+S.shape+"-"+k.index);s.data_onclick.call(i.api,k,D.node())}}}}:null).call(s.interaction_enabled&&s.data_selection_draggable&&i.drag?a.drag().on("drag",function(){i.drag(a.mouse(this))}).on("start",function(){i.dragstart(a.mouse(this))}).on("end",function(){i.dragend()}):function(){})},n.prototype.getMousePosition=function(i){var a=this;return[a.x(i.x),a.getYScale(i.id)(i.value)]},n.prototype.dispatchEvent=function(i,a){var s=this,c="."+S.eventRect,p=s.main.select(c).node(),m=p.getBoundingClientRect(),x=m.left+(a?a[0]:0),C=m.top+(a?a[1]:0),k=document.createEvent("MouseEvents");k.initMouseEvent(i,!0,!0,window,0,x,C,x,C,!1,!1,!1,!1,0,null),p.dispatchEvent(k)},n.prototype.initLegend=function(){var i=this;if(i.legendItemTextBox={},i.legendHasRendered=!1,i.legend=i.svg.append("g").attr("transform",i.getTranslate("legend")),!i.config.legend_show){i.legend.style("visibility","hidden"),i.hiddenLegendIds=i.mapToIds(i.data.targets);return}i.updateLegendWithDefaults()},n.prototype.updateLegendWithDefaults=function(){var i=this;i.updateLegend(i.mapToIds(i.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},n.prototype.updateSizeForLegend=function(i,a){var s=this,c=s.config,p={top:s.isLegendTop?s.getCurrentPaddingTop()+c.legend_inset_y+5.5:s.currentHeight-i-s.getCurrentPaddingBottom()-c.legend_inset_y,left:s.isLegendLeft?s.getCurrentPaddingLeft()+c.legend_inset_x+.5:s.currentWidth-a-s.getCurrentPaddingRight()-c.legend_inset_x+.5};s.margin3={top:s.isLegendRight?0:s.isLegendInset?p.top:s.currentHeight-i,right:NaN,bottom:0,left:s.isLegendRight?s.currentWidth-a:s.isLegendInset?p.left:0}},n.prototype.transformLegend=function(i){var a=this;(i?a.legend.transition():a.legend).attr("transform",a.getTranslate("legend"))},n.prototype.updateLegendStep=function(i){this.legendStep=i},n.prototype.updateLegendItemWidth=function(i){this.legendItemWidth=i},n.prototype.updateLegendItemHeight=function(i){this.legendItemHeight=i},n.prototype.getLegendWidth=function(){var i=this;return i.config.legend_show?i.isLegendRight||i.isLegendInset?i.legendItemWidth*(i.legendStep+1):i.currentWidth:0},n.prototype.getLegendHeight=function(){var i=this,a=0;return i.config.legend_show&&(i.isLegendRight?a=i.currentHeight:a=Math.max(20,i.legendItemHeight)*(i.legendStep+1)),a},n.prototype.opacityForLegend=function(i){return i.classed(S.legendItemHidden)?null:1},n.prototype.opacityForUnfocusedLegend=function(i){return i.classed(S.legendItemHidden)?null:.3},n.prototype.toggleFocusLegend=function(i,a){var s=this;i=s.mapToTargetIds(i),s.legend.selectAll("."+S.legendItem).filter(function(c){return i.indexOf(c)>=0}).classed(S.legendItemFocused,a).transition().duration(100).style("opacity",function(){var c=a?s.opacityForLegend:s.opacityForUnfocusedLegend;return c.call(s,s.d3.select(this))})},n.prototype.revertLegend=function(){var i=this,a=i.d3;i.legend.selectAll("."+S.legendItem).classed(S.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return i.opacityForLegend(a.select(this))})},n.prototype.showLegend=function(i){var a=this,s=a.config;s.legend_show||(s.legend_show=!0,a.legend.style("visibility","visible"),a.legendHasRendered||a.updateLegendWithDefaults()),a.removeHiddenLegendIds(i),a.legend.selectAll(a.selectorLegends(i)).style("visibility","visible").transition().style("opacity",function(){return a.opacityForLegend(a.d3.select(this))})},n.prototype.hideLegend=function(i){var a=this,s=a.config;s.legend_show&&v(i)&&(s.legend_show=!1,a.legend.style("visibility","hidden")),a.addHiddenLegendIds(i),a.legend.selectAll(a.selectorLegends(i)).style("opacity",0).style("visibility","hidden")},n.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},n.prototype.updateLegend=function(i,a,s){var c=this,p=c.config,m,x,C,k,P,D,G,B,N,U=4,W=10,j=0,K=0,ft=10,ht=p.legend_item_tile_width+5,wt,Ct=0,At={},dt={},bt={},vt=[0],_t={},rt=0,ot,Bt,le,Kt,$e,Qt;i=i.filter(function(J){return!g(p.data_names[J])||p.data_names[J]!==null}),a=a||{},ot=f(a,"withTransition",!0),Bt=f(a,"withTransitionForTransform",!0);function fe(J,gt){return c.legendItemTextBox[gt]||(c.legendItemTextBox[gt]=c.getTextRect(J.textContent,S.legendItem,J)),c.legendItemTextBox[gt]}function Mt(J,gt,Ge){var Mi=Ge===0,qo=Ge===i.length-1,rn=fe(J,gt),Ve=rn.width+ht+(qo&&!(c.isLegendRight||c.isLegendInset)?0:W)+p.legend_padding,xe=rn.height+U,an=c.isLegendRight||c.isLegendInset?xe:Ve,Qo=c.isLegendRight||c.isLegendInset?c.getLegendHeight():c.getLegendWidth(),jn,tl;function Zo(on,F0){F0||(jn=(Qo-Ct-an)/2,jn<ft&&(jn=(Qo-an)/2,Ct=0,rt++)),_t[on]=rt,vt[rt]=c.isLegendInset?10:jn,At[on]=Ct,Ct+=an}if(Mi&&(Ct=0,rt=0,j=0,K=0),p.legend_show&&!c.isLegendToShow(gt)){dt[gt]=bt[gt]=_t[gt]=At[gt]=0;return}dt[gt]=Ve,bt[gt]=xe,(!j||Ve>=j)&&(j=Ve),(!K||xe>=K)&&(K=xe),tl=c.isLegendRight||c.isLegendInset?K:j,p.legend_equally?(Object.keys(dt).forEach(function(on){dt[on]=j}),Object.keys(bt).forEach(function(on){bt[on]=K}),jn=(Qo-tl*i.length)/2,jn<ft?(Ct=0,rt=0,i.forEach(function(on){Zo(on)})):Zo(gt,!0)):Zo(gt)}c.isLegendInset&&(rt=p.legend_inset_step?p.legend_inset_step:i.length,c.updateLegendStep(rt)),c.isLegendRight?(m=function(J){return j*_t[J]},k=function(J){return vt[_t[J]]+At[J]}):c.isLegendInset?(m=function(J){return j*_t[J]+10},k=function(J){return vt[_t[J]]+At[J]}):(m=function(J){return vt[_t[J]]+At[J]},k=function(J){return K*_t[J]}),x=function(J,gt){return m(J,gt)+4+p.legend_item_tile_width},P=function(J,gt){return k(J,gt)+9},C=function(J,gt){return m(J,gt)},D=function(J,gt){return k(J,gt)-5},G=function(J,gt){return m(J,gt)-2},B=function(J,gt){return m(J,gt)-2+p.legend_item_tile_width},N=function(J,gt){return k(J,gt)+4},wt=c.legend.selectAll("."+S.legendItem).data(i).enter().append("g").attr("class",function(J){return c.generateClass(S.legendItem,J)}).style("visibility",function(J){return c.isLegendToShow(J)?"visible":"hidden"}).style("cursor",function(){return p.interaction_enabled?"pointer":"auto"}).on("click",p.interaction_enabled?function(J){p.legend_item_onclick?p.legend_item_onclick.call(c,J):c.d3.event.altKey?(c.api.hide(),c.api.show(J)):(c.api.toggle(J),c.isTargetToShow(J)?c.api.focus(J):c.api.revert())}:null).on("mouseover",p.interaction_enabled?function(J){p.legend_item_onmouseover?p.legend_item_onmouseover.call(c,J):(c.d3.select(this).classed(S.legendItemFocused,!0),!c.transiting&&c.isTargetToShow(J)&&c.api.focus(J))}:null).on("mouseout",p.interaction_enabled?function(J){p.legend_item_onmouseout?p.legend_item_onmouseout.call(c,J):(c.d3.select(this).classed(S.legendItemFocused,!1),c.api.revert())}:null),wt.append("text").text(function(J){return g(p.data_names[J])?p.data_names[J]:J}).each(function(J,gt){Mt(this,J,gt)}).style("pointer-events","none").attr("x",c.isLegendRight||c.isLegendInset?x:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:P),wt.append("rect").attr("class",S.legendItemEvent).style("fill-opacity",0).attr("x",c.isLegendRight||c.isLegendInset?C:-200).attr("y",c.isLegendRight||c.isLegendInset?-200:D),wt.append("line").attr("class",S.legendItemTile).style("stroke",c.color).style("pointer-events","none").attr("x1",c.isLegendRight||c.isLegendInset?G:-200).attr("y1",c.isLegendRight||c.isLegendInset?-200:N).attr("x2",c.isLegendRight||c.isLegendInset?B:-200).attr("y2",c.isLegendRight||c.isLegendInset?-200:N).attr("stroke-width",p.legend_item_tile_height),Qt=c.legend.select("."+S.legendBackground+" rect"),c.isLegendInset&&j>0&&Qt.size()===0&&(Qt=c.legend.insert("g","."+S.legendItem).attr("class",S.legendBackground).append("rect")),le=c.legend.selectAll("text").data(i).text(function(J){return g(p.data_names[J])?p.data_names[J]:J}).each(function(J,gt){Mt(this,J,gt)}),(ot?le.transition():le).attr("x",x).attr("y",P),Kt=c.legend.selectAll("rect."+S.legendItemEvent).data(i),(ot?Kt.transition():Kt).attr("width",function(J){return dt[J]}).attr("height",function(J){return bt[J]}).attr("x",C).attr("y",D),$e=c.legend.selectAll("line."+S.legendItemTile).data(i),(ot?$e.transition():$e).style("stroke",c.levelColor?function(J){return c.levelColor(c.cache[J].values.reduce(function(gt,Ge){return gt+Ge.value},0))}:c.color).attr("x1",G).attr("y1",N).attr("x2",B).attr("y2",N),Qt&&(ot?Qt.transition():Qt).attr("height",c.getLegendHeight()-12).attr("width",j*(rt+1)+10),c.legend.selectAll("."+S.legendItem).classed(S.legendItemHidden,function(J){return!c.isTargetToShow(J)}),c.updateLegendItemWidth(j),c.updateLegendItemHeight(K),c.updateLegendStep(rt),c.updateSizes(),c.updateScales(),c.updateSvgSize(),c.transformAll(Bt,s),c.legendHasRendered=!0},n.prototype.initRegion=function(){var i=this;i.region=i.main.append("g").attr("clip-path",i.clipPath).attr("class",S.regions)},n.prototype.updateRegion=function(i){var a=this,s=a.config;a.region.style("visibility",a.hasArcType()?"hidden":"visible");var c=a.main.select("."+S.regions).selectAll("."+S.region).data(s.regions),p=c.enter().append("g");p.append("rect").attr("x",a.regionX.bind(a)).attr("y",a.regionY.bind(a)).attr("width",a.regionWidth.bind(a)).attr("height",a.regionHeight.bind(a)).style("fill-opacity",function(m){return E(m.opacity)?m.opacity:.1}),p.append("text").text(a.labelRegion.bind(a)),a.mainRegion=p.merge(c).attr("class",a.classRegion.bind(a)),c.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.redrawRegion=function(i,a){var s=this,c=s.mainRegion,p=s.mainRegion.selectAll("text");return[(i?c.transition(a):c).attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(m){return E(m.opacity)?m.opacity:.1}),(i?p.transition(a):p).attr("x",s.labelOffsetX.bind(s)).attr("y",s.labelOffsetY.bind(s)).attr("transform",s.labelTransform.bind(s)).attr("style","text-anchor: left;")]},n.prototype.regionX=function(i){var a=this,s=a.config,c,p=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?c=s.axis_rotated&&"start"in i?p(i.start):0:c=s.axis_rotated?0:"start"in i?a.x(a.isTimeSeries()?a.parseDate(i.start):i.start):0,c},n.prototype.regionY=function(i){var a=this,s=a.config,c,p=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?c=s.axis_rotated?0:"end"in i?p(i.end):0:c=s.axis_rotated&&"start"in i?a.x(a.isTimeSeries()?a.parseDate(i.start):i.start):0,c},n.prototype.regionWidth=function(i){var a=this,s=a.config,c=a.regionX(i),p,m=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?p=s.axis_rotated&&"end"in i?m(i.end):a.width:p=s.axis_rotated?a.width:"end"in i?a.x(a.isTimeSeries()?a.parseDate(i.end):i.end):a.width,p<c?0:p-c},n.prototype.regionHeight=function(i){var a=this,s=a.config,c=this.regionY(i),p,m=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?p=s.axis_rotated?a.height:"start"in i?m(i.start):a.height:p=s.axis_rotated&&"end"in i?a.x(a.isTimeSeries()?a.parseDate(i.end):i.end):a.height,p<c?0:p-c},n.prototype.isRegionOnX=function(i){return!i.axis||i.axis==="x"},n.prototype.labelRegion=function(i){return"label"in i?i.label:""},n.prototype.labelTransform=function(i){return"vertical"in i&&i.vertical?"rotate(90)":""},n.prototype.labelOffsetX=function(i){var a="paddingX"in i?i.paddingX:3,s="paddingY"in i?i.paddingY:3;return"vertical"in i&&i.vertical?this.regionY(i)+s:this.regionX(i)+a},n.prototype.labelOffsetY=function(i){var a="paddingX"in i?i.paddingX:3,s="paddingY"in i?i.paddingY:3;return"vertical"in i&&i.vertical?-(this.regionX(i)+a):this.regionY(i)+10+s};function Z(i,a,s){var c=[.01,10];a||(a=i.scaleLinear(),a.range(c)),s||(s=i.scaleLog(),s.domain(c),s.nice());function p(x,C,k){var P,D,G,B;if(arguments.length<3)k=10;else if(k===0)return[];D=k-1,B=(C-x)/D,P=new Array(k),G=x,P[0]=Math.pow(10,G);for(var N=1;N<D;N++)G+=B,P[N]=Math.pow(10,G);return P[D]=Math.pow(10,C),P}function m(x){return s(a(x))}return m.domain=function(x){return arguments.length?(a.domain(x),m):a.domain()},m.range=function(x){return arguments.length?(s.range(x),m):s.range()},m.ticks=function(x){return p(-2,1,x||10).map(function(C){return a.invert(C)})},m.copy=function(){return Z(i,a.copy(),s.copy())},m}n.prototype.getScale=function(i,a,s){return(s?this.d3.scaleTime():this.d3.scaleLinear()).range([i,a])},n.prototype.getX=function(i,a,s,c){var p=this,m=p.getScale(i,a,p.isTimeSeries()),x=s?m.domain(s):m,C;p.isCategorized()?(c=c||function(){return 0},m=function(k,P){var D=x(k)+c(k);return P?D:Math.ceil(D)}):m=function(k,P){var D=x(k);return P?D:Math.ceil(D)};for(C in x)m[C]=x[C];return m.orgDomain=function(){return x.domain()},p.isCategorized()&&(m.domain=function(k){return arguments.length?(x.domain(k),m):(k=this.orgDomain(),[k[0],k[1]+1])}),m},n.prototype.getY=function(i,a,s){var c;if(i==="timeseries"||i==="time")c=this.d3.scaleTime();else if(i==="log")c=Z(this.d3);else if(i==="linear"||i===void 0)c=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+i+'"');return a&&c.domain(a),s&&c.range(s),c},n.prototype.getYScale=function(i){return this.axis.getId(i)==="y2"?this.y2:this.y},n.prototype.getSubYScale=function(i){return this.axis.getId(i)==="y2"?this.subY2:this.subY},n.prototype.updateScales=function(){var i=this,a=i.config,s=!i.x;i.xMin=a.axis_rotated?1:0,i.xMax=a.axis_rotated?i.height:i.width,i.yMin=a.axis_rotated?0:i.height,i.yMax=a.axis_rotated?i.width:1,i.subXMin=i.xMin,i.subXMax=i.xMax,i.subYMin=a.axis_rotated?0:i.height2,i.subYMax=a.axis_rotated?i.width2:1,i.x=i.getX(i.xMin,i.xMax,s?void 0:i.x.orgDomain(),function(){return i.xAxis.tickOffset()}),i.y=i.getY(a.axis_y_type,s?a.axis_y_default:i.y.domain(),[i.yMin,i.yMax]),i.y2=i.getY(a.axis_y2_type,s?a.axis_y2_default:i.y2.domain(),[i.yMin,i.yMax]),i.subX=i.getX(i.xMin,i.xMax,i.orgXDomain,function(c){return c%1?0:i.subXAxis.tickOffset()}),i.subY=i.getY(a.axis_y_type,s?a.axis_y_default:i.subY.domain(),[i.subYMin,i.subYMax]),i.subY2=i.getY(a.axis_y2_type,s?a.axis_y2_default:i.subY2.domain(),[i.subYMin,i.subYMax]),i.xAxisTickFormat=i.axis.getXAxisTickFormat(),i.xAxisTickValues=i.axis.getXAxisTickValues(),i.yAxisTickValues=i.axis.getYAxisTickValues(),i.y2AxisTickValues=i.axis.getY2AxisTickValues(),i.xAxis=i.axis.getXAxis(i.x,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues,a.axis_x_tick_outer),i.subXAxis=i.axis.getXAxis(i.subX,i.subXOrient,i.xAxisTickFormat,i.xAxisTickValues,a.axis_x_tick_outer),i.yAxis=i.axis.getYAxis("y",i.y,i.yOrient,i.yAxisTickValues,a.axis_y_tick_outer),i.y2Axis=i.axis.getYAxis("y2",i.y2,i.y2Orient,i.y2AxisTickValues,a.axis_y2_tick_outer),s||i.brush&&i.brush.updateScale(i.subX),i.updateArc&&i.updateArc()},n.prototype.selectPoint=function(i,a,s){var c=this,p=c.config,m=(p.axis_rotated?c.circleY:c.circleX).bind(c),x=(p.axis_rotated?c.circleX:c.circleY).bind(c),C=c.pointSelectR.bind(c);p.data_onselected.call(c.api,a,i.node()),c.main.select("."+S.selectedCircles+c.getTargetSelectorSuffix(a.id)).selectAll("."+S.selectedCircle+"-"+s).data([a]).enter().append("circle").attr("class",function(){return c.generateClass(S.selectedCircle,s)}).attr("cx",m).attr("cy",x).attr("stroke",function(){return c.color(a)}).attr("r",function(k){return c.pointSelectR(k)*1.4}).transition().duration(100).attr("r",C)},n.prototype.unselectPoint=function(i,a,s){var c=this;c.config.data_onunselected.call(c.api,a,i.node()),c.main.select("."+S.selectedCircles+c.getTargetSelectorSuffix(a.id)).selectAll("."+S.selectedCircle+"-"+s).transition().duration(100).attr("r",0).remove()},n.prototype.togglePoint=function(i,a,s,c){i?this.selectPoint(a,s,c):this.unselectPoint(a,s,c)},n.prototype.selectPath=function(i,a){var s=this;s.config.data_onselected.call(s,a,i.node()),s.config.interaction_brighten&&i.transition().duration(100).style("fill",function(){return s.d3.rgb(s.color(a)).brighter(.75)})},n.prototype.unselectPath=function(i,a){var s=this;s.config.data_onunselected.call(s,a,i.node()),s.config.interaction_brighten&&i.transition().duration(100).style("fill",function(){return s.color(a)})},n.prototype.togglePath=function(i,a,s,c){i?this.selectPath(a,s,c):this.unselectPath(a,s,c)},n.prototype.getToggle=function(i,a){var s=this,c;return i.nodeName==="circle"?s.isStepType(a)?c=function(){}:c=s.togglePoint:i.nodeName==="path"&&(c=s.togglePath),c},n.prototype.toggleShape=function(i,a,s){var c=this,p=c.d3,m=c.config,x=p.select(i),C=x.classed(S.SELECTED),k=c.getToggle(i,a).bind(c);m.data_selection_enabled&&m.data_selection_isselectable(a)&&(m.data_selection_multiple||c.main.selectAll("."+S.shapes+(m.data_selection_grouped?c.getTargetSelectorSuffix(a.id):"")).selectAll("."+S.shape).each(function(P,D){var G=p.select(this);G.classed(S.SELECTED)&&k(!1,G.classed(S.SELECTED,!1),P,D)}),x.classed(S.SELECTED,!C),k(!C,x,a,s))},n.prototype.initBar=function(){var i=this;i.main.select("."+S.chart).append("g").attr("class",S.chartBars)},n.prototype.updateTargetsForBar=function(i){var a=this,s=a.config,c,p,m=a.classChartBar.bind(a),x=a.classBars.bind(a),C=a.classFocus.bind(a);c=a.main.select("."+S.chartBars).selectAll("."+S.chartBar).data(i).attr("class",function(k){return m(k)+C(k)}),p=c.enter().append("g").attr("class",m).style("pointer-events","none"),p.append("g").attr("class",x).style("cursor",function(k){return s.data_selection_isselectable(k)?"pointer":null})},n.prototype.updateBar=function(i){var a=this,s=a.barData.bind(a),c=a.classBar.bind(a),p=a.initialOpacity.bind(a),m=function(k){return a.color(k.id)},x=a.main.selectAll("."+S.bars).selectAll("."+S.bar).data(s),C=x.enter().append("path").attr("class",c).style("stroke",m).style("fill",m);a.mainBar=C.merge(x).style("opacity",p),x.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawBar=function(i,a,s){var c=this;return[(a?this.mainBar.transition(s):this.mainBar).attr("d",i).style("stroke",this.color).style("fill",this.color).style("opacity",function(p){return c.isTargetToShow(p.id)?1:0})]},n.prototype.getBarW=function(i,a){var s=this,c=s.config,p=typeof c.bar_width=="number"?c.bar_width:a?i.tickInterval()*c.bar_width_ratio/a:0;return c.bar_width_max&&p>c.bar_width_max?c.bar_width_max:p},n.prototype.getBars=function(i,a){var s=this;return(a?s.main.selectAll("."+S.bars+s.getTargetSelectorSuffix(a)):s.main).selectAll("."+S.bar+(E(i)?"-"+i:""))},n.prototype.expandBars=function(i,a,s){var c=this;s&&c.unexpandBars(),c.getBars(i,a).classed(S.EXPANDED,!0)},n.prototype.unexpandBars=function(i){var a=this;a.getBars(i).classed(S.EXPANDED,!1)},n.prototype.generateDrawBar=function(i,a){var s=this,c=s.config,p=s.generateGetBarPoints(i,a);return function(m,x){var C=p(m,x),k=c.axis_rotated?1:0,P=c.axis_rotated?0:1,D="M "+C[0][k]+","+C[0][P]+" L"+C[1][k]+","+C[1][P]+" L"+C[2][k]+","+C[2][P]+" L"+C[3][k]+","+C[3][P]+" z";return D}},n.prototype.generateGetBarPoints=function(i,a){var s=this,c=a?s.subXAxis:s.xAxis,p=i.__max__+1,m=s.getBarW(c,p),x=s.getShapeX(m,p,i,!!a),C=s.getShapeY(!!a),k=s.getShapeOffset(s.isBarType,i,!!a),P=m*(s.config.bar_space/2),D=a?s.getSubYScale:s.getYScale;return function(G,B){var N=D.call(s,G.id)(0),U=k(G,B)||N,W=x(G),j=C(G);return s.config.axis_rotated&&(0<G.value&&j<N||G.value<0&&N<j)&&(j=N),j-=N-U,[[W+P,U],[W+P,j],[W+m-P,j],[W+m-P,U]]}},n.prototype.isWithinBar=function(i,a){return H(i,d(a),2)},n.prototype.getShapeIndices=function(i){var a=this,s=a.config,c={},p=0,m,x;return a.filterTargetsToShow(a.data.targets.filter(i,a)).forEach(function(C){for(m=0;m<s.data_groups.length;m++)if(!(s.data_groups[m].indexOf(C.id)<0)){for(x=0;x<s.data_groups[m].length;x++)if(s.data_groups[m][x]in c){c[C.id]=c[s.data_groups[m][x]];break}}A(c[C.id])&&(c[C.id]=p++)}),c.__max__=p-1,c},n.prototype.getShapeX=function(i,a,s,c){var p=this,m=c?p.subX:p.x;return function(x){var C=x.id in s?s[x.id]:0;return x.x||x.x===0?m(x.x)-i*(a/2-C):0}},n.prototype.getShapeY=function(i){var a=this;return function(s){var c=i?a.getSubYScale(s.id):a.getYScale(s.id);return c(a.isTargetNormalized(s.id)?a.getRatio("index",s,!0):s.value)}},n.prototype.getShapeOffset=function(i,a,s){var c=this,p=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(i,c))),m=p.map(function(x){return x.id});return function(x,C){var k=s?c.getSubYScale(x.id):c.getYScale(x.id),P=k(0),D=P;return p.forEach(function(G){var B=c.isStepType(x)?c.convertValuesToStep(G.values):G.values,N=c.isTargetNormalized(x.id),U=B.map(function(W){return N?c.getRatio("index",W,!0):W.value});G.id===x.id||a[G.id]!==a[x.id]||m.indexOf(G.id)<m.indexOf(x.id)&&((A(B[C])||+B[C].x!=+x.x)&&(C=-1,B.forEach(function(W,j){var K=W.x.constructor===Date?+W.x:W.x,ft=x.x.constructor===Date?+x.x:x.x;K===ft&&(C=j)})),C in B&&B[C].value*x.value>=0&&(D+=k(U[C])-P))}),D}},n.prototype.isWithinShape=function(i,a){var s=this,c=s.d3.select(i),p;return s.isTargetToShow(a.id)?i.nodeName==="circle"?p=s.isStepType(a)?s.isWithinStep(i,s.getYScale(a.id)(a.value)):s.isWithinCircle(i,s.pointSelectR(a)*1.5):i.nodeName==="path"&&(p=c.classed(S.bar)?s.isWithinBar(s.d3.mouse(i),i):!0):p=!1,p},n.prototype.getInterpolate=function(i){var a=this,s=a.d3,c={linear:s.curveLinear,"linear-closed":s.curveLinearClosed,basis:s.curveBasis,"basis-open":s.curveBasisOpen,"basis-closed":s.curveBasisClosed,bundle:s.curveBundle,cardinal:s.curveCardinal,"cardinal-open":s.curveCardinalOpen,"cardinal-closed":s.curveCardinalClosed,monotone:s.curveMonotoneX,step:s.curveStep,"step-before":s.curveStepBefore,"step-after":s.curveStepAfter},p;return a.isSplineType(i)?p=c[a.config.spline_interpolation_type]||c.cardinal:a.isStepType(i)?p=c[a.config.line_step_type]:p=c.linear,p},n.prototype.initLine=function(){var i=this;i.main.select("."+S.chart).append("g").attr("class",S.chartLines)},n.prototype.updateTargetsForLine=function(i){var a=this,s=a.config,c,p,m=a.classChartLine.bind(a),x=a.classLines.bind(a),C=a.classAreas.bind(a),k=a.classCircles.bind(a),P=a.classFocus.bind(a);c=a.main.select("."+S.chartLines).selectAll("."+S.chartLine).data(i).attr("class",function(D){return m(D)+P(D)}),p=c.enter().append("g").attr("class",m).style("opacity",0).style("pointer-events","none"),p.append("g").attr("class",x),p.append("g").attr("class",C),p.append("g").attr("class",function(D){return a.generateClass(S.selectedCircles,D.id)}),p.append("g").attr("class",k).style("cursor",function(D){return s.data_selection_isselectable(D)?"pointer":null}),i.forEach(function(D){a.main.selectAll("."+S.selectedCircles+a.getTargetSelectorSuffix(D.id)).selectAll("."+S.selectedCircle).each(function(G){G.value=D.values[G.index].value})})},n.prototype.updateLine=function(i){var a=this,s=a.main.selectAll("."+S.lines).selectAll("."+S.line).data(a.lineData.bind(a)),c=s.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);a.mainLine=c.merge(s).style("opacity",a.initialOpacity.bind(a)).style("shape-rendering",function(p){return a.isStepType(p)?"crispEdges":""}).attr("transform",null),s.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawLine=function(i,a,s){return[(a?this.mainLine.transition(s):this.mainLine).attr("d",i).style("stroke",this.color).style("opacity",1)]},n.prototype.generateDrawLine=function(i,a){var s=this,c=s.config,p=s.d3.line(),m=s.generateGetLinePoints(i,a),x=a?s.getSubYScale:s.getYScale,C=function(P){return(a?s.subxx:s.xx).call(s,P)},k=function(P,D){return c.data_groups.length>0?m(P,D)[0][1]:x.call(s,P.id)(P.value)};return p=c.axis_rotated?p.x(k).y(C):p.x(C).y(k),c.line_connectNull||(p=p.defined(function(P){return P.value!=null})),function(P){var D=c.line_connectNull?s.filterRemoveNull(P.values):P.values,G=a?s.subX:s.x,B=x.call(s,P.id),N=0,U=0,W;return s.isLineType(P)?c.data_regions[P.id]?W=s.lineWithRegions(D,G,B,c.data_regions[P.id]):(s.isStepType(P)&&(D=s.convertValuesToStep(D)),W=p.curve(s.getInterpolate(P))(D)):(D[0]&&(N=G(D[0].x),U=B(D[0].value)),W=c.axis_rotated?"M "+U+" "+N:"M "+N+" "+U),W||"M 0 0"}},n.prototype.generateGetLinePoints=function(i,a){var s=this,c=s.config,p=i.__max__+1,m=s.getShapeX(0,p,i,!!a),x=s.getShapeY(!!a),C=s.getShapeOffset(s.isLineType,i,!!a),k=a?s.getSubYScale:s.getYScale;return function(P,D){var G=k.call(s,P.id)(0),B=C(P,D)||G,N=m(P),U=x(P);return c.axis_rotated&&(0<P.value&&U<G||P.value<0&&G<U)&&(U=G),[[N,U-(G-B)],[N,U-(G-B)],[N,U-(G-B)],[N,U-(G-B)]]}},n.prototype.lineWithRegions=function(i,a,s,c){var p=this,m=p.config,x,C,k="M",P,D,G,B,N,U,W,j,K=p.isCategorized()?.5:0,ft,ht,wt=[];function Ct(dt,bt){var vt;for(vt=0;vt<bt.length;vt++)if(bt[vt].start<dt&&dt<=bt[vt].end)return!0;return!1}if(g(c))for(x=0;x<c.length;x++)wt[x]={},A(c[x].start)?wt[x].start=i[0].x:wt[x].start=p.isTimeSeries()?p.parseDate(c[x].start):c[x].start,A(c[x].end)?wt[x].end=i[i.length-1].x:wt[x].end=p.isTimeSeries()?p.parseDate(c[x].end):c[x].end;ft=m.axis_rotated?function(dt){return s(dt.value)}:function(dt){return a(dt.x)},ht=m.axis_rotated?function(dt){return a(dt.x)}:function(dt){return s(dt.value)};function At(dt){return"M"+dt[0][0]+" "+dt[0][1]+" "+dt[1][0]+" "+dt[1][1]}for(p.isTimeSeries()?P=function(dt,bt,vt,_t){var rt=dt.x.getTime(),ot=bt.x-dt.x,Bt=new Date(rt+ot*vt),le=new Date(rt+ot*(vt+_t)),Kt;return m.axis_rotated?Kt=[[s(G(vt)),a(Bt)],[s(G(vt+_t)),a(le)]]:Kt=[[a(Bt),s(G(vt))],[a(le),s(G(vt+_t))]],At(Kt)}:P=function(dt,bt,vt,_t){var rt;return m.axis_rotated?rt=[[s(G(vt),!0),a(D(vt))],[s(G(vt+_t),!0),a(D(vt+_t))]]:rt=[[a(D(vt),!0),s(G(vt))],[a(D(vt+_t),!0),s(G(vt+_t))]],At(rt)},x=0;x<i.length;x++){if(A(wt)||!Ct(i[x].x,wt))k+=" "+ft(i[x])+" "+ht(i[x]);else for(D=p.getScale(i[x-1].x+K,i[x].x+K,p.isTimeSeries()),G=p.getScale(i[x-1].value,i[x].value),B=a(i[x].x)-a(i[x-1].x),N=s(i[x].value)-s(i[x-1].value),U=Math.sqrt(Math.pow(B,2)+Math.pow(N,2)),W=2/U,j=W*2,C=W;C<=1;C+=j)k+=P(i[x-1],i[x],C,W);i[x].x}return k},n.prototype.updateArea=function(i){var a=this,s=a.d3,c=a.main.selectAll("."+S.areas).selectAll("."+S.area).data(a.lineData.bind(a)),p=c.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+s.select(this).style("opacity"),0});a.mainArea=p.merge(c).style("opacity",a.orgAreaOpacity),c.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawArea=function(i,a,s){return[(a?this.mainArea.transition(s):this.mainArea).attr("d",i).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},n.prototype.generateDrawArea=function(i,a){var s=this,c=s.config,p=s.d3.area(),m=s.generateGetAreaPoints(i,a),x=a?s.getSubYScale:s.getYScale,C=function(D){return(a?s.subxx:s.xx).call(s,D)},k=function(D,G){return c.data_groups.length>0?m(D,G)[0][1]:x.call(s,D.id)(s.getAreaBaseValue(D.id))},P=function(D,G){return c.data_groups.length>0?m(D,G)[1][1]:x.call(s,D.id)(D.value)};return p=c.axis_rotated?p.x0(k).x1(P).y(C):p.x(C).y0(c.area_above?0:k).y1(P),c.line_connectNull||(p=p.defined(function(D){return D.value!==null})),function(D){var G=c.line_connectNull?s.filterRemoveNull(D.values):D.values,B=0,N=0,U;return s.isAreaType(D)?(s.isStepType(D)&&(G=s.convertValuesToStep(G)),U=p.curve(s.getInterpolate(D))(G)):(G[0]&&(B=s.x(G[0].x),N=s.getYScale(D.id)(G[0].value)),U=c.axis_rotated?"M "+N+" "+B:"M "+B+" "+N),U||"M 0 0"}},n.prototype.getAreaBaseValue=function(){return 0},n.prototype.generateGetAreaPoints=function(i,a){var s=this,c=s.config,p=i.__max__+1,m=s.getShapeX(0,p,i,!!a),x=s.getShapeY(!!a),C=s.getShapeOffset(s.isAreaType,i,!!a),k=a?s.getSubYScale:s.getYScale;return function(P,D){var G=k.call(s,P.id)(0),B=C(P,D)||G,N=m(P),U=x(P);return c.axis_rotated&&(0<P.value&&U<G||P.value<0&&G<U)&&(U=G),[[N,B],[N,U-(G-B)],[N,U-(G-B)],[N,B]]}},n.prototype.updateCircle=function(i,a){var s=this,c=s.main.selectAll("."+S.circles).selectAll("."+S.circle).data(s.lineOrScatterOrStanfordData.bind(s)),p=c.enter().append("circle").attr("shape-rendering",s.isStanfordGraphType()?"crispEdges":"").attr("class",s.classCircle.bind(s)).attr("cx",i).attr("cy",a).attr("r",s.pointR.bind(s)).style("color",s.isStanfordGraphType()?s.getStanfordPointColor.bind(s):s.color);s.mainCircle=p.merge(c).style("opacity",s.isStanfordGraphType()?1:s.initialOpacityForCircle.bind(s)),c.exit().style("opacity",0)},n.prototype.redrawCircle=function(i,a,s,c){var p=this,m=p.main.selectAll("."+S.selectedCircle);return[(s?p.mainCircle.transition(c):p.mainCircle).style("opacity",this.opacityForCircle.bind(p)).style("color",p.isStanfordGraphType()?p.getStanfordPointColor.bind(p):p.color).attr("cx",i).attr("cy",a),(s?m.transition(c):m).attr("cx",i).attr("cy",a)]},n.prototype.circleX=function(i){return i.x||i.x===0?this.x(i.x):null},n.prototype.updateCircleY=function(){var i=this,a,s;i.config.data_groups.length>0?(a=i.getShapeIndices(i.isLineType),s=i.generateGetLinePoints(a),i.circleY=function(c,p){return s(c,p)[0][1]}):i.circleY=function(c){return i.getYScale(c.id)(c.value)}},n.prototype.getCircles=function(i,a){var s=this;return(a?s.main.selectAll("."+S.circles+s.getTargetSelectorSuffix(a)):s.main).selectAll("."+S.circle+(E(i)?"-"+i:""))},n.prototype.expandCircles=function(i,a,s){var c=this,p=c.pointExpandedR.bind(c);s&&c.unexpandCircles(),c.getCircles(i,a).classed(S.EXPANDED,!0).attr("r",p)},n.prototype.unexpandCircles=function(i){var a=this,s=a.pointR.bind(a);a.getCircles(i).filter(function(){return a.d3.select(this).classed(S.EXPANDED)}).classed(S.EXPANDED,!1).attr("r",s)},n.prototype.pointR=function(i){var a=this,s=a.config;return a.isStepType(i)?0:w(s.point_r)?s.point_r(i):s.point_r},n.prototype.pointExpandedR=function(i){var a=this,s=a.config;return s.point_focus_expand_enabled?w(s.point_focus_expand_r)?s.point_focus_expand_r(i):s.point_focus_expand_r?s.point_focus_expand_r:a.pointR(i)*1.75:a.pointR(i)},n.prototype.pointSelectR=function(i){var a=this,s=a.config;return w(s.point_select_r)?s.point_select_r(i):s.point_select_r?s.point_select_r:a.pointR(i)*4},n.prototype.isWithinCircle=function(i,a){var s=this.d3,c=s.mouse(i),p=s.select(i),m=+p.attr("cx"),x=+p.attr("cy");return Math.sqrt(Math.pow(m-c[0],2)+Math.pow(x-c[1],2))<a},n.prototype.isWithinStep=function(i,a){return Math.abs(a-this.d3.mouse(i)[1])<30},n.prototype.getCurrentWidth=function(){var i=this,a=i.config;return a.size_width?a.size_width:i.getParentWidth()},n.prototype.getCurrentHeight=function(){var i=this,a=i.config,s=a.size_height?a.size_height:i.getParentHeight();return s>0?s:320/(i.hasType("gauge")&&!a.gauge_fullCircle?2:1)},n.prototype.getCurrentPaddingTop=function(){var i=this,a=i.config,s=E(a.padding_top)?a.padding_top:0;return i.title&&i.title.node()&&(s+=i.getTitlePadding()),s},n.prototype.getCurrentPaddingBottom=function(){var i=this.config;return E(i.padding_bottom)?i.padding_bottom:0},n.prototype.getCurrentPaddingLeft=function(i){var a=this,s=a.config;return E(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(u(a.getAxisWidthByAxisId("x",i)),40):!s.axis_y_show||s.axis_y_inner?a.axis.getYAxisLabelPosition().isOuter?30:1:u(a.getAxisWidthByAxisId("y",i))},n.prototype.getCurrentPaddingRight=function(){var i=this,a=i.config,s=0,c=10,p=i.isLegendRight?i.getLegendWidth()+20:0;return E(a.padding_right)?s=a.padding_right+1:a.axis_rotated?s=c+p:!a.axis_y2_show||a.axis_y2_inner?s=2+p+(i.axis.getY2AxisLabelPosition().isOuter?20:0):s=u(i.getAxisWidthByAxisId("y2"))+p,i.colorScale&&i.colorScale.node()&&(s+=i.getColorScalePadding()),s},n.prototype.getParentRectValue=function(i){for(var a=this.selectChart.node(),s;a&&a.tagName!=="BODY";){try{s=a.getBoundingClientRect()[i]}catch{i==="width"&&(s=a.offsetWidth)}if(s)break;a=a.parentNode}return s},n.prototype.getParentWidth=function(){return this.getParentRectValue("width")},n.prototype.getParentHeight=function(){var i=this.selectChart.style("height");return i.indexOf("px")>0?+i.replace("px",""):0},n.prototype.getSvgLeft=function(i){var a=this,s=a.config,c=s.axis_rotated||!s.axis_rotated&&!s.axis_y_inner,p=s.axis_rotated?S.axisX:S.axisY,m=a.main.select("."+p).node(),x=m&&c?m.getBoundingClientRect():{right:0},C=a.selectChart.node().getBoundingClientRect(),k=a.hasArcType(),P=x.right-C.left-(k?0:a.getCurrentPaddingLeft(i));return P>0?P:0},n.prototype.getAxisWidthByAxisId=function(i,a){var s=this,c=s.axis.getLabelPositionById(i);return s.axis.getMaxTickWidth(i,a)+(c.isInner?20:40)},n.prototype.getHorizontalAxisHeight=function(i,a){var s=this,c=s.config,p=30;return i==="x"&&!(g(a)&&a?c.subchart_axis_x_show:c.axis_x_show)?8:i==="x"&&c.axis_x_height?c.axis_x_height:i==="y"&&!c.axis_y_show?c.legend_show&&!s.isLegendRight&&!s.isLegendInset?10:1:i==="y2"&&!c.axis_y2_show?s.rotated_padding_top:(i==="x"&&!c.axis_rotated&&c.axis_x_tick_rotate&&(p=30+s.axis.getMaxTickWidth(i)*Math.cos(Math.PI*(90-Math.abs(c.axis_x_tick_rotate))/180)),i==="y"&&c.axis_rotated&&c.axis_y_tick_rotate&&(p=30+s.axis.getMaxTickWidth(i)*Math.cos(Math.PI*(90-Math.abs(c.axis_y_tick_rotate))/180)),p+(s.axis.getLabelPositionById(i).isInner?0:10)+(i==="y2"?-10:0))},n.prototype.initBrush=function(i){var a=this,s=a.d3;return a.brush=(a.config.axis_rotated?s.brushY():s.brushX()).on("brush",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||a.redrawForBrush()}).on("end",function(){var c=s.event.sourceEvent;c&&c.type==="zoom"||a.brush.empty()&&c&&c.type!=="end"&&a.brush.clear()}),a.brush.updateExtent=function(){var c=this.scale.range(),p;return a.config.axis_rotated?p=[[0,c[0]],[a.width2,c[1]]]:p=[[c[0],0],[c[1],a.height2]],this.extent(p),this},a.brush.updateScale=function(c){return this.scale=c,this},a.brush.update=function(c){this.updateScale(c||a.subX).updateExtent(),a.context.select("."+S.brush).call(this)},a.brush.clear=function(){a.context.select("."+S.brush).call(a.brush.move,null)},a.brush.selection=function(){return s.brushSelection(a.context.select("."+S.brush).node())},a.brush.selectionAsValue=function(c,p){var m,x;return c?(a.context&&(m=[this.scale(c[0]),this.scale(c[1])],x=a.context.select("."+S.brush),p&&(x=x.transition()),a.brush.move(x,m)),[]):(m=a.brush.selection()||[0,0],[this.scale.invert(m[0]),this.scale.invert(m[1])])},a.brush.empty=function(){var c=a.brush.selection();return!c||c[0]===c[1]},a.brush.updateScale(i)},n.prototype.initSubchart=function(){var i=this,a=i.config,s=i.context=i.svg.append("g").attr("transform",i.getTranslate("context"));s.style("visibility","visible"),s.append("g").attr("clip-path",i.clipPathForSubchart).attr("class",S.chart),s.select("."+S.chart).append("g").attr("class",S.chartBars),s.select("."+S.chart).append("g").attr("class",S.chartLines),s.append("g").attr("clip-path",i.clipPath).attr("class",S.brush),i.axes.subx=s.append("g").attr("class",S.axisX).attr("transform",i.getTranslate("subx")).attr("clip-path",a.axis_rotated?"":i.clipPathForXAxis).style("visibility",a.subchart_axis_x_show?"visible":"hidden")},n.prototype.initSubchartBrush=function(){var i=this;i.initBrush(i.subX).updateExtent(),i.context.select("."+S.brush).call(i.brush)},n.prototype.updateTargetsForSubchart=function(i){var a=this,s=a.context,c=a.config,p,m,x,C,k=a.classChartBar.bind(a),P=a.classBars.bind(a),D=a.classChartLine.bind(a),G=a.classLines.bind(a),B=a.classAreas.bind(a);C=s.select("."+S.chartBars).selectAll("."+S.chartBar).data(i),x=C.enter().append("g").style("opacity",0),x.merge(C).attr("class",k),x.append("g").attr("class",P),m=s.select("."+S.chartLines).selectAll("."+S.chartLine).data(i),p=m.enter().append("g").style("opacity",0),p.merge(m).attr("class",D),p.append("g").attr("class",G),p.append("g").attr("class",B),s.selectAll("."+S.brush+" rect").attr(c.axis_rotated?"width":"height",c.axis_rotated?a.width2:a.height2)},n.prototype.updateBarForSubchart=function(i){var a=this,s=a.context.selectAll("."+S.bars).selectAll("."+S.bar).data(a.barData.bind(a)),c=s.enter().append("path").attr("class",a.classBar.bind(a)).style("stroke","none").style("fill",a.color);s.exit().transition().duration(i).style("opacity",0).remove(),a.contextBar=c.merge(s).style("opacity",a.initialOpacity.bind(a))},n.prototype.redrawBarForSubchart=function(i,a,s){(a?this.contextBar.transition(Math.random().toString()).duration(s):this.contextBar).attr("d",i).style("opacity",1)},n.prototype.updateLineForSubchart=function(i){var a=this,s=a.context.selectAll("."+S.lines).selectAll("."+S.line).data(a.lineData.bind(a)),c=s.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);s.exit().transition().duration(i).style("opacity",0).remove(),a.contextLine=c.merge(s).style("opacity",a.initialOpacity.bind(a))},n.prototype.redrawLineForSubchart=function(i,a,s){(a?this.contextLine.transition(Math.random().toString()).duration(s):this.contextLine).attr("d",i).style("opacity",1)},n.prototype.updateAreaForSubchart=function(i){var a=this,s=a.d3,c=a.context.selectAll("."+S.areas).selectAll("."+S.area).data(a.lineData.bind(a)),p=c.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+s.select(this).style("opacity"),0});c.exit().transition().duration(i).style("opacity",0).remove(),a.contextArea=p.merge(c).style("opacity",0)},n.prototype.redrawAreaForSubchart=function(i,a,s){(a?this.contextArea.transition(Math.random().toString()).duration(s):this.contextArea).attr("d",i).style("fill",this.color).style("opacity",this.orgAreaOpacity)},n.prototype.redrawSubchart=function(i,a,s,c,p,m,x){var C=this,k=C.d3,P,D,G;k.event&&k.event.type==="zoom"&&C.brush.selectionAsValue(C.x.orgDomain()),i&&(C.brush.empty()||C.brush.selectionAsValue(C.x.orgDomain()),P=C.generateDrawArea(p,!0),D=C.generateDrawBar(m,!0),G=C.generateDrawLine(x,!0),C.updateBarForSubchart(s),C.updateLineForSubchart(s),C.updateAreaForSubchart(s),C.redrawBarForSubchart(D,s,s),C.redrawLineForSubchart(G,s,s),C.redrawAreaForSubchart(P,s,s))},n.prototype.redrawForBrush=function(){var i=this,a=i.x,s=i.d3,c;i.redraw({withTransition:!1,withY:i.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),c=s.event.selection||i.brush.scale.range(),i.main.select("."+S.eventRect).call(i.zoom.transform,s.zoomIdentity.scale(i.width/(c[1]-c[0])).translate(-c[0],0)),i.config.subchart_onbrush.call(i.api,a.orgDomain())},n.prototype.transformContext=function(i,a){var s=this,c;a&&a.axisSubX?c=a.axisSubX:(c=s.context.select("."+S.axisX),i&&(c=c.transition())),s.context.attr("transform",s.getTranslate("context")),c.attr("transform",s.getTranslate("subx"))},n.prototype.getDefaultSelection=function(){var i=this,a=i.config,s=w(a.axis_x_selection)?a.axis_x_selection(i.getXDomain(i.data.targets)):a.axis_x_selection;return i.isTimeSeries()&&(s=[i.parseDate(s[0]),i.parseDate(s[1])]),s},n.prototype.removeSubchart=function(){var i=this;i.brush=null,i.context.remove(),i.context=null},n.prototype.initText=function(){var i=this;i.main.select("."+S.chart).append("g").attr("class",S.chartTexts),i.mainText=i.d3.selectAll([])},n.prototype.updateTargetsForText=function(i){var a=this,s=a.classChartText.bind(a),c=a.classTexts.bind(a),p=a.classFocus.bind(a),m=a.main.select("."+S.chartTexts).selectAll("."+S.chartText).data(i),x=m.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none");x.append("g").attr("class",c),x.merge(m).attr("class",function(C){return s(C)+p(C)})},n.prototype.updateText=function(i,a,s){var c=this,p=c.config,m=c.barOrLineData.bind(c),x=c.classText.bind(c),C=c.main.selectAll("."+S.texts).selectAll("."+S.text).data(m),k=C.enter().append("text").attr("class",x).attr("text-anchor",function(P){return p.axis_rotated?P.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",i).attr("y",a).style("fill",function(P){return c.color(P)}).style("fill-opacity",0);c.mainText=k.merge(C).text(function(P,D,G){return c.dataLabelFormat(P.id)(P.value,P.id,D,G)}),C.exit().transition().duration(s).style("fill-opacity",0).remove()},n.prototype.redrawText=function(i,a,s,c,p){return[(c?this.mainText.transition(p):this.mainText).attr("x",i).attr("y",a).style("fill",this.color).style("fill-opacity",s?0:this.opacityForText.bind(this))]},n.prototype.getTextRect=function(i,a,s){var c=this.d3.select("body").append("div").classed("c3",!0),p=c.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),m=this.d3.select(s).style("font"),x;return p.selectAll(".dummy").data([i]).enter().append("text").classed(a||"",!0).style("font",m).text(i).each(function(){x=d(this)}),c.remove(),x},n.prototype.generateXYForText=function(i,a,s,c){var p=this,m=p.generateGetAreaPoints(i,!1),x=p.generateGetBarPoints(a,!1),C=p.generateGetLinePoints(s,!1),k=c?p.getXForText:p.getYForText;return function(P,D){var G=p.isAreaType(P)?m:p.isBarType(P)?x:C;return k.call(p,G(P,D),P,this)}},n.prototype.getXForText=function(i,a,s){var c=this,p=d(s),m,x;return c.config.axis_rotated?(x=c.isBarType(a)?4:6,m=i[2][1]+x*(a.value<0?-1:1)):m=c.hasType("bar")?(i[2][0]+i[0][0])/2:i[0][0],a.value===null&&(m>c.width?m=c.width-p.width:m<0&&(m=4)),m},n.prototype.getYForText=function(i,a,s){var c=this,p=d(s),m;return c.config.axis_rotated?m=(i[0][0]+i[2][0]+p.height*.6)/2:(m=i[2][1],a.value<0||a.value===0&&!c.hasPositiveValue?(m+=p.height,c.isBarType(a)&&c.isSafari()?m-=3:!c.isBarType(a)&&c.isChrome()&&(m+=3)):m+=c.isBarType(a)?-3:-6),a.value===null&&!c.config.axis_rotated&&(m<p.height?m=p.height:m>this.height&&(m=this.height-4)),m},n.prototype.initTitle=function(){var i=this;i.title=i.svg.append("text").text(i.config.title_text).attr("class",i.CLASS.title)},n.prototype.redrawTitle=function(){var i=this;i.title.attr("x",i.xForTitle.bind(i)).attr("y",i.yForTitle.bind(i))},n.prototype.xForTitle=function(){var i=this,a=i.config,s=a.title_position||"left",c;return s.indexOf("right")>=0?c=i.currentWidth-i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).width-a.title_padding.right:s.indexOf("center")>=0?c=Math.max((i.currentWidth-i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).width)/2,0):c=a.title_padding.left,c},n.prototype.yForTitle=function(){var i=this;return i.config.title_padding.top+i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).height},n.prototype.getTitlePadding=function(){var i=this;return i.yForTitle()+i.config.title_padding.bottom};function X(i){return i/Math.pow(10,Math.ceil(Math.log(i)/Math.LN10-1e-12))===1}n.prototype.drawColorScale=function(){var i=this,a=i.d3,s=i.config,c=i.data.targets[0],p,m,x,C,k,P,D,G;if(p=isNaN(s.stanford_scaleWidth)?20:s.stanford_scaleWidth,m=5,m<0||p<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");G=i.height-s.stanford_padding.bottom-s.stanford_padding.top,C=a.range(s.stanford_padding.bottom,G,m),D=a.scaleSequential(c.colors).domain([C[C.length-1],C[0]]),i.colorScale&&i.colorScale.remove(),i.colorScale=i.svg.append("g").attr("width",50).attr("height",G).attr("class",S.colorScale),i.colorScale.append("g").attr("transform","translate(0, "+s.stanford_padding.top+")").selectAll("bars").data(C).enter().append("rect").attr("y",function(B,N){return N*m}).attr("x",0).attr("width",p).attr("height",m).attr("fill",function(B){return D(B)}),P=a.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([C[0]+s.stanford_padding.top+C[C.length-1]+m-1,C[0]+s.stanford_padding.top]),k=a.axisRight(P),s.stanford_scaleFormat==="pow10"?k.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):w(s.stanford_scaleFormat)?k.tickFormat(s.stanford_scaleFormat):k.tickFormat(a.format("d")),w(s.stanford_scaleValues)&&k.tickValues(s.stanford_scaleValues(c.minEpochs,c.maxEpochs)),x=i.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+p+",0)").call(k),s.stanford_scaleFormat==="pow10"&&x.selectAll(".tick text").text(null).filter(X).text(10).append("tspan").attr("dy","-.7em").text(function(B){return Math.round(Math.log(B)/Math.LN10)}),i.colorScale.attr("transform","translate("+(i.currentWidth-i.xForColorScale())+", 0)")},n.prototype.xForColorScale=function(){var i=this;return i.config.stanford_padding.right+d(i.colorScale.node()).width},n.prototype.getColorScalePadding=function(){var i=this;return i.xForColorScale()+i.config.stanford_padding.left+20},n.prototype.isStanfordGraphType=function(){var i=this;return i.config.data_type==="stanford"},n.prototype.initStanfordData=function(){var i=this,a=i.d3,s=i.config,c=i.data.targets[0],p,m,x;if(c.values.sort(tt),p=c.values.map(function(C){return C.epochs}),x=isNaN(s.stanford_scaleMin)?a.min(p):s.stanford_scaleMin,m=isNaN(s.stanford_scaleMax)?a.max(p):s.stanford_scaleMax,x>m)throw Error("Number of minEpochs has to be smaller than maxEpochs");c.colors=w(s.stanford_colors)?s.stanford_colors:a.interpolateHslLong(a.hsl(250,1,.5),a.hsl(0,1,.5)),c.colorscale=a.scaleSequentialLog(c.colors).domain([x,m]),c.minEpochs=x,c.maxEpochs=m},n.prototype.getStanfordPointColor=function(i){var a=this,s=a.data.targets[0];return s.colorscale(i.epochs)},n.prototype.getCentroid=function(i){var a=Q(i),s=0,c=0,p,m,x,C,k;for(p=0,m=i.length-1;p<i.length;m=p,p+=1)C=i[p],k=i[m],x=C.x*k.y-k.x*C.y,s+=(C.x+k.x)*x,c+=(C.y+k.y)*x;return x=a*6,{x:s/x,y:c/x}},n.prototype.getStanfordTooltipTitle=function(i){var a=this,s=a.axis.getLabelText("x"),c=a.axis.getLabelText("y");return`
      <tr><th>`+(s?R(s):"x")+"</th><th class='value'>"+i.x+`</th></tr>
      <tr><th>`+(c?R(c):"y")+"</th><th class='value'>"+i.value+`</th></tr>
    `},n.prototype.countEpochsInRegion=function(i){var a=this,s=a.data.targets[0],c,p;return c=s.values.reduce(function(m,x){return m+Number(x.epochs)},0),p=s.values.reduce(function(m,x){return et(x,i)?m+Number(x.epochs):m},0),{value:p,percentage:p!==0?(p/c*100).toFixed(1):0}};var Q=function(i){var a=0,s,c,p,m;for(s=0,c=i.length-1;s<i.length;c=s,s+=1)p=i[s],m=i[c],a+=p.x*m.y,a-=p.y*m.x;return a/=2,a},et=function(i,a){for(var s,c,p,m,x,C=i.x,k=i.value,P=!1,D=0,G=a.length-1;D<a.length;G=D++)s=a[D].x,c=a[D].y,m=a[G].x,p=a[G].y,x=c>k!=p>k&&C<(m-s)*(k-c)/(p-c)+s,x&&(P=!P);return P},tt=function(i,a){return i.epochs<a.epochs?-1:i.epochs>a.epochs?1:0};return n.prototype.initStanfordElements=function(){var i=this;i.stanfordElements=i.main.select("."+S.chart).append("g").attr("class",S.stanfordElements),i.stanfordElements.append("g").attr("class",S.stanfordLines),i.stanfordElements.append("g").attr("class",S.stanfordTexts),i.stanfordElements.append("g").attr("class",S.stanfordRegions)},n.prototype.updateStanfordElements=function(i){var a=this,s=a.main,c=a.config,p,m,x,C,k,P,D=a.xvCustom.bind(a),G=a.yvCustom.bind(a),B=a.countEpochsInRegion.bind(a);p=s.select("."+S.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+S.stanfordLine).data(c.stanford_lines),m=p.enter().append("g").attr("class",function(N){return S.stanfordLine+(N.class?" "+N.class:"")}),m.append("line").attr("x1",function(N){return c.axis_rotated?G(N,"value_y1"):D(N,"value_x1")}).attr("x2",function(N){return c.axis_rotated?G(N,"value_y2"):D(N,"value_x2")}).attr("y1",function(N){return c.axis_rotated?D(N,"value_x1"):G(N,"value_y1")}).attr("y2",function(N){return c.axis_rotated?D(N,"value_x2"):G(N,"value_y2")}).style("opacity",0),a.stanfordLines=m.merge(p),a.stanfordLines.select("line").transition().duration(i).attr("x1",function(N){return c.axis_rotated?G(N,"value_y1"):D(N,"value_x1")}).attr("x2",function(N){return c.axis_rotated?G(N,"value_y2"):D(N,"value_x2")}).attr("y1",function(N){return c.axis_rotated?D(N,"value_x1"):G(N,"value_y1")}).attr("y2",function(N){return c.axis_rotated?D(N,"value_x2"):G(N,"value_y2")}).style("opacity",1),p.exit().transition().duration(i).style("opacity",0).remove(),k=s.select("."+S.stanfordTexts).selectAll("."+S.stanfordText).data(c.stanford_texts),P=k.enter().append("g").attr("class",function(N){return S.stanfordText+(N.class?" "+N.class:"")}),P.append("text").attr("x",function(N){return c.axis_rotated?G(N,"y"):D(N,"x")}).attr("y",function(N){return c.axis_rotated?D(N,"x"):G(N,"y")}).style("opacity",0),a.stanfordTexts=P.merge(k),a.stanfordTexts.select("text").transition().duration(i).attr("x",function(N){return c.axis_rotated?G(N,"y"):D(N,"x")}).attr("y",function(N){return c.axis_rotated?D(N,"x"):G(N,"y")}).text(function(N){return N.content}).style("opacity",1),k.exit().transition().duration(i).style("opacity",0).remove(),x=s.select("."+S.stanfordRegions).selectAll("."+S.stanfordRegion).data(c.stanford_regions),C=x.enter().append("g").attr("class",function(N){return S.stanfordRegion+(N.class?" "+N.class:"")}),C.append("polygon").attr("points",function(N){return N.points.map(function(U){return[c.axis_rotated?G(U,"y"):D(U,"x"),c.axis_rotated?D(U,"x"):G(U,"y")].join(",")}).join(" ")}).style("opacity",0),C.append("text").attr("x",function(N){return a.getCentroid(N.points).x}).attr("y",function(N){return a.getCentroid(N.points).y}).style("opacity",0),a.stanfordRegions=C.merge(x),a.stanfordRegions.select("polygon").transition().duration(i).attr("points",function(N){return N.points.map(function(U){return[c.axis_rotated?G(U,"y"):D(U,"x"),c.axis_rotated?D(U,"x"):G(U,"y")].join(",")}).join(" ")}).style("opacity",function(N){return N.opacity?N.opacity:.2}),a.stanfordRegions.select("text").transition().duration(i).attr("x",function(N){return c.axis_rotated?G(a.getCentroid(N.points),"y"):D(a.getCentroid(N.points),"x")}).attr("y",function(N){return c.axis_rotated?D(a.getCentroid(N.points),"x"):G(a.getCentroid(N.points),"y")}).text(function(N){if(N.text){var U,W,j;return a.isStanfordGraphType()&&(j=B(N.points),U=j.value,W=j.percentage),N.text(U,W)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),x.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.initTooltip=function(){var i=this,a=i.config,s;if(i.tooltip=i.selectChart.style("position","relative").append("div").attr("class",S.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),a.tooltip_init_show){if(i.isTimeSeries()&&T(a.tooltip_init_x)){for(a.tooltip_init_x=i.parseDate(a.tooltip_init_x),s=0;s<i.data.targets[0].values.length&&i.data.targets[0].values[s].x-a.tooltip_init_x!==0;s++);a.tooltip_init_x=s}i.tooltip.html(a.tooltip_contents.call(i,i.data.targets.map(function(c){return i.addName(c.values[a.tooltip_init_x])}),i.axis.getXAxisTickFormat(),i.getYFormat(i.hasArcType()),i.color)),i.tooltip.style("top",a.tooltip_init_position.top).style("left",a.tooltip_init_position.left).style("display","block")}},n.prototype.getTooltipSortFunction=function(){var i=this,a=i.config;if(a.data_groups.length===0||a.tooltip_order!==void 0){var s=a.tooltip_order;s===void 0&&(s=a.data_order);var c=function(x){return x?x.value:null};if(T(s)&&s.toLowerCase()==="asc")return function(x,C){return c(x)-c(C)};if(T(s)&&s.toLowerCase()==="desc")return function(x,C){return c(C)-c(x)};if(w(s)){var p=s;return a.tooltip_order===void 0&&(p=function(x,C){return s(x?{id:x.id,values:[x]}:null,C?{id:C.id,values:[C]}:null)}),p}else if(_(s))return function(x,C){return s.indexOf(x.id)-s.indexOf(C.id)}}else{var m=i.orderTargets(i.data.targets).map(function(x){return x.id});return(i.isOrderAsc()||i.isOrderDesc())&&(m=m.reverse()),function(x,C){return m.indexOf(x.id)-m.indexOf(C.id)}}},n.prototype.getTooltipContent=function(i,a,s,c){var p=this,m=p.config,x=m.tooltip_format_title||a,C=m.tooltip_format_name||function(j){return j},k,P,D,G,B,N,U=m.tooltip_format_value;U||(U=p.isTargetNormalized(i.id)?function(j,K){return(K*100).toFixed(2)+"%"}:s);var W=this.getTooltipSortFunction();for(W&&i.sort(W),P=0;P<i.length;P++)if(!!(i[P]&&(i[P].value||i[P].value===0))){if(p.isStanfordGraphType())k||(D=p.getStanfordTooltipTitle(i[P]),k="<table class='"+p.CLASS.tooltip+"'>"+D),N=p.getStanfordPointColor(i[P]),B=R(m.data_epochs),G=i[P].epochs;else if(k||(D=R(x?x(i[P].x,i[P].index):i[P].x),k="<table class='"+p.CLASS.tooltip+"'>"+(D||D===0?"<tr><th colspan='2'>"+D+"</th></tr>":"")),G=R(U(i[P].value,i[P].ratio,i[P].id,i[P].index,i)),G!==void 0){if(i[P].name===null)continue;B=R(C(i[P].name,i[P].ratio,i[P].id,i[P].index)),N=p.levelColor?p.levelColor(i[P].value):c(i[P].id)}G!==void 0&&(k+="<tr class='"+p.CLASS.tooltipName+"-"+p.getTargetSelectorSuffix(i[P].id)+"'>",k+="<td class='name'><span style='background-color:"+N+"'></span>"+B+"</td>",k+="<td class='value'>"+G+"</td>",k+="</tr>")}return k+"</table>"},n.prototype.tooltipPosition=function(i,a,s,c){var p=this,m=p.config,x=p.d3,C,k,P,D,G,B=p.hasArcType(),N=x.mouse(c);return B?(k=(p.width-(p.isLegendRight?p.getLegendWidth():0))/2+N[0],D=(p.hasType("gauge")?p.height:p.height/2)+N[1]+20):(C=p.getSvgLeft(!0),m.axis_rotated?(k=C+N[0]+100,P=k+a,G=p.currentWidth-p.getCurrentPaddingRight(),D=p.x(i[0].x)+20):(k=C+p.getCurrentPaddingLeft(!0)+p.x(i[0].x)+20,P=k+a,G=C+p.currentWidth-p.getCurrentPaddingRight(),D=N[1]+15),P>G&&(k-=P-G+20),D+s>p.currentHeight&&(D-=s+30)),D<0&&(D=0),{top:D,left:k}},n.prototype.showTooltip=function(i,a){var s=this,c=s.config,p,m,x,C=s.hasArcType(),k=i.filter(function(D){return D&&E(D.value)}),P=c.tooltip_position||n.prototype.tooltipPosition;if(k.length===0||!c.tooltip_show){s.hideTooltip();return}s.tooltip.html(c.tooltip_contents.call(s,i,s.axis.getXAxisTickFormat(),s.getYFormat(C),s.color)).style("display","block"),p=s.tooltip.property("offsetWidth"),m=s.tooltip.property("offsetHeight"),x=P.call(this,k,p,m,a),s.tooltip.style("top",x.top+"px").style("left",x.left+"px")},n.prototype.hideTooltip=function(){this.tooltip.style("display","none")},n.prototype.setTargetType=function(i,a){var s=this,c=s.config;s.mapToTargetIds(i).forEach(function(p){s.withoutFadeIn[p]=a===c.data_types[p],c.data_types[p]=a}),i||(c.data_type=a)},n.prototype.hasType=function(i,a){var s=this,c=s.config.data_types,p=!1;return a=a||s.data.targets,a&&a.length?a.forEach(function(m){var x=c[m.id];(x&&x.indexOf(i)>=0||!x&&i==="line")&&(p=!0)}):Object.keys(c).length?Object.keys(c).forEach(function(m){c[m]===i&&(p=!0)}):p=s.config.data_type===i,p},n.prototype.hasArcType=function(i){return this.hasType("pie",i)||this.hasType("donut",i)||this.hasType("gauge",i)},n.prototype.isLineType=function(i){var a=this.config,s=T(i)?i:i.id;return!a.data_types[s]||["line","spline","area","area-spline","step","area-step"].indexOf(a.data_types[s])>=0},n.prototype.isStepType=function(i){var a=T(i)?i:i.id;return["step","area-step"].indexOf(this.config.data_types[a])>=0},n.prototype.isSplineType=function(i){var a=T(i)?i:i.id;return["spline","area-spline"].indexOf(this.config.data_types[a])>=0},n.prototype.isAreaType=function(i){var a=T(i)?i:i.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[a])>=0},n.prototype.isBarType=function(i){var a=T(i)?i:i.id;return this.config.data_types[a]==="bar"},n.prototype.isScatterType=function(i){var a=T(i)?i:i.id;return this.config.data_types[a]==="scatter"},n.prototype.isStanfordType=function(i){var a=T(i)?i:i.id;return this.config.data_types[a]==="stanford"},n.prototype.isPieType=function(i){var a=T(i)?i:i.id;return this.config.data_types[a]==="pie"},n.prototype.isGaugeType=function(i){var a=T(i)?i:i.id;return this.config.data_types[a]==="gauge"},n.prototype.isDonutType=function(i){var a=T(i)?i:i.id;return this.config.data_types[a]==="donut"},n.prototype.isArcType=function(i){return this.isPieType(i)||this.isDonutType(i)||this.isGaugeType(i)},n.prototype.lineData=function(i){return this.isLineType(i)?[i]:[]},n.prototype.arcData=function(i){return this.isArcType(i.data)?[i]:[]},n.prototype.barData=function(i){return this.isBarType(i)?i.values:[]},n.prototype.lineOrScatterOrStanfordData=function(i){return this.isLineType(i)||this.isScatterType(i)||this.isStanfordType(i)?i.values:[]},n.prototype.barOrLineData=function(i){return this.isBarType(i)||this.isLineType(i)?i.values:[]},n.prototype.isSafari=function(){var i=window.navigator.userAgent;return i.indexOf("Safari")>=0&&i.indexOf("Chrome")<0},n.prototype.isChrome=function(){var i=window.navigator.userAgent;return i.indexOf("Chrome")>=0},n.prototype.initZoom=function(){var i=this,a=i.d3,s=i.config,c;return i.zoom=a.zoom().on("start",function(){if(s.zoom_type==="scroll"){var p=a.event.sourceEvent;p&&p.type==="brush"||(c=p,s.zoom_onzoomstart.call(i.api,p))}}).on("zoom",function(){if(s.zoom_type==="scroll"){var p=a.event.sourceEvent;p&&p.type==="brush"||(i.redrawForZoom(),s.zoom_onzoom.call(i.api,i.x.orgDomain()))}}).on("end",function(){if(s.zoom_type==="scroll"){var p=a.event.sourceEvent;p&&p.type==="brush"||p&&c.clientX===p.clientX&&c.clientY===p.clientY||s.zoom_onzoomend.call(i.api,i.x.orgDomain())}}),i.zoom.updateDomain=function(){return a.event&&a.event.transform&&(s.axis_rotated&&s.zoom_type==="scroll"&&a.event.sourceEvent.type==="mousemove"?i.x.domain(a.event.transform.rescaleY(i.subX).domain()):i.x.domain(a.event.transform.rescaleX(i.subX).domain())),this},i.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[i.width,i.height]]).extent([[0,0],[i.width,i.height]]),this},i.zoom.update=function(){return this.updateExtent().updateDomain()},i.zoom.updateExtent()},n.prototype.zoomTransform=function(i){var a=this,s=[a.x(i[0]),a.x(i[1])];return a.d3.zoomIdentity.scale(a.width/(s[1]-s[0])).translate(-s[0],0)},n.prototype.initDragZoom=function(){var i=this,a=i.d3,s=i.config,c=i.context=i.svg,p=i.margin.left+20.5,m=i.margin.top+.5;if(!!(s.zoom_type==="drag"&&s.zoom_enabled)){var x=function(k){return k&&k.map(function(P){return i.x.invert(P)})},C=i.dragZoomBrush=a.brushX().on("start",function(){i.api.unzoom(),i.svg.select("."+S.dragZoom).classed("disabled",!1),s.zoom_onzoomstart.call(i.api,a.event.sourceEvent)}).on("brush",function(){s.zoom_onzoom.call(i.api,x(a.event.selection))}).on("end",function(){if(a.event.selection!=null){var k=x(a.event.selection);s.zoom_disableDefaultBehavior||i.api.zoom(k),i.svg.select("."+S.dragZoom).classed("disabled",!0),s.zoom_onzoomend.call(i.api,k)}});c.append("g").classed(S.dragZoom,!0).attr("clip-path",i.clipPath).attr("transform","translate("+p+","+m+")").call(C)}},n.prototype.getZoomDomain=function(){var i=this,a=i.config,s=i.d3,c=s.min([i.orgXDomain[0],a.zoom_x_min]),p=s.max([i.orgXDomain[1],a.zoom_x_max]);return[c,p]},n.prototype.redrawForZoom=function(){var i=this,a=i.d3,s=i.config,c=i.zoom,p=i.x;!s.zoom_enabled||i.filterTargetsToShow(i.data.targets).length!==0&&(c.update(),!s.zoom_disableDefaultBehavior&&(i.isCategorized()&&p.orgDomain()[0]===i.orgXDomain[0]&&p.domain([i.orgXDomain[0]-1e-10,p.orgDomain()[1]]),i.redraw({withTransition:!1,withY:s.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),a.event.sourceEvent&&a.event.sourceEvent.type==="mousemove"&&(i.cancelClick=!0)))},O})})(wh);var jc=wh.exports;function S5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function po(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function T5(t){return t=po(Math.abs(t)),t?t[1]:NaN}function A5(t,e){return function(n,r){for(var o=n.length,u=[],l=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),u.push(n.substring(o-=f,o+f)),!((h+=f+1)>r));)f=t[l=(l+1)%t.length];return u.reverse().join(e)}}function C5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gu(t){if(!(e=$5.exec(t)))throw new Error("invalid format: "+t);var e;return new Jc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gu.prototype=Jc.prototype;function Jc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Jc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P5(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var I0;function L5(t,e){var n=po(t,e);if(!n)return t+"";var r=n[0],o=n[1],u=o-(I0=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=r.length;return u===l?r:u>l?r+new Array(u-l+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+po(t,Math.max(0,e+u-1))[0]}function gh(t,e){var n=po(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var yh={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:S5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gh(t*100,e),r:gh,s:L5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _h(t){return t}var mh=Array.prototype.map,vh=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function M5(t){var e=t.grouping===void 0||t.thousands===void 0?_h:A5(mh.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?_h:C5(mh.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(_){_=Gu(_);var g=_.fill,v=_.align,w=_.sign,b=_.symbol,T=_.zero,A=_.width,E=_.comma,L=_.precision,R=_.trim,I=_.type;I==="n"?(E=!0,I="g"):yh[I]||(L===void 0&&(L=12),R=!0,I="g"),(T||g==="0"&&v==="=")&&(T=!0,g="0",v="=");var H=b==="$"?n:b==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",z=b==="$"?r:/[%p]/.test(I)?l:"",q=yh[I],Y=/[defgprs%]/.test(I);L=L===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function S(F){var M=H,O=z,Z,X,Q;if(I==="c")O=q(F)+O,F="";else{F=+F;var et=F<0||1/F<0;if(F=isNaN(F)?h:q(Math.abs(F),L),R&&(F=P5(F)),et&&+F==0&&w!=="+"&&(et=!1),M=(et?w==="("?w:f:w==="-"||w==="("?"":w)+M,O=(I==="s"?vh[8+I0/3]:"")+O+(et&&w==="("?")":""),Y){for(Z=-1,X=F.length;++Z<X;)if(Q=F.charCodeAt(Z),48>Q||Q>57){O=(Q===46?o+F.slice(Z+1):F.slice(Z))+O,F=F.slice(0,Z);break}}}E&&!T&&(F=e(F,1/0));var tt=M.length+F.length+O.length,i=tt<A?new Array(A-tt+1).join(g):"";switch(E&&T&&(F=e(i+F,i.length?A-O.length:1/0),i=""),v){case"<":F=M+F+O+i;break;case"=":F=M+i+F+O;break;case"^":F=i.slice(0,tt=i.length>>1)+M+F+O+i.slice(tt);break;default:F=i+M+F+O;break}return u(F)}return S.toString=function(){return _+""},S}function y(_,g){var v=d((_=Gu(_),_.type="f",_)),w=Math.max(-8,Math.min(8,Math.floor(T5(g)/3)))*3,b=Math.pow(10,-w),T=vh[8+w/3];return function(A){return v(b*A)+T}}return{format:d,formatPrefix:y}}var oa,Kc;E5({thousands:",",grouping:[3],currency:["$",""]});function E5(t){return oa=M5(t),Kc=oa.format,oa.formatPrefix,oa}function ui(t,e,n){this.k=t,this.x=e,this.y=n}ui.prototype={constructor:ui,scale:function(t){return t===1?this:new ui(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ui(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ui(1,0,0);ui.prototype;const k5={props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,index:null},data(){return{action:"Lead_By_Status",charT_TYPE:"bar",BarWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e=`moduleName=${t.moduleName}&reportName=Lead_By_Status&fromDate=${t.fromDate}&toDate=${t.toDate}&usersDash=`;Ft.GetDashboardData(e).then(function(n){n.data!=null&&n.data!=""&&n.data.status=="Success"&&n.data.result!=null&&(t.BarWidgetData=n.data.result.data,t.bindWidget(t))})},ResizeReportWidget:function(t,e){var n="#div_BarChart_"+e,r=$(n).data("c3-chart");r.revert(),t=="1"?r.resize({height:200,width:400}):$(window).width()<=1280&&$(window).height()<=1024?r.resize({height:200,width:300}):r.resize({height:300,width:800})},bindWidget:function(t){if(t.charT_TYPE=="bar"&&t.BarWidgetData.length>0){var e=[],n="bar";$.each(t.BarWidgetData,function(v,w){e.push([w.NAME,w.VALUE])});var r="",o="";let y=document.querySelector("#div_BarChart_"+t.action+t.index),_=y.offsetParent.offsetWidth-80;var u=y.offsetParent.offsetHeight-80,l=_;t.action=="ProjectsStatusWise"?(r=t.$t("Status"),o=t.$t("Projects")):t.action=="Lead_By_Status"?(r=t.$t("Status"),o=t.$t("Leads")):(r=t.$t("User"),o=t.$t("Tickets"));var f="#div_BarChart_"+t.action+t.index;$(f).html("");var h=[];h.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"}),h.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"});var d=jc.generate({bindto:f,data:{columns:e,type:n,empty:{label:{position:"right",text:t.$t("NoRecordfound")}},onclick:function(v){moduleName=="CRM"?window.open("javascript:;"):window.open("/Project/Index?searchCondition=PR.STATUS_ID in(1001)","_blank")}},bar:{space:.15,width:{ratio:e.length>4?.5:.3}},size:{width:l,height:u},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[r],type:"category"},y:{label:{text:o,position:"outer-center"},padding:{top:20}}}});$(f).data("c3-chart",d)}}}},R5=["id"],D5=["controller","id"],G5={class:"text-danger no-record"};function V5(t,e,n,r,o,u){return st(),pt("div",{id:"BarChart_"+n.moduleName+"_"+o.action+n.index,class:"w-100 bg-white custom-chart-div t-min-height Barchrt text-center"},[V("div",{class:ge({"bar d-inline-block mt-2 reportBlock t-min-height align-center c3 w-100":o.BarWidgetData.length>0,"bar d-inline-block mt-2 align-center c3 w-100":o.BarWidgetData.length==0}),controller:n.moduleName,id:"div_BarChart_"+o.action+n.index,style:Vu({"width:60%; float:left; text-align:center;":o.BarWidgetData.length>0,"width:100%;text-align:center;":o.BarWidgetData.length==0})},[V("span",G5,ct(t.$t("NoRecordfound")),1)],14,D5)],8,R5)}var N5=Ue(k5,[["render",V5]]);const I5={props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,index:null},data(){return{action:"Lead_By_Industry",charT_TYPE:"pie",PieWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e=`moduleName=${t.moduleName}&reportName=Lead_By_Industry&&fromDate=${t.fromDate}&toDate=${t.toDate}&usersDash=`;Ft.GetDashboardData(e).then(function(n){n.data!=null&&n.data!=""&&n.data.status=="Success"&&n.data.result!=null&&(t.PieWidgetData=n.data.result.data,t.bindWidget(t))})},ResizeReportWidget:function(t,e){var n="#div_WidgetChart_"+this.action+this.index,r=$(n).data("c3-chart");r.revert(),t=="1"?r.resize({height:200,width:480}):$(window).width()<=1280&&$(window).height()<=1024?r.resize({height:350,width:400}):r.resize({height:500,width:700})},bindWidget:function(t){if(t.charT_TYPE=="pie"&&t.PieWidgetData.length>0){var e="pie",n=[];$.each(t.PieWidgetData,function(g,v){n.push([v.NAME+" ("+v.VALUE+")",v.VALUE]),t.widgetType=="EventTicketsSoldReport"?e="bar":t.widgetType=="EventBudgetReport"?e="donut":t.widgetType=="EventExpensesReport"?e="pie":t.widgetType=="EventTicketsSalesHistoryReport"?e="bar":t.widgetType=="EventAttendeeGeographyReport"?e="donut":(t.widgetType=="EventSalesByTicketsReport"||t.widgetType=="ResponseOverDue",e="pie")});var r="",o="";debugger;let d=document.querySelector("#div_WidgetChart_"+t.action+t.index),y=d.offsetParent.offsetWidth-80;var u=d.offsetParent.offsetHeight-80,l=y;t.action=="ResponseOverDue"&&(r=t.$t("User"),o=t.$t("Tickets")),t.action=="Lead_By_Industry"?(r=t.$t("User"),o=t.$t("Tickets")):t.action=="EventTicketsSoldReport"?(r=t.$t("Date"),o=t.$t("Tickets")):t.action=="EventBudgetReport"?(r=t.$t("Category"),o=t.$t("Budget")):t.action=="EventExpensesReport"&&(r=t.$t("Category"),o=t.$t("Expense"));var f="#div_WidgetChart_"+t.action+t.index;$(f).html("");var h=jc.generate({bindto:f,data:{columns:n,type:e,empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},pie:{label:{format:function(g,v,w){return Kc("")(g)}}},size:{width:l,height:u},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[r],type:"category"},y:{label:{text:o,position:"outer-center"}}}});$(f).data("c3-chart",h)}}}},F5=["id"],O5=["controller","id"],z5={class:"text-danger no-record"};function B5(t,e,n,r,o,u){return st(),pt("div",{id:"pieDiv_"+n.moduleName+"_"+o.action+n.index,class:"w-100 bg-white custom-chart-div t-min-height piechrt text-center"},[V("div",{class:ge({"d-inline-block mt-2 reportBlock  align-center c3 w-60":o.PieWidgetData.length>0,"d-inline-block mt-2 align-center c3 w-60":o.PieWidgetData.length==0}),controller:n.moduleName,id:"div_WidgetChart_"+o.action+n.index,style:Vu({"width:60%; float:left; text-align:center;":o.PieWidgetData.length>0,"width:100%;text-align:center;":o.PieWidgetData.length==0})},[V("span",z5,ct(t.$t("NoRecordfound")),1)],14,O5),Vt(V("div",{class:ge("containerLegend_"+o.action+n.index+" containerLegend100 uniquefixHS custom-chart-legends text-left")},null,2),[[Ie,o.PieWidgetData!=null&&o.PieWidgetData.length>0]])],8,F5)}var X5=Ue(I5,[["render",B5]]);const Y5={props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,index:null},data(){return{action:"Lead_By_Product",charT_TYPE:"donut",DonutWidgetData:[],HeaderData:null,showAddDashboardReport:!1,ChartName:null}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e=`moduleName=${t.moduleName}&reportName=Lead_By_Product&&fromDate=${t.fromDate}&toDate=${t.toDate}&usersDash=`;Ft.GetDashboardData(e).then(function(n){n.data!=null&&n.body!=""&&n.data.status=="Success"&&n.data.result!=null&&(t.DonutWidgetData=n.data.result.data,t.bindWidget(t))})},ResizeReportWidget:function(t,e){var n="#div_WidgetChart_"+this.action+this.index,r=$(n).data("c3-chart");r.revert(),t=="1"?r.resize({height:200,width:440}):$(window).width()<=1280&&$(window).height()<=1024?r.resize({height:350,width:400}):r.resize({height:500,width:700})},bindWidget:function(t){if(t.charT_TYPE=="donut"&&t.DonutWidgetData.length>0){var e="donut",n=[];$.each(t.DonutWidgetData,function(g,v){t.action=="LoggedHoursByProject"?n.push([v.NAME+" ("+v.VALUE+" h)",v.VALUE]):n.push([v.NAME+" ("+v.VALUE+")",v.VALUE])});var r="",o="";let d=document.querySelector("#div_WidgetChart_"+t.action+t.index),y=d.offsetParent.offsetWidth-80;var u=d.offsetParent.offsetHeight-80,l=y;t.action=="ResponseOverDue"?(r=t.$t("User"),o=t.$t("Tickets")):t.action=="EventTicketsSoldReport"?(r=t.$t("Date"),o=t.$t("Tickets")):t.action=="EventBudgetReport"?(r=t.$t("Category"),o=t.$t("Budget")):t.action=="EventExpensesReport"&&(r=t.$t("Category"),o=t.$t("Expense"));var f="#div_WidgetChart_"+t.action+t.index;$(f).html("");var h=jc.generate({bindto:f,data:{columns:n,type:e,empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},pie:{label:{format:function(g,v,w){return Kc("")(g)}}},size:{width:l,height:u},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[r],type:"category"},y:{label:{text:o,position:"outer-center"}}}});$(f).data("c3-chart",h)}},removeReportfromOpenReports(t,e){vm.isLoading=!0,Ft.ReportsRemove("reportId="+t).then(function(n){if(n.data){var r=$(this).parents("div.reportcontainer");$(r).remove(),$(r).show()}else vm.ShowAlert(vm.$t(InsertUpdateError),"failure",!0,vm.$t("Alert")),vm.isLoading=!1})}}},H5=["id"],U5=["controller","id","data-test"],W5={class:"text-danger no-record"};function q5(t,e,n,r,o,u){return st(),pt("div",{id:"DonutDiv_"+n.moduleName+"_"+o.action+n.index,class:"w-100 bg-white t-min-height donut custom-chart-div text-center"},[V("div",{class:ge(o.DonutWidgetData.length>0?"d-inline-block mt-2 reportBlock align-center w-60 c3":"d-inline-block mt-2 align-center w-60 c3"),controller:n.moduleName,id:"div_WidgetChart_"+o.action+n.index,"data-test":o.DonutWidgetData.length,style:Vu(o.DonutWidgetData.length>0?"width:60%; float:left; text-align:right;":"width:100%;text-align:center;")},[V("span",W5,ct(t.$t("NoRecordfound")),1)],14,U5),Vt(V("div",{class:ge("containerLegend_"+o.action+n.index+" containerLegend100 uniquefixHS custom-chart-legends text-left")},null,2),[[Ie,o.DonutWidgetData.length>0]])],8,H5)}var Q5=Ue(Y5,[["render",q5]]);const Z5={props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,DashUsers:null},data:function(){return{action:"RecentlyAddedProjects",charT_TYPE:"table",OpenTicketsWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.fetchRecordsofOpenTickets()},computed:{WidgetData:function(){return this.OpenTicketsWidgetData},WidgetHeaderData:function(){return this.HeaderData}},methods:{fetchRecordsofOpenTickets:function(){var t=this,e="moduleName=Project&reportName=RecentlyAddedProjects&fromDate=2023-03-20&toDate=2023-03-26&usersDash=";Ft.GetDashboardData(e).then(function(n){n.data!=null&&n.data!=""&&n.data.status=="Success"&&(t.HeaderData=n.data.result.headers,n.data.result!=null&&(t.OpenTicketsWidgetData=n.data.result.data))})}}},j5=["id"],J5={class:"listing"},K5={class:"table-responsive border-0"},t$={class:"graph-widget align-self-stretch pl-0"},e$={class:"table table-bordered dt-responsive nowrap mt-0"},n$={class:"thead-bg"},i$=["v-if"],r$=["href"],a$={class:"text-dark"},o$=["href"],s$={key:0},u$={colspan:"20",class:"text-center text-danger"};function c$(t,e,n,r,o,u){return st(),pt("div",{id:"div_"+t.action+t.index,class:"listing"},[V("div",J5,[V("div",K5,[V("div",t$,[V("table",e$,[V("thead",n$,[V("tr",null,[(st(!0),pt(Ut,null,Ce(t.HeaderData,l=>(st(),pt("th",{key:l},[V("span",null,ct(l.column_name),1)]))),128))])]),V("tbody",null,[(st(!0),pt(Ut,null,Ce(t.OpenTicketsWidgetData,(l,f)=>(st(),pt("tr",{key:l,"v-if":t.OpenTicketsWidgetData.length>0},[V("td",null,[V("a",{target:"_blank",href:l.widgetType=="RecentlyAddedProjects"?"/Project/Index":"/FSM/Index?priorityCode="+l.Name+"&PageSize=10&PageNumber=1"},[l.widgetType!="RecentlyAddedProjects"?(st(),pt("i",{key:0,class:ge({"fa fa-exclamation text-white":!0,"icon_ticket_Critical legends_Critical":l.Name=="Critical","icon_ticket_High legends_high":l.Name=="High","icon_ticket_Medium legends_medium":l.Name=="Medium","icon_ticket_Low legends_low":l.Name=="Low","icon_ticket_Critical legends_profile":l.Name=="Emergency"}),"aria-hidden":"true"},null,2)):Xt("",!0),V("span",a$,ct(l.Name),1)],8,r$)]),V("td",null,[V("a",{target:"_blank",href:l.widgetType=="RecentlyAddedProjects"?"/Project/Index":"/FSM/Index?priorityCode="+l.Name+"&PageSize=10&PageNumber=1"},[V("span",{class:ge(l.widgetType=="RecentlyAddedProjects"?"text-center text-dark":"text-dark float-right")},ct(l.Value),3)],8,o$)])],8,i$))),128)),t.OpenTicketsWidgetData.length==0?(st(),pt("tr",s$,[V("td",u$,ct(t.$t("NoRecordfound")),1)])):Xt("",!0)])])])])])],8,j5)}var l$=Ue(Z5,[["render",c$]]);const f$={components:{VueApexCharts:H0},props:{selectedLayout:null},data:function(){return{Columnlist:[],GraphJson:[],RequestFilterJosn:[],Filterlist:[],ExpressionArray:[],ExpressionFieldsArray:[],reportTitle:"",chartTypes:null,isTypeInteger:!1,selectedChartTypeID:null,selectedChartXAxis:"",selectedChartYAxis:"",PreviewChart:!1,aggregateFunctionType:null,aggregateFunctionResult:0,chartseries:[],chartOptions:{},colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],chartOptionXAxisData:[],chartSeriesData:[],selectedChartType:"",resultMsg:"",xfields:[],yfields:[],GraphData:[],GroupingGraphData:[]}},created(){this.GetChartFileds(),console.log(this.selectedLayout);var t=this;t.GetChartType(),t.reportTitle=t.selectedLayout.reportName,this.GetReportDetailsByReportId()},mounted(){$("#modalprojectquickviewpop").modal({backdrop:"static",keyboard:!1}),$("#modalprojectquickviewpop").modal("show")},methods:{async GetReportDetailsByReportId(){var t=this,e="ReportId=6170&IsPaged=1";await Ft.GetReportDetailsbyId(e).then(n=>{n.data!=null&&n.data!=null&&(t.BindFeilds(n.data.JSON_To_Create_ReportListing[0].Info.FIELDS),t.BindFilters(n.data.JSON_To_Create_ReportListing[0].Info.FILTERS),t.BindGROUP(n.data.JSON_To_Create_ReportListing[0].Info.GROUP),t.sortingData=n.data.JSON_To_Create_ReportListing[0].Info.SORTING,t.graphData=n.data.JSON_To_Create_ReportListing[0].Info.GRAPH,t.ExpressionArray=n.data.JSON_To_Create_ReportListing[0].Info.EXPRESSION,t.ExpressionFieldsArray=n.data.JSON_To_Create_ReportListing[0].Info.EXPRESSIONFIELDSARRAY)}).catch(n=>{console.log(n)})},ApplyGraph(){var t=this,e={selectedChartType:t.selectedChartType,selectedChartTypeID:t.selectedChartTypeID,chartseries:t.chartseries,chartoptions:t.chartOptions,aggregateFunctionType:t.aggregateFunctionType,aggregateFunctionResult:t.aggregateFunctionResult,selectedChartXAxis:t.selectedChartXAxis,selectedChartYAxis:t.selectedChartYAxis};t.$parent.DrawGraph(e),t.CloseGraphOptions()},BindFeilds(t){var e=this;t.forEach(n=>{e.Columnlist.push(n)})},BindFilters(t){var e=this;t.length>0&&(e.filtertype=t[0].FilterTypeAndorOr,e.bindfilterdata(t),e.RequestFilterJosn=t.map((n,r)=>{let o=e.Filterlist.findIndex(l=>l.CustomFieldId==n.CustomFieldId),u={};return o!=-1&&(u={CustomFieldId:n.CustomFieldId,FieldName:e.Filterlist[o].FieldName,ActualDataType:n.ActualDataType,FilterCount:r+1,OperatorExpression:n.OperatorExpression,FilterTypeAndorOr:n.FilterTypeAndorOr,OPERATOR_ID:n.OPERATOR_ID,Value1:n.Value1,Value2:n.Value2}),u}))},BindGROUP(t){var e=this;t.forEach(n=>{e.Grouplist.push(n)})},PreviewJson:async function(t){var e=this,n=[],r;t&&(r={Info:{REPORTID:e.selectedLayout.reportId,REPORTNAME:e.selectedLayout.reportName,MODULENAME:"CRM",SUBMODULECODE:"CRM_LEADS",SUBMODULEID:"",PAGESIZE:10,PAGENUMBER:1,IS_PAGED:1,FIELDS:e.Columnlist,FILTERS:e.RequestFilterJosn,GROUP:e.Grouplist,SORTING:n,GRAPH:[],EXPRESSION:e.ExpressionArray,EXPRESSIONFIELDSARRAY:e.ExpressionFieldsArray}}),e.showReportPreview=!0,e.saveJsonReport=r;var o=JSON.stringify(r);console.log("jsondata",o),await Ft.PreviewReport(o).then(u=>{if(t){e.GraphJson=JSON.parse(u.data[0].Value),e.resultMsg=e.aggregateFunctionType,e.PreviewChart=!1,e.GraphJson.MetaData[0].IsGrouping?e.SetGroupingGraphData():e.GroupingGraphData=e.GraphJson.ListingData,e.selectedChartType=e.chartTypes.find(h=>h.id==e.selectedChartTypeID).chart_Type.toLowerCase();var l=e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName,f=e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName;e.SetGraphValues(e.GroupingGraphData,l,f),e.CalculatingAggregateFuncResult(e.aggregateFunctionType),e.DrawGraph(),e.PreviewChart=!0}}).catch(u=>{console.log("Data not Found")})},CloseGraphOptions:function(){$("#modalprojectquickviewpop").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()},GetChartType(){var t=this;Ft.GetChartType().then(e=>{t.chartTypes=e.data})},GetChartFileds(){var t=this,e=`ReportId=${t.selectedLayout.reportId}`;Ft.GetChartFileds(e).then(n=>{console.log(n.data),t.xfields=n.data.xaxis,t.yfields=n.data.yaxis})},ViewReportGraph:async function(){var t=this;t.selectedChartXAxis=10040,t.selectedChartYAxis=10045;var e=!0;await t.PreviewJson([],e)},SetGroupingGraphData(){var t=this;let e=t.GraphJson.ListingData,n=[],r=t.FilterColumnlist(t.selectedChartXAxis).CustomFieldName,o=t.FilterColumnlist(t.selectedChartYAxis).CustomFieldName;Object.keys(e[0])[0]!=null&&Object.keys(e[0])[0]!=""&&t.GraphData.length>0&&(r=Object.keys(e[0])[0],o=Object.keys(e[0].data[0])[0],t.aggregateFunctionType=t.GraphData[0].AggregateFuncField),e.forEach((u,l)=>{if(u[r]!=null)if(t.aggregateFunctionType=="Count")for(var f=u[r]+` (${u.totalRecord})`,h=0;h<=parseInt(u.totalRecord);h++)h==1&&n.push({[r]:f,[o]:u.totalRecord});else u.data.forEach((d,y)=>{if(y==0){var _=u[r];n.push({[r]:_,[o]:d[o]})}else n.push({[o]:d[o]})});else u.data.forEach((d,y)=>{n.push({[r]:d[r],[o]:d[o]})})}),t.GroupingGraphData=n},DrawGraph:function(){var t=this;t.GenrateRandomColorList(),(t.selectedChartType=="bar"||t.selectedChartType=="line")&&(t.chartseries=[{data:t.chartSeriesData}],t.chartOptions={xaxis:{categories:t.chartOptionXAxisData},dataLabels:{enabled:!0}}),(t.selectedChartType=="pie"||t.selectedChartType=="donut")&&(t.chartseries=t.chartSeriesData,t.chartOptions={labels:t.chartOptionXAxisData,colors:t.colourList})},CalculatingAggregateFuncResult:function(t){var e=this;if(t=="Sum"){var n=0;e.chartSeriesData.forEach(l=>{n+=parseInt(l)}),e.aggregateFunctionResult=n}if(t=="Count"){var r=0;r=e.chartSeriesData.length,e.aggregateFunctionResult=r}if(t=="Average"){var o=0,u=0;e.chartSeriesData.forEach(function(l,f){o+=l,u++}),e.aggregateFunctionResult=o/u}t=="Minimum"&&(e.aggregateFunctionResult=Math.min.apply(Math,e.chartSeriesData.filter(Number))),t=="Maximum"&&(e.aggregateFunctionResult=Math.max(...e.chartSeriesData))},CheckFieldType:function(t){var e=this;e.isTypeInteger=!1;var n=e.yfields.find(r=>r.yaxis==t);n&&(n.dataType=="Decimal"||n.dataType=="Int")&&(e.isTypeInteger=!0)},FilterColumnlist(t){debugger;var e=this;let n,r;for(let[o]of e.Columnlist.entries())e.Columnlist[o].CustomFieldId==t&&(e.Columnlist[o].DisplayName!=null&&e.Columnlist[o].DisplayName!=""?n=e.Columnlist[o].DisplayName:n=e.Columnlist[o].FieldName,r=e.Columnlist[o].ColumnFieldDataCode);return{CustomFieldName:n,ColumnFieldType:r}},SetGraphValues(t,e,n){debugger;var r=this;r.chartOptionXAxisData=[],r.chartSeriesData=[],t.forEach(o=>{e in o&&(o[e]!=null&&o[e]!=null?(r.chartOptionXAxisData.push(o[e]),r.BindXYFields(o,e,n)):o[n]!=null&&o[n]!=null&&(typeof e=="string"?r.chartOptionXAxisData=[...r.chartOptionXAxisData,"-"]:r.chartOptionXAxisData=[...r.chartOptionXAxisData,0],r.BindXYFields(o,e,n)))})},BindXYFields:function(t,e,n){var r=this;if(n in t)if(t[n]!=null&&t[n]!=null)if(typeof t[n]=="string"){var o=t[n].replace(/[$€£]/g,"");r.chartSeriesData.push(parseInt(o))}else r.chartSeriesData.push(t[n]);else r.chartSeriesData=[...r.chartSeriesData,0]},GenrateRandomColorCode(){const t=Math.floor(Math.random()*16777215).toString(16);return"#"+t},GenrateRandomColorList(){for(var t=this;t.colourList.length<t.chartSeriesData.length;){let e;e=t.GenrateRandomColorCode(),t.colourList.find(r=>r==e)||t.colourList.push(e)}}}},h$={id:"modalprojectquickviewpop",role:"dialog",class:"modal my-popups right fade"},d$={role:"document",class:"modal-dialog mw-1100"},p$={class:"modal-content"},g$={class:"modal-header mheader-user"},y$=V("em",{"aria-hidden":"true",class:"fa fa-times"},null,-1),_$=[y$],m$={id:"myModalLabel",class:"modal-title"},v$={class:"user-guide"},x$={class:"ancuserguide","data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},w$={id:"collapseReplyUG",class:"divancuserguide collapse"},b$={id:"scrollbarreplyuserguideMangeView",class:"custom-scrollbar-js"},S$={class:"con"},T$={class:"modal-body p-3"},A$={class:"container-fluid tab-content"},C$={class:"row"},$$={class:"col-sm-12 col-lg-6 float-left leftsideicon pl-0 py-3 border"},P$={class:"col-lg-12"},L$={class:"form-group"},M$={class:"col-lg-12"},E$={class:"form-group"},k$=V("span",{class:"text-danger"},"*",-1),R$=["for"],D$=["value","id"],G$={class:"d-block pb-2"},V$={key:0,name:"ChartTypes",class:"invalid-feedback"},N$={class:"col-lg-12"},I$={class:"form-group"},F$=V("span",{class:"text-danger"},"*",-1),O$={class:"input-group"},z$=V("option",{value:"",disabled:""},"Select",-1),B$=["value"],X$={key:0,name:"selectedChartXAxis",class:"invalid-feedback"},Y$={class:"col-lg-12"},H$={class:"form-group"},U$=V("span",{class:"text-danger"},"*",-1),W$={class:"input-group"},q$=V("option",{value:"",disabled:""},"Select",-1),Q$=["value"],Z$={key:0,name:"selectedChartYAxis",class:"invalid-feedback"},j$={class:"col-lg-12"},J$={key:0,class:"form-group"},K$={class:"input-group"},t8={class:"col-sm-12 col-lg-6 p-3 bg-light border"},e8={class:"heading-border"},n8={class:"h5"},i8={class:"text-center my-3 w-100 float-left"},r8={key:0,class:"col-sm-12 col-lg-12 px-0 py-4 float-left bg-white"},a8={key:0,class:"text-center"},o8={href:"#"},s8={class:"col-12 p-0 mt-3 float-left"},u8={class:"row flex-row-reverse"},c8={class:"col-lg-6 text-right"},l8=V("em",{class:"fa fa-share pr-2"},null,-1);function f8(t,e,n,r,o,u){const l=Gt("loader"),f=Gt("Field"),h=Gt("VueApexCharts"),d=Gt("Form");return st(),pt(Ut,null,[V("div",h$,[V("div",d$,[V("div",p$,[V("div",g$,[V("button",{type:"button",class:"close",onClick:e[0]||(e[0]=y=>u.CloseGraphOptions())},_$),V("h4",m$,ct(t.$t("Widget Setting")),1),V("span",v$,[V("a",x$,ct(t.$t("GuideForUser")),1),V("div",w$,[V("div",b$,[V("div",S$,ct(t.$t("MangeViewUG1")),1)])])])]),V("div",T$,[te(l,{"is-visible":t.isLoading},null,8,["is-visible"]),V("div",A$,[te(d,{ref:"form"},{default:ln(({values:y,meta:_})=>[V("div",C$,[V("div",$$,[V("div",P$,[V("div",L$,[V("label",null,ct(t.$t("ReportTitle"))+" :",1),Vt(V("input",{"onUpdate:modelValue":e[1]||(e[1]=g=>t.reportTitle=g),placeholder:"Report Title",class:"form-control",type:"text",maxlength:"50",disabled:""},null,512),[[xh,t.reportTitle]])])]),V("div",M$,[V("div",E$,[te(f,{name:"ChartTypes",rules:{required:!0},label:"Chart Type"},{default:ln(({field:g,errorMessage:v,meta:w})=>[V("label",null,[It(ct(t.$t("ChartTypes")),1),k$]),V("div",{class:ge(["user_type_choice coloredicons row",{"":!0,"is-invalid":w.touched&&!w.valid&&!t.selectedChartTypeID}])},[(st(!0),pt(Ut,null,Ce(t.chartTypes,(b,T)=>(st(),pt("div",{class:"btn-group btn-group-toggle mb-2","data-toggle":"buttons",key:T},[V("label",{class:ge({"btn btn_cstm":!0,active:b.id==t.selectedChartTypeID}),for:"cls_usertype"+T},[Vt(V("input",rr(g,{type:"radio",value:b.id,name:"cls_usertype",id:"cls_usertype"+T,"onUpdate:modelValue":e[2]||(e[2]=A=>t.selectedChartTypeID=A)}),null,16,D$),[[Jn,t.selectedChartTypeID]]),V("span",G$,[V("em",{class:ge([b.chart_Type=="Pie"?"fa fa-pie-chart bg-transparent":"",b.chart_Type=="Bar"?"fa fa-bar-chart bg-transparent":"",b.chart_Type=="Line"?"fa fa-line-chart bg-transparent":"",b.chart_Type=="Donut"?"fa fa-circle-o-notch bg-transparent":""]),"aria-hidden":"true"},null,2)])],10,R$)]))),128))],2),w.touched&&!w.valid?(st(),pt("span",V$,ct(v),1)):Xt("",!0)]),_:2},1024)])]),V("div",N$,[V("div",I$,[te(f,{name:"selectedChartXAxis",rules:{required:!0},modelValue:t.selectedChartXAxis,"onUpdate:modelValue":e[3]||(e[3]=g=>t.selectedChartXAxis=g),label:"X Axis"},{default:ln(({field:g,errorMessage:v,meta:w})=>[V("label",null,[It(ct(t.$t("XAXIS")),1),F$]),V("div",O$,[V("select",rr(g,{class:{"form-control":!0,"is-invalid":w.touched&&!w.valid&&!t.selectedChartXAxis}}),[z$,(st(!0),pt(Ut,null,Ce(t.xfields,b=>(st(),pt("option",{value:b.xaxis,key:b.xaxis},ct(b.displayName),9,B$))),128))],16),w.touched&&!w.valid?(st(),pt("span",X$,ct(v),1)):Xt("",!0)])]),_:2},1032,["modelValue"])])]),V("div",Y$,[V("div",H$,[V("label",null,[It(ct(t.$t("YAXIS")),1),U$]),V("div",W$,[te(f,{name:"selectedChartYAxis",rules:{required:!0},modelValue:t.selectedChartYAxis,"onUpdate:modelValue":e[5]||(e[5]=g=>t.selectedChartYAxis=g),label:"Y Axis"},{default:ln(({field:g,errorMessage:v,meta:w})=>[V("select",rr(g,{onChange:e[4]||(e[4]=b=>u.CheckFieldType(t.selectedChartYAxis)),class:{"form-control":!0,"is-invalid":w.touched&&!w.valid&&!t.selectedChartYAxis}}),[q$,(st(!0),pt(Ut,null,Ce(t.yfields,b=>(st(),pt("option",{key:b,value:b.yaxis},ct(b.displayName),9,Q$))),128))],16),w.touched&&!w.valid?(st(),pt("span",Z$,ct(v),1)):Xt("",!0)]),_:2},1032,["modelValue"])])])]),V("div",j$,[t.isTypeInteger?(st(),pt("div",J$,[V("label",null,ct(t.$t("ViewAs"))+":",1),V("div",K$,[Vt(V("input",{name:"sum","onUpdate:modelValue":e[6]||(e[6]=g=>t.aggregateFunctionType=g),value:"Sum",type:"radio",class:"mr-2"},null,512),[[Jn,t.aggregateFunctionType]]),It(ct(t.$t("Sum"))+" ",1),Vt(V("input",{name:"sum","onUpdate:modelValue":e[7]||(e[7]=g=>t.aggregateFunctionType=g),value:"Count",type:"radio",class:"mr-2 ml-3"},null,512),[[Jn,t.aggregateFunctionType]]),It(ct(t.$t("Count"))+" ",1),Vt(V("input",{name:"sum","onUpdate:modelValue":e[8]||(e[8]=g=>t.aggregateFunctionType=g),value:"Average",type:"radio",class:"mr-2 ml-3"},null,512),[[Jn,t.aggregateFunctionType]]),It(ct(t.$t("Average"))+" ",1),Vt(V("input",{name:"sum","onUpdate:modelValue":e[9]||(e[9]=g=>t.aggregateFunctionType=g),value:"Minimum",type:"radio",class:"mr-2 ml-3"},null,512),[[Jn,t.aggregateFunctionType]]),It(ct(t.$t("Min"))+" ",1),Vt(V("input",{name:"sum","onUpdate:modelValue":e[10]||(e[10]=g=>t.aggregateFunctionType=g),value:"Maximum",type:"radio",class:"mr-2 ml-3"},null,512),[[Jn,t.aggregateFunctionType]]),It(ct(t.$t("Max")),1)])])):Xt("",!0)])]),V("div",t8,[V("div",e8,[V("h5",n8,[V("span",null,ct(t.$t("Preview")),1)])]),V("span",i8,[It(ct(t.reportTitle)+" - ",1),V("a",{href:"javascript:void(0)",type:"button",class:"btn btn-info",onClick:e[11]||(e[11]=(...g)=>u.ViewReportGraph&&u.ViewReportGraph(...g))},ct(t.$t("ViewReport")),1)]),t.PreviewChart?(st(),pt("div",r8,[te(h,{type:t.selectedChartType,options:t.chartOptions,series:t.chartseries},null,8,["type","options","series"]),t.aggregateFunctionResult!=0?(st(),pt("div",a8,[V("a",o8,ct(t.resultMsg)+" : "+ct(t.aggregateFunctionResult),1)])):Xt("",!0)])):Xt("",!0)])])]),_:1},512)]),V("div",s8,[V("div",u8,[V("div",c8,[V("a",{class:"btn btn-success ancsaveuserticket",onClick:e[12]||(e[12]=(...y)=>u.ApplyGraph&&u.ApplyGraph(...y))},[l8,It(ct(t.$t("Apply")),1)])])])])])])])]),te(l,{"is-visible":t.isLoading},null,8,["is-visible"])],64)}var h8=Ue(f$,[["render",f8]]);const d8=[{x:0,y:0,w:2,h:2,i:"0"},{x:2,y:0,w:2,h:4,i:"1"},{x:4,y:0,w:2,h:5,i:"2"},{x:6,y:0,w:2,h:3,i:"3"},{x:8,y:0,w:2,h:3,i:"4"},{x:10,y:0,w:2,h:3,i:"5"},{x:0,y:5,w:2,h:5,i:"6"},{x:2,y:5,w:2,h:5,i:"7"},{x:4,y:5,w:2,h:5,i:"8"},{x:6,y:4,w:2,h:4,i:"9"},{x:8,y:4,w:2,h:4,i:"10"},{x:10,y:4,w:2,h:4,i:"11"},{x:0,y:10,w:2,h:5,i:"12"},{x:2,y:10,w:2,h:5,i:"13"},{x:4,y:8,w:2,h:4,i:"14"},{x:6,y:8,w:2,h:4,i:"15"},{x:8,y:10,w:2,h:5,i:"16"},{x:10,y:4,w:2,h:2,i:"17"},{x:0,y:9,w:2,h:3,i:"18"},{x:2,y:6,w:2,h:2,i:"19"}],p8={components:{BarChart:N5,PieChart:X5,DonutChart:Q5,TableChart:l$,WidgetSetting:h8},props:{reports:null,fromDate:null,toDate:null},data(){return{layout:JSON.parse(JSON.stringify(d8)),colNum:0,index:0,draggable:!0,resizable:!0,compact:!0,selectedTab:null,isLoading:!0,showWidgetsetting:!1,reportName:null,selectedLayout:null}},mounted(){this.index=this.layout.length},created(){this.CreateReportWidget(),this.isLoading=!1},methods:{ExpandCollapseReport:function(t,e){$(t.target).closest(".vue-grid-item").width(996).height(390)},onResizeStop:function(t){switch(t.chartType){case"Bar":this.$refs["bar"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Pie":this.$refs["pie"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Donut":this.$refs["donut"+t.reportId+"_"+t.widgetId][0].FetchData();break;default:this.$refs["table"+t.reportId+"_"+t.widgetId][0].FetchData();break}},CreateReportWidget(){console.log(this.reports);var t=this;t.layout=[];for(let e=0;e<t.reports.length;e++)t.layout.push({reportId:t.reports[e].reportId,widgetId:t.reports[e].widgetId,reportName:t.reports[e].reportName,chartType:t.reports[e].chartType,x:parseInt(t.reports[e].xaxis),y:parseInt(t.reports[e].yaxis),w:2,h:2,i:e})},increaseWidth:function(){let t=document.getElementById("content").offsetWidth;t+=20,document.getElementById("content").style.width=t+"px"},decreaseWidth:function(){let t=document.getElementById("content").offsetWidth;t-=20,document.getElementById("content").style.width=t+"px"},removeItem:function(t){console.log("### REMOVE "+t);const e=this.layout.map(n=>n.i).indexOf(t);this.layout.splice(e,1)},openWidgetSetting(t){this.selectedLayout=t,this.showWidgetsetting=!this.showWidgetsetting},addItem:function(){const t={x:0,y:0,w:2,h:2,i:this.index+"",whatever:"bbb"};this.index++,this.layout.push(t)}}},g8={style:{width:"100%"}},y8={class:"content"},_8={class:ge({"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0}),style:{height:"inherit"}},m8={class:"dashboard-boxes graph-widget-box bg-white"},v8={class:"graph-widget-heading float-left w-100"},x8={class:"text-truncate float-left w-75"},w8={class:"mw-80 float-right"},b8=["onClick"],S8=V("span",{class:"icon_close"},[V("i",{class:"fa fa-times"})],-1),T8=[S8],A8=["onClick"],C8=V("span",{class:"icon_expand"},[V("i",{class:"fa fa-cog"})],-1),$8=[C8],P8={class:ge({"raph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":!0})};function L8(t,e,n,r,o,u){const l=Gt("bar-chart"),f=Gt("PieChart"),h=Gt("DonutChart"),d=Gt("TableChart"),y=Gt("grid-item"),_=Gt("WidgetSetting"),g=Gt("grid-layout");return st(),pt("div",g8,[V("div",y8,[te(g,{layout:o.layout,"onUpdate:layout":e[0]||(e[0]=v=>o.layout=v),"col-num":6,"row-height":190,"is-draggable":o.draggable,"is-resizable":o.resizable,"vertical-compact":!1,"use-css-transforms":!0},{default:ln(()=>[(st(!0),pt(Ut,null,Ce(o.layout,v=>(st(),Ze(y,{key:v.i,x:v.x,y:v.y,w:v.w,h:v.h,i:v.i,onResized:w=>u.onResizeStop(v)},{default:ln(()=>[V("div",_8,[V("div",m8,[V("div",v8,[V("span",x8,ct(v.reportName),1),V("div",w8,[V("a",{href:"javascript:;",class:"hlkDeleteReport float-right",title:"Remove",onClick:w=>u.removeItem(v.i)},T8,8,b8),V("a",{href:"javascript:;",onClick:w=>u.openWidgetSetting(v),class:"float-right"},$8,8,A8)])]),V("div",P8,[v.chartType&&v.chartType=="Bar"?(st(),Ze(l,{key:0,ref_for:!0,ref:"bar"+v.reportId+"_"+v.widgetId,fromDate:n.fromDate,toDate:n.toDate,moduleName:"CRM",index:v.i,reportName:v.reportName,chartType:v.chartType},null,8,["fromDate","toDate","index","reportName","chartType"])):Xt("",!0),v.chartType&&v.chartType=="Pie"?(st(),Ze(f,{key:1,ref_for:!0,ref:"pie"+v.reportId+"_"+v.widgetId,fromDate:n.fromDate,toDate:n.toDate,moduleName:"CRM",index:v.i,reportName:v.reportName,chartType:v.chartType},null,8,["fromDate","toDate","index","reportName","chartType"])):Xt("",!0),v.chartType&&v.chartType=="Donut"?(st(),Ze(h,{key:2,ref_for:!0,ref:"donut"+v.reportId+"_"+v.widgetId,fromDate:n.fromDate,toDate:n.toDate,moduleName:"CRM",index:v.i,reportName:v.reportName,chartType:v.chartType},null,8,["fromDate","toDate","index","reportName","chartType"])):Xt("",!0),v.chartType?Xt("",!0):(st(),Ze(d,{key:3,fromDate:n.fromDate,ref_for:!0,ref:"table"+v.reportId+"_"+v.widgetId,toDate:n.toDate,moduleName:"Project",index:v.i,reportName:v.reportName,chartType:v.chartType},null,8,["fromDate","toDate","index","reportName","chartType"]))])])])]),_:2},1032,["x","y","w","h","i","onResized"]))),128)),o.showWidgetsetting?(st(),Ze(_,{key:0,selectedLayout:o.selectedLayout},null,8,["selectedLayout"])):Xt("",!0)]),_:1},8,["layout","is-draggable","is-resizable"])])])}var M8=Ue(p8,[["render",L8]]);const E8={props:{pgaction:null},data(){return{isLoading:!1,fromDate:null,toDate:null,eval:"",evaltype:"",showPin:!1}},created(){this.ClickTimer("Week",this,this.pgaction)},mounted(){$("#DivTimer_global").addClass("d-none")},methods:{searchGoclick(t,e){var n=this;$("#hdnViewId").val(""),$(".btnPin").hide(),n.$emit("set-date",$("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val())},SearchRecord(t,e){var n=e,r=$("#txtFromDate_"+n).val(),o=$("#txtToDate_"+n).val();$("#aDateLable_"+n).html();var u=$(t).closest(".ticketingDashboardHead").attr("dctrl"),l=$(t).closest(".ticketingDashboardHead").attr("daction"),f=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+u+"/"+l,data:{fromDate:r,toDate:o},type:"get",async:!0,cache:!1,success:function(h){f.empty(),f.append(h)},error:function(){}})},ClickTimer(t,e,n){var r=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),$(e).closest("div.DatePopUp").attr("data-pageaction")=="global"?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),r.isLoading=!0,r.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each(function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()}),t=="Today"?r.GetStartEndDates(t,e,n):t=="Yesterday"?r.GetStartEndDates("yesterday",e,n):t=="Week"?r.GetStartEndDates("thisweek",e,n):t=="LastWeek"?r.GetStartEndDates("lastweek",e,n):t=="Month"?r.GetStartEndDates("thismonth",e,n):t=="LastMonth"?r.GetStartEndDates("lastmonth",e,n):t=="AllTime"&&r.GetStartEndDates("thisyear",e,n),r.isLoading=!1):(t=="Today"?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),r.GetStartEndDates(t,e,n)):t=="Yesterday"?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),r.GetStartEndDates("yesterday",e,n)):t=="Week"?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),r.GetStartEndDates("thisweek",e,n)):t=="LastWeek"?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),r.GetStartEndDates("lastweek",e,n)):t=="Month"?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),r.GetStartEndDates("thismonth",e,n)):t=="LastMonth"?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),r.GetStartEndDates("lastmonth",e,n)):t=="AllTime"&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),r.GetStartEndDates("thisyear",e,n)),r.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show()},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,n){var r=this;r.isLoading=!0;var o=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;Ft.GetStartEndDate_New(o).then(function(u){r.isLoading=!1;var l=u.data;r.fromDate=l.dateStart,r.toDate=l.dateEnd,$("#txtFromDate_"+n).val(l.dateStart),$("#txtToDate_"+n).val(l.dateEnd),$("#aDateLable_"+n).find("em").text(l.displayText),r.$emit("set-date",l.dateStart,l.dateEnd)})}}},k8=["id","data-pageaction"],R8={class:"table-responsive AssetDatePopUp d-block"},D8={class:"daterangebody"},G8={class:"daterangetr",ref:"daterange"},V8={class:"sep daterangetd"},N8={class:"date_select"},I8={id:"1"},F8=["title"],O8={id:"pin1",class:"fa fa-thumb-tack mt-1 pinhide inpinner","aria-hidden":"true"},z8={id:"2"},B8=["title"],X8={id:"pin2",class:"fa fa-thumb-tack mt-1 inpinner pinhide","aria-hidden":"true"},Y8={id:"3"},H8=["title"],U8={id:"pin3",class:"fa fa-thumb-tack mt-1 pinhide inpinner","aria-hidden":"true"},W8={id:"4"},q8=["title"],Q8={id:"pin4",class:"fa fa-thumb-tack mt-1 pinhide inpinner","aria-hidden":"true"},Z8={valign:"top",class:"daterangetd"},j8={class:"date_select"},J8={id:"5"},K8=["title"],t6={id:"pin5",class:"fa fa-thumb-tack mt-1 pinhide inpinner","aria-hidden":"true"},e6={id:"6"},n6=["title"],i6={id:"pin6",class:"fa fa-thumb-tack mt-1 pinhide inpinner","aria-hidden":"true"},r6={id:"7"},a6=["title"],o6={id:"pin7",class:"fa fa-thumb-tack mt-1 pinhide inpinner","aria-hidden":"true"},s6={class:"float-left p-0 m-0 mt-1 col-12 daterangetr"},u6={class:"col-4 m-1 daterangetd float-left table_datepickerfix"},c6=V("label",null,"From",-1),l6=V("br",null,null,-1),f6=["id","value"],h6={class:"col-4 m-1 daterangetd float-left table_datepickerfix"},d6=V("label",null,"To",-1),p6=V("br",null,null,-1),g6=["id","value"],y6={class:"col-2 m-1 ml-2 daterangetd float-left table_datepickerfix"},_6=["id"],m6=V("input",{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."},null,-1),v6=V("input",{type:"hidden",id:"ReportViewer",name:"returnType"},null,-1),x6=["value"],w6=V("input",{type:"hidden",id:"hdnViewId",name:"viewid"},null,-1),b6=V("input",{type:"hidden",id:"hdnPinnedViewId",name:"viewid"},null,-1);function S6(t,e,n,r,o,u){const l=Gt("v-date-picker");return st(),pt(Ut,null,[V("div",{id:"DivTimer_"+n.pgaction,"data-pageaction":n.pgaction,class:"DatePopUp dynamicdb divtimer_design p-1"},[V("table",R8,[V("tbody",D8,[V("tr",G8,[V("td",V8,[V("ul",N8,[V("li",I8,[V("a",{title:t.$t("Today"),id:"aToday",typ:"Today",class:"Today",onClick:e[0]||(e[0]=f=>{u.ClickTimer("Today",this,n.pgaction)})},ct(t.$t("Today")),9,F8),Vt(V("i",O8,null,512),[[Ie,o.showPin]])]),V("li",z8,[V("a",{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday",class:"Yesterday",onClick:e[1]||(e[1]=f=>{u.ClickTimer("Yesterday",this,n.pgaction)})},ct(t.$t("Yesterday")),9,B8),Vt(V("i",X8,null,512),[[Ie,o.showPin]])]),V("li",Y8,[V("a",{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week",class:"Week",onClick:e[2]||(e[2]=f=>{u.ClickTimer("Week",this,n.pgaction)})},ct(t.$t("ThisWeek")),9,H8),Vt(V("i",U8,null,512),[[Ie,o.showPin]])]),V("li",W8,[V("a",{title:t.$t("AllTime"),id:"aAll",typ:"AllTime",class:"AllTime",onClick:e[3]||(e[3]=f=>{u.ClickTimer("AllTime",this,n.pgaction)})},ct(t.$t("ThisYear")),9,q8),Vt(V("i",Q8,null,512),[[Ie,o.showPin]])])])]),V("td",Z8,[V("ul",j8,[V("li",J8,[V("a",{id:"aLastWeek",class:"LastWeek",typ:"LastWeek",title:t.$t("LastWeek"),onClick:e[4]||(e[4]=f=>{u.ClickTimer("LastWeek",this,n.pgaction)})},ct(t.$t("LastWeek")),9,K8),Vt(V("i",t6,null,512),[[Ie,o.showPin]])]),V("li",e6,[V("a",{id:"aMonth",class:"Month",typ:"Month",title:t.$t("ThisMonth"),onClick:e[5]||(e[5]=f=>{u.ClickTimer("Month",this,n.pgaction)})},ct(t.$t("ThisMonth")),9,n6),Vt(V("i",i6,null,512),[[Ie,o.showPin]])]),V("li",r6,[V("a",{id:"aLastMonth",class:"LastMonth",typ:"LastMonth",title:t.$t("LastMonth"),onClick:e[6]||(e[6]=f=>{u.ClickTimer("LastMonth",this,n.pgaction)})},ct(t.$t("LastMonth")),9,a6),Vt(V("i",o6,null,512),[[Ie,o.showPin]])])])])],512),V("tr",s6,[V("td",u6,[c6,l6,te(l,{modelValue:o.fromDate,"onUpdate:modelValue":e[7]||(e[7]=f=>o.fromDate=f),mode:"date"},{default:ln(({inputValue:f,inputEvents:h})=>[V("input",rr({id:"txtFromDate_"+n.pgaction,name:"startDate",class:"textfield2 ie_crossicon_none FromDate form-control p-1",value:f},el(h)),null,16,f6)]),_:1},8,["modelValue"])]),V("td",h6,[d6,p6,te(l,{modelValue:o.toDate,"onUpdate:modelValue":e[8]||(e[8]=f=>o.toDate=f),mode:"date"},{default:ln(({inputValue:f,inputEvents:h})=>[V("input",rr({id:"txtToDate_"+n.pgaction,name:"endDate",class:"textfield2 ie_crossicon_none ToDate form-control p-1",value:f},el(h)),null,16,g6)]),_:1},8,["modelValue"])]),V("td",y6,[V("input",{type:"button",id:"btnsearch_"+n.pgaction,class:"btn btn-success float-left p-1 p-1 pl-4 pr-4","data-result":"btnsearch",value:"Go",onClick:e[9]||(e[9]=f=>{u.searchGoclick(this,n.pgaction)})},null,8,_6)])])])])],8,k8),m6,v6,V("input",{type:"hidden",id:"pgaction",name:"pgaction",value:n.pgaction},null,8,x6),w6,b6],64)}var T6=Ue(E8,[["render",S6]]);const A6={components:{ModalAddDashboard:Dy,ModalAddReport:__,ReportLayout:M8,daterange:T6},data:function(){return{isLoading:!1,showAdddashboard:!1,showAddReport:!1,dashsbords:[],dashboardid:"0",reports:[],showFilters:!1,showpopup:!1,StateList:[],fromDate:null,toDate:null,clientByCompany:[],selectedClient:[],isDropdownOpen:!1}},created:function(){this.GetDashboard(),this.GetStateListByCountryCode(),this.GetParentClientByCompanyIdForGroup_New()},methods:{updateSelectedOptions(){this.selectedClient=this.clientByCompany.filter(t=>t.selected)},SetDateRange(t,e){this.fromDate=t,this.toDate=e,this.GetDashboard()},OpenDatePopUp(t){this.showpopup=!this.showpopup,$("#DivTimer_global").toggleClass("d-none")},openFilters(){this.showFilters=!this.showFilters},opendashborad(){this.showAdddashboard=!0},openReport(){this.showAddReport=!0},GetDashboard:function(){var t=this;Ft.GetDashboard().then(e=>{t.dashsbords=e.data,t.dashsbords.length&&(t.dashboardid=t.dashsbords[0].value,t.onchangeView())})},onchangeView:function(){var t=this,e=`dashboardId=${t.dashboardid}`;Ft.GetDashboardReport(e).then(function(n){var r=n.data;t.reports=[],setTimeout(()=>{t.reports=r},100)})},GetStateListByCountryCode:function(){var t=this,e="countryId=223&includeCandaState=true";Ft.GetStateListByCountryCode(e).then(n=>{t.StateList=n.data})},GetParentClientByCompanyIdForGroup_New:function(){var t=this;Ft.GetParentClientByCompanyIdForGroup_New().then(e=>{t.clientByCompany=e.data})},toggleMenu(t){$(t.target).parent().parent().find(".dropdown-menu").toggleClass("d-block")}}},C6={class:"page-action"},$6={class:"container-fluid px-0"},P6={class:"row"},L6=V("input",{type:"hidden",value:"@titleName",id:"hdnModuleName"},null,-1),M6={class:"col-md-12 padding-t_8"},E6={class:"theme-primary partition p-actions-expand",style:{overflow:"visible"}},k6={title:"dashbord",class:"p-name text-white px-2"},R6=["value"],D6={class:"p-actions float-right"},G6=V("i",{class:"fa fa-filter","aria-hidden":"true"},null,-1),V6=V("br",null,null,-1),N6=V("i",{class:"fa fa-dashboard","aria-hidden":"true"},null,-1),I6=V("br",null,null,-1),F6=V("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1),O6=V("br",null,null,-1),z6=V("i",{class:"fa fa-calendar","aria-hidden":"true"},null,-1),B6=V("br",null,null,-1),X6={class:"p-2"},Y6={class:"p-2"},H6={class:"selected-options"},U6={class:"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},W6=["value","onUpdate:modelValue"],q6={class:"p-2"},Q6={class:"form-control"},Z6={value:""},j6={class:"row flex-row-reverse mt-2"},J6={class:"col-lg-6 text-right"},K6=["title"],tP=V("i",{class:"fa fa-search"},null,-1),eP=[tP],nP=["title"],iP=V("i",{class:"fa fa-refresh"},null,-1),rP=[iP],aP=V("span",{class:"collapse-head-btns"},[V("a",{href:"javascript:;",class:"collapse-btns"},[V("i",{class:"fa fa-angle-up text-white"})])],-1);function oP(t,e,n,r,o,u){const l=Gt("daterange"),f=Gt("Multiselect"),h=Gt("ReportLayout"),d=Gt("ModalAddDashboard"),y=Gt("ModalAddReport"),_=Gt("loader");return st(),pt(Ut,null,[V("section",C6,[V("div",$6,[V("div",P6,[L6,V("div",M6,[V("div",E6,[V("span",k6,[Vt(V("select",{class:"form-control customized_ddl",name:"dashsbords","onUpdate:modelValue":e[0]||(e[0]=g=>t.dashboardid=g),onChange:e[1]||(e[1]=g=>u.onchangeView(g))},[(st(!0),pt(Ut,null,Ce(t.dashsbords,g=>(st(),pt("option",{value:g.value,key:g},ct(g.name),9,R6))),128))],544),[[X0,t.dashboardid]])]),V("span",D6,[V("a",{href:"javascript:;",class:"p-action-btn text-white link",onClick:e[2]||(e[2]=(...g)=>u.openFilters&&u.openFilters(...g))},[G6,V6,It(" "+ct(t.$t("Filters")),1)]),V("a",{href:"javascript:;",class:"p-action-btn text-white",id:"teamview",onClick:e[3]||(e[3]=(...g)=>u.opendashborad&&u.opendashborad(...g))},[N6,I6,It(ct(t.$t("Add Dashboard")),1)]),V("a",{href:"javascript:;",class:"p-action-btn text-white",id:"teamview",onClick:e[4]||(e[4]=(...g)=>u.openReport&&u.openReport(...g))},[F6,O6,It(ct(t.$t("AddReport")),1)]),V("a",{href:"javascript:;",class:"p-action-btn text-white",id:"teamview",onClick:e[5]||(e[5]=g=>u.OpenDatePopUp(g))},[z6,B6,It(ct(t.$t("This Weak")),1)]),te(l,{pgaction:"global",showDateRange:t.showpopup,onSetDate:u.SetDateRange},null,8,["showDateRange","onSetDate"])]),V("span",{class:ge({"action-list-box2 expand":!0,"d-none":t.showFilters==!1})},[V("span",X6,[te(f,{modelValue:t.stateID,"onUpdate:modelValue":e[6]||(e[6]=g=>t.stateID=g),placeholder:"Select State",searchable:!0,options:t.StateList,"track-by":"value",label:"name"},null,8,["modelValue","options"])]),V("span",Y6,[V("div",{class:"dropdown",onClick:e[11]||(e[11]=g=>t.isDropdownOpen=!t.isDropdownOpen)},[V("div",H6,[t.selectedClient.length===0?(st(),pt("span",{key:0,role:"button",class:"form-control dropdown-toggle","data-toggle":"dropdown",onClick:e[7]||(e[7]=g=>u.toggleMenu(g))},"Select options")):t.selectedClient.length===1?(st(),pt("span",{key:1,role:"button",class:"form-control dropdown-toggle","data-toggle":"dropdown",onClick:e[8]||(e[8]=g=>u.toggleMenu(g))},ct(t.selectedClient[0].text),1)):(st(),pt("span",{key:2,role:"button",class:"form-control dropdown-toggle","data-toggle":"dropdown",onClick:e[9]||(e[9]=g=>u.toggleMenu(g))},ct(t.selectedClient.length)+" options selected",1))]),Vt(V("div",U6,[(st(!0),pt(Ut,null,Ce(t.clientByCompany,g=>(st(),pt("div",{class:"option",key:g.value},[V("label",null,[Vt(V("input",{type:"checkbox",value:g.value,"onUpdate:modelValue":v=>g.selected=v,onChange:e[10]||(e[10]=(...v)=>u.updateSelectedOptions&&u.updateSelectedOptions(...v))},null,40,W6),[[Y0,g.selected]]),It(" "+ct(g.text),1)])]))),128))],512),[[Ie,t.isDropdownOpen]])])]),V("span",q6,[V("select",Q6,[V("option",Z6,ct(t.$t("Biller"))+" "+ct(t.$t("Assigned")),1)])]),V("div",j6,[V("div",J6,[V("a",{href:"javascript:;",id:"aSearch",title:t.$t("Search"),name:"aSearch",class:"btn btn-success formbtn text-white mr-1",onClick:e[12]||(e[12]=(...g)=>t.onSearch&&t.onSearch(...g))},eP,8,K6),V("a",{href:"javascript:;",title:t.$t("Reset"),id:"aClear",class:"btn btn-danger formbtn widthhalf btnCancel",onClick:e[13]||(e[13]=(...g)=>t.onReset&&t.onReset(...g))},rP,8,nP)])])],2),aP]),t.reports.length>0&&t.fromDate?(st(),Ze(h,{key:0,onRefreshData:u.GetDashboard,reports:t.reports,fromDate:t.fromDate,toDate:t.toDate},null,8,["onRefreshData","reports","fromDate","toDate"])):Xt("",!0)])]),t.showAdddashboard?(st(),Ze(d,{key:0})):Xt("",!0),t.showAddReport?(st(),Ze(y,{key:1,dashboardid:t.dashboardid},null,8,["dashboardid"])):Xt("",!0)])]),te(_,{"is-visible":t.isLoading},null,8,["is-visible"])],64)}var cP=Ue(A6,[["render",oP]]);export{cP as default};
